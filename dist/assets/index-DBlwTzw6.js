function $m(e,t){for(var r=0;r<t.length;r++){const A=t[r];if(typeof A!="string"&&!Array.isArray(A)){for(const s in A)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(A,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>A[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))A(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&A(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function A(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function A(){return this instanceof A?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(A){var s=Object.getOwnPropertyDescriptor(e,A);Object.defineProperty(r,A,s.get?s:{enumerable:!0,get:function(){return e[A]}})}),r}var ew={exports:{}},f0={},tw={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=Symbol.for("react.element"),Zv=Symbol.for("react.portal"),Jv=Symbol.for("react.fragment"),eC=Symbol.for("react.strict_mode"),tC=Symbol.for("react.profiler"),rC=Symbol.for("react.provider"),AC=Symbol.for("react.context"),nC=Symbol.for("react.forward_ref"),sC=Symbol.for("react.suspense"),iC=Symbol.for("react.memo"),aC=Symbol.for("react.lazy"),pg=Symbol.iterator;function oC(e){return e===null||typeof e!="object"?null:(e=pg&&e[pg]||e["@@iterator"],typeof e=="function"?e:null)}var rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Aw=Object.assign,nw={};function aa(e,t,r){this.props=e,this.context=t,this.refs=nw,this.updater=r||rw}aa.prototype.isReactComponent={};aa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};aa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sw(){}sw.prototype=aa.prototype;function Lf(e,t,r){this.props=e,this.context=t,this.refs=nw,this.updater=r||rw}var jf=Lf.prototype=new sw;jf.constructor=Lf;Aw(jf,aa.prototype);jf.isPureReactComponent=!0;var mg=Array.isArray,iw=Object.prototype.hasOwnProperty,Mf={current:null},aw={key:!0,ref:!0,__self:!0,__source:!0};function ow(e,t,r){var A,s={},a=null,d=null;if(t!=null)for(A in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(a=""+t.key),t)iw.call(t,A)&&!aw.hasOwnProperty(A)&&(s[A]=t[A]);var x=arguments.length-2;if(x===1)s.children=r;else if(1<x){for(var g=Array(x),f=0;f<x;f++)g[f]=arguments[f+2];s.children=g}if(e&&e.defaultProps)for(A in x=e.defaultProps,x)s[A]===void 0&&(s[A]=x[A]);return{$$typeof:Wo,type:e,key:a,ref:d,props:s,_owner:Mf.current}}function lC(e,t){return{$$typeof:Wo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wo}function cC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wg=/\/+/g;function hu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cC(""+e.key):t.toString(36)}function ic(e,t,r,A,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Wo:case Zv:d=!0}}if(d)return d=e,s=s(d),e=A===""?"."+hu(d,0):A,mg(s)?(r="",e!=null&&(r=e.replace(wg,"$&/")+"/"),ic(s,t,r,"",function(f){return f})):s!=null&&(Hf(s)&&(s=lC(s,r+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(wg,"$&/")+"/")+e)),t.push(s)),1;if(d=0,A=A===""?".":A+":",mg(e))for(var x=0;x<e.length;x++){a=e[x];var g=A+hu(a,x);d+=ic(a,t,r,g,s)}else if(g=oC(e),typeof g=="function")for(e=g.call(e),x=0;!(a=e.next()).done;)a=a.value,g=A+hu(a,x++),d+=ic(a,t,r,g,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function fl(e,t,r){if(e==null)return e;var A=[],s=0;return ic(e,A,"","",function(a){return t.call(r,a,s++)}),A}function uC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qr={current:null},ac={transition:null},dC={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:ac,ReactCurrentOwner:Mf};function lw(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:fl,forEach:function(e,t,r){fl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fl(e,function(){t++}),t},toArray:function(e){return fl(e,function(t){return t})||[]},only:function(e){if(!Hf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=aa;Ke.Fragment=Jv;Ke.Profiler=tC;Ke.PureComponent=Lf;Ke.StrictMode=eC;Ke.Suspense=sC;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dC;Ke.act=lw;Ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var A=Aw({},e.props),s=e.key,a=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,d=Mf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(g in t)iw.call(t,g)&&!aw.hasOwnProperty(g)&&(A[g]=t[g]===void 0&&x!==void 0?x[g]:t[g])}var g=arguments.length-2;if(g===1)A.children=r;else if(1<g){x=Array(g);for(var f=0;f<g;f++)x[f]=arguments[f+2];A.children=x}return{$$typeof:Wo,type:e.type,key:s,ref:a,props:A,_owner:d}};Ke.createContext=function(e){return e={$$typeof:AC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rC,_context:e},e.Consumer=e};Ke.createElement=ow;Ke.createFactory=function(e){var t=ow.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:nC,render:e}};Ke.isValidElement=Hf;Ke.lazy=function(e){return{$$typeof:aC,_payload:{_status:-1,_result:e},_init:uC}};Ke.memo=function(e,t){return{$$typeof:iC,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=ac.transition;ac.transition={};try{e()}finally{ac.transition=t}};Ke.unstable_act=lw;Ke.useCallback=function(e,t){return Qr.current.useCallback(e,t)};Ke.useContext=function(e){return Qr.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return Qr.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return Qr.current.useEffect(e,t)};Ke.useId=function(){return Qr.current.useId()};Ke.useImperativeHandle=function(e,t,r){return Qr.current.useImperativeHandle(e,t,r)};Ke.useInsertionEffect=function(e,t){return Qr.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return Qr.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return Qr.current.useMemo(e,t)};Ke.useReducer=function(e,t,r){return Qr.current.useReducer(e,t,r)};Ke.useRef=function(e){return Qr.current.useRef(e)};Ke.useState=function(e){return Qr.current.useState(e)};Ke.useSyncExternalStore=function(e,t,r){return Qr.current.useSyncExternalStore(e,t,r)};Ke.useTransition=function(){return Qr.current.useTransition()};Ke.version="18.3.1";tw.exports=Ke;var G=tw.exports;const Mt=Zm(G),hC=$m({__proto__:null,default:Mt},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC=G,gC=Symbol.for("react.element"),xC=Symbol.for("react.fragment"),pC=Object.prototype.hasOwnProperty,mC=fC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wC={key:!0,ref:!0,__self:!0,__source:!0};function cw(e,t,r){var A,s={},a=null,d=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(d=t.ref);for(A in t)pC.call(t,A)&&!wC.hasOwnProperty(A)&&(s[A]=t[A]);if(e&&e.defaultProps)for(A in t=e.defaultProps,t)s[A]===void 0&&(s[A]=t[A]);return{$$typeof:gC,type:e,key:a,ref:d,props:s,_owner:mC.current}}f0.Fragment=xC;f0.jsx=cw;f0.jsxs=cw;ew.exports=f0;var c=ew.exports,uw={exports:{}},iA={},dw={exports:{}},hw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,ee){var le=Z.length;Z.push(ee);e:for(;0<le;){var te=le-1>>>1,re=Z[te];if(0<s(re,ee))Z[te]=ee,Z[le]=re,le=te;else break e}}function r(Z){return Z.length===0?null:Z[0]}function A(Z){if(Z.length===0)return null;var ee=Z[0],le=Z.pop();if(le!==ee){Z[0]=le;e:for(var te=0,re=Z.length,oe=re>>>1;te<oe;){var ie=2*(te+1)-1,Oe=Z[ie],he=ie+1,et=Z[he];if(0>s(Oe,le))he<re&&0>s(et,Oe)?(Z[te]=et,Z[he]=le,te=he):(Z[te]=Oe,Z[ie]=le,te=ie);else if(he<re&&0>s(et,le))Z[te]=et,Z[he]=le,te=he;else break e}}return ee}function s(Z,ee){var le=Z.sortIndex-ee.sortIndex;return le!==0?le:Z.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,x=d.now();e.unstable_now=function(){return d.now()-x}}var g=[],f=[],p=1,w=null,y=3,E=!1,F=!1,I=!1,U=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Z){for(var ee=r(f);ee!==null;){if(ee.callback===null)A(f);else if(ee.startTime<=Z)A(f),ee.sortIndex=ee.expirationTime,t(g,ee);else break;ee=r(f)}}function S(Z){if(I=!1,b(Z),!F)if(r(g)!==null)F=!0,Ae(k);else{var ee=r(f);ee!==null&&ae(S,ee.startTime-Z)}}function k(Z,ee){F=!1,I&&(I=!1,_(H),H=-1),E=!0;var le=y;try{for(b(ee),w=r(g);w!==null&&(!(w.expirationTime>ee)||Z&&!z());){var te=w.callback;if(typeof te=="function"){w.callback=null,y=w.priorityLevel;var re=te(w.expirationTime<=ee);ee=e.unstable_now(),typeof re=="function"?w.callback=re:w===r(g)&&A(g),b(ee)}else A(g);w=r(g)}if(w!==null)var oe=!0;else{var ie=r(f);ie!==null&&ae(S,ie.startTime-ee),oe=!1}return oe}finally{w=null,y=le,E=!1}}var D=!1,O=null,H=-1,P=5,M=-1;function z(){return!(e.unstable_now()-M<P)}function Y(){if(O!==null){var Z=e.unstable_now();M=Z;var ee=!0;try{ee=O(!0,Z)}finally{ee?K():(D=!1,O=null)}}else D=!1}var K;if(typeof C=="function")K=function(){C(Y)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=Y,K=function(){V.postMessage(null)}}else K=function(){U(Y,0)};function Ae(Z){O=Z,D||(D=!0,K())}function ae(Z,ee){H=U(function(){Z(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){F||E||(F=!0,Ae(k))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var le=y;y=ee;try{return Z()}finally{y=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ee){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var le=y;y=Z;try{return ee()}finally{y=le}},e.unstable_scheduleCallback=function(Z,ee,le){var te=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?te+le:te):le=te,Z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=le+re,Z={id:p++,callback:ee,priorityLevel:Z,startTime:le,expirationTime:re,sortIndex:-1},le>te?(Z.sortIndex=le,t(f,Z),r(g)===null&&Z===r(f)&&(I?(_(H),H=-1):I=!0,ae(S,le-te))):(Z.sortIndex=re,t(g,Z),F||E||(F=!0,Ae(k))),Z},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(Z){var ee=y;return function(){var le=y;y=ee;try{return Z.apply(this,arguments)}finally{y=le}}}})(hw);dw.exports=hw;var BC=dw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC=G,sA=BC;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fw=new Set,yo={};function Ys(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(yo[e]=t,e=0;e<t.length;e++)fw.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,vC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bg={},yg={};function CC(e){return rh.call(yg,e)?!0:rh.call(Bg,e)?!1:vC.test(e)?yg[e]=!0:(Bg[e]=!0,!1)}function EC(e,t,r,A){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return A?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bC(e,t,r,A){if(t===null||typeof t>"u"||EC(e,t,r,A))return!0;if(A)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dr(e,t,r,A,s,a,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=A,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=d}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mr[e]=new Dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mr[t]=new Dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mr[e]=new Dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mr[e]=new Dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mr[e]=new Dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mr[e]=new Dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mr[e]=new Dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mr[e]=new Dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mr[e]=new Dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pf=/[\-:]([a-z])/g;function Kf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pf,Kf);mr[t]=new Dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pf,Kf);mr[t]=new Dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pf,Kf);mr[t]=new Dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vf(e,t,r,A){var s=mr.hasOwnProperty(t)?mr[t]:null;(s!==null?s.type!==0:A||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bC(t,r,s,A)&&(r=null),A||s===null?CC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,A=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,A?e.setAttributeNS(A,t,r):e.setAttribute(t,r))))}var En=yC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),Ah=Symbol.for("react.profiler"),gw=Symbol.for("react.provider"),xw=Symbol.for("react.context"),zf=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),sh=Symbol.for("react.suspense_list"),Wf=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),pw=Symbol.for("react.offscreen"),vg=Symbol.iterator;function Ia(e){return e===null||typeof e!="object"?null:(e=vg&&e[vg]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,fu;function Ma(e){if(fu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fu=t&&t[1]||""}return`
`+fu+e}var gu=!1;function xu(e,t){if(!e||gu)return"";gu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var A=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){A=f}e.call(t.prototype)}else{try{throw Error()}catch(f){A=f}e()}}catch(f){if(f&&A&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),a=A.stack.split(`
`),d=s.length-1,x=a.length-1;1<=d&&0<=x&&s[d]!==a[x];)x--;for(;1<=d&&0<=x;d--,x--)if(s[d]!==a[x]){if(d!==1||x!==1)do if(d--,x--,0>x||s[d]!==a[x]){var g=`
`+s[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=x);break}}}finally{gu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ma(e):""}function FC(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=xu(e.type,!1),e;case 11:return e=xu(e.type.render,!1),e;case 1:return e=xu(e.type,!0),e;default:return""}}function ih(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case bi:return"Portal";case Ah:return"Profiler";case Gf:return"StrictMode";case nh:return"Suspense";case sh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xw:return(e.displayName||"Context")+".Consumer";case gw:return(e._context.displayName||"Context")+".Provider";case zf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wf:return t=e.displayName||null,t!==null?t:ih(e.type)||"Memo";case Mn:t=e._payload,e=e._init;try{return ih(e(t))}catch{}}return null}function IC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ih(t);case 8:return t===Gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function us(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _C(e){var t=mw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),A=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){A=""+d,a.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return A},setValue:function(d){A=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xl(e){e._valueTracker||(e._valueTracker=_C(e))}function ww(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),A="";return e&&(A=mw(e)?e.checked?"true":"false":e.value),e=A,e!==r?(t.setValue(e),!0):!1}function Cc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ah(e,t){var r=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cg(e,t){var r=t.defaultValue==null?"":t.defaultValue,A=t.checked!=null?t.checked:t.defaultChecked;r=us(t.value!=null?t.value:r),e._wrapperState={initialChecked:A,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bw(e,t){t=t.checked,t!=null&&Vf(e,"checked",t,!1)}function oh(e,t){Bw(e,t);var r=us(t.value),A=t.type;if(r!=null)A==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(A==="submit"||A==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lh(e,t.type,r):t.hasOwnProperty("defaultValue")&&lh(e,t.type,us(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Eg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var A=t.type;if(!(A!=="submit"&&A!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function lh(e,t,r){(t!=="number"||Cc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ha=Array.isArray;function Hi(e,t,r,A){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&A&&(e[r].defaultSelected=!0)}else{for(r=""+us(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,A&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ch(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(Ha(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:us(r)}}function yw(e,t){var r=us(t.value),A=us(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),A!=null&&(e.defaultValue=""+A)}function Fg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pl,Cw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,A,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,A,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pl=pl||document.createElement("div"),pl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NC=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(e){NC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ja[t]=Ja[e]})});function Ew(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ja.hasOwnProperty(e)&&Ja[e]?(""+t).trim():t+"px"}function bw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var A=r.indexOf("--")===0,s=Ew(r,t[r],A);r==="float"&&(r="cssFloat"),A?e.setProperty(r,s):e[r]=s}}var SC=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dh(e,t){if(t){if(SC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function hh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fh=null;function Xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gh=null,Pi=null,Ki=null;function Ig(e){if(e=qo(e)){if(typeof gh!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=w0(t),gh(e.stateNode,e.type,t))}}function Fw(e){Pi?Ki?Ki.push(e):Ki=[e]:Pi=e}function Iw(){if(Pi){var e=Pi,t=Ki;if(Ki=Pi=null,Ig(e),t)for(e=0;e<t.length;e++)Ig(t[e])}}function _w(e,t){return e(t)}function Nw(){}var pu=!1;function Sw(e,t,r){if(pu)return e(t,r);pu=!0;try{return _w(e,t,r)}finally{pu=!1,(Pi!==null||Ki!==null)&&(Nw(),Iw())}}function Co(e,t){var r=e.stateNode;if(r===null)return null;var A=w0(r);if(A===null)return null;r=A[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(e=e.type,A=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!A;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var xh=!1;if(mn)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){xh=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{xh=!1}function UC(e,t,r,A,s,a,d,x,g){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(p){this.onError(p)}}var eo=!1,Ec=null,bc=!1,ph=null,QC={onError:function(e){eo=!0,Ec=e}};function DC(e,t,r,A,s,a,d,x,g){eo=!1,Ec=null,UC.apply(QC,arguments)}function TC(e,t,r,A,s,a,d,x,g){if(DC.apply(this,arguments),eo){if(eo){var f=Ec;eo=!1,Ec=null}else throw Error(ge(198));bc||(bc=!0,ph=f)}}function qs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Uw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _g(e){if(qs(e)!==e)throw Error(ge(188))}function RC(e){var t=e.alternate;if(!t){if(t=qs(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,A=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(A=s.return,A!==null){r=A;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return _g(s),e;if(a===A)return _g(s),t;a=a.sibling}throw Error(ge(188))}if(r.return!==A.return)r=s,A=a;else{for(var d=!1,x=s.child;x;){if(x===r){d=!0,r=s,A=a;break}if(x===A){d=!0,A=s,r=a;break}x=x.sibling}if(!d){for(x=a.child;x;){if(x===r){d=!0,r=a,A=s;break}if(x===A){d=!0,A=a,r=s;break}x=x.sibling}if(!d)throw Error(ge(189))}}if(r.alternate!==A)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function Qw(e){return e=RC(e),e!==null?Dw(e):null}function Dw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dw(e);if(t!==null)return t;e=e.sibling}return null}var Tw=sA.unstable_scheduleCallback,Ng=sA.unstable_cancelCallback,OC=sA.unstable_shouldYield,kC=sA.unstable_requestPaint,Ht=sA.unstable_now,LC=sA.unstable_getCurrentPriorityLevel,Yf=sA.unstable_ImmediatePriority,Rw=sA.unstable_UserBlockingPriority,Fc=sA.unstable_NormalPriority,jC=sA.unstable_LowPriority,Ow=sA.unstable_IdlePriority,g0=null,rn=null;function MC(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(g0,e,void 0,(e.current.flags&128)===128)}catch{}}var kA=Math.clz32?Math.clz32:KC,HC=Math.log,PC=Math.LN2;function KC(e){return e>>>=0,e===0?32:31-(HC(e)/PC|0)|0}var ml=64,wl=4194304;function Pa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ic(e,t){var r=e.pendingLanes;if(r===0)return 0;var A=0,s=e.suspendedLanes,a=e.pingedLanes,d=r&268435455;if(d!==0){var x=d&~s;x!==0?A=Pa(x):(a&=d,a!==0&&(A=Pa(a)))}else d=r&~s,d!==0?A=Pa(d):a!==0&&(A=Pa(a));if(A===0)return 0;if(t!==0&&t!==A&&!(t&s)&&(s=A&-A,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(A&4&&(A|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=A;0<t;)r=31-kA(t),s=1<<r,A|=e[r],t&=~s;return A}function VC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GC(e,t){for(var r=e.suspendedLanes,A=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-kA(a),x=1<<d,g=s[d];g===-1?(!(x&r)||x&A)&&(s[d]=VC(x,t)):g<=t&&(e.expiredLanes|=x),a&=~x}}function mh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kw(){var e=ml;return ml<<=1,!(ml&4194240)&&(ml=64),e}function mu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kA(t),e[t]=r}function zC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var A=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-kA(r),a=1<<s;t[s]=0,A[s]=-1,e[s]=-1,r&=~a}}function qf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var A=31-kA(r),s=1<<A;s&t|e[A]&t&&(e[A]|=t),r&=~s}}var it=0;function Lw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jw,$f,Mw,Hw,Pw,wh=!1,Bl=[],es=null,ts=null,rs=null,Eo=new Map,bo=new Map,Vn=[],WC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sg(e,t){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(t.pointerId)}}function Na(e,t,r,A,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:A,nativeEvent:a,targetContainers:[s]},t!==null&&(t=qo(t),t!==null&&$f(t)),e):(e.eventSystemFlags|=A,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function XC(e,t,r,A,s){switch(t){case"focusin":return es=Na(es,e,t,r,A,s),!0;case"dragenter":return ts=Na(ts,e,t,r,A,s),!0;case"mouseover":return rs=Na(rs,e,t,r,A,s),!0;case"pointerover":var a=s.pointerId;return Eo.set(a,Na(Eo.get(a)||null,e,t,r,A,s)),!0;case"gotpointercapture":return a=s.pointerId,bo.set(a,Na(bo.get(a)||null,e,t,r,A,s)),!0}return!1}function Kw(e){var t=Ds(e.target);if(t!==null){var r=qs(t);if(r!==null){if(t=r.tag,t===13){if(t=Uw(r),t!==null){e.blockedOn=t,Pw(e.priority,function(){Mw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var A=new r.constructor(r.type,r);fh=A,r.target.dispatchEvent(A),fh=null}else return t=qo(r),t!==null&&$f(t),e.blockedOn=r,!1;t.shift()}return!0}function Ug(e,t,r){oc(e)&&r.delete(t)}function YC(){wh=!1,es!==null&&oc(es)&&(es=null),ts!==null&&oc(ts)&&(ts=null),rs!==null&&oc(rs)&&(rs=null),Eo.forEach(Ug),bo.forEach(Ug)}function Sa(e,t){e.blockedOn===t&&(e.blockedOn=null,wh||(wh=!0,sA.unstable_scheduleCallback(sA.unstable_NormalPriority,YC)))}function Fo(e){function t(s){return Sa(s,e)}if(0<Bl.length){Sa(Bl[0],e);for(var r=1;r<Bl.length;r++){var A=Bl[r];A.blockedOn===e&&(A.blockedOn=null)}}for(es!==null&&Sa(es,e),ts!==null&&Sa(ts,e),rs!==null&&Sa(rs,e),Eo.forEach(t),bo.forEach(t),r=0;r<Vn.length;r++)A=Vn[r],A.blockedOn===e&&(A.blockedOn=null);for(;0<Vn.length&&(r=Vn[0],r.blockedOn===null);)Kw(r),r.blockedOn===null&&Vn.shift()}var Vi=En.ReactCurrentBatchConfig,_c=!0;function qC(e,t,r,A){var s=it,a=Vi.transition;Vi.transition=null;try{it=1,Zf(e,t,r,A)}finally{it=s,Vi.transition=a}}function $C(e,t,r,A){var s=it,a=Vi.transition;Vi.transition=null;try{it=4,Zf(e,t,r,A)}finally{it=s,Vi.transition=a}}function Zf(e,t,r,A){if(_c){var s=Bh(e,t,r,A);if(s===null)_u(e,t,A,Nc,r),Sg(e,A);else if(XC(s,e,t,r,A))A.stopPropagation();else if(Sg(e,A),t&4&&-1<WC.indexOf(e)){for(;s!==null;){var a=qo(s);if(a!==null&&jw(a),a=Bh(e,t,r,A),a===null&&_u(e,t,A,Nc,r),a===s)break;s=a}s!==null&&A.stopPropagation()}else _u(e,t,A,null,r)}}var Nc=null;function Bh(e,t,r,A){if(Nc=null,e=Xf(A),e=Ds(e),e!==null)if(t=qs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Uw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nc=e,null}function Vw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LC()){case Yf:return 1;case Rw:return 4;case Fc:case jC:return 16;case Ow:return 536870912;default:return 16}default:return 16}}var Xn=null,Jf=null,lc=null;function Gw(){if(lc)return lc;var e,t=Jf,r=t.length,A,s="value"in Xn?Xn.value:Xn.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var d=r-e;for(A=1;A<=d&&t[r-A]===s[a-A];A++);return lc=s.slice(e,1<A?1-A:void 0)}function cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Qg(){return!1}function aA(e){function t(r,A,s,a,d){this._reactName=r,this._targetInst=s,this.type=A,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(a):a[x]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?yl:Qg,this.isPropagationStopped=Qg,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e1=aA(oa),Yo=It({},oa,{view:0,detail:0}),ZC=aA(Yo),wu,Bu,Ua,x0=It({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ua&&(Ua&&e.type==="mousemove"?(wu=e.screenX-Ua.screenX,Bu=e.screenY-Ua.screenY):Bu=wu=0,Ua=e),wu)},movementY:function(e){return"movementY"in e?e.movementY:Bu}}),Dg=aA(x0),JC=It({},x0,{dataTransfer:0}),e4=aA(JC),t4=It({},Yo,{relatedTarget:0}),yu=aA(t4),r4=It({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),A4=aA(r4),n4=It({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s4=aA(n4),i4=It({},oa,{data:0}),Tg=aA(i4),a4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=l4[e])?!!t[e]:!1}function t1(){return c4}var u4=It({},Yo,{key:function(e){if(e.key){var t=a4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t1,charCode:function(e){return e.type==="keypress"?cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d4=aA(u4),h4=It({},x0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rg=aA(h4),f4=It({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t1}),g4=aA(f4),x4=It({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),p4=aA(x4),m4=It({},x0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),w4=aA(m4),B4=[9,13,27,32],r1=mn&&"CompositionEvent"in window,to=null;mn&&"documentMode"in document&&(to=document.documentMode);var y4=mn&&"TextEvent"in window&&!to,zw=mn&&(!r1||to&&8<to&&11>=to),Og=" ",kg=!1;function Ww(e,t){switch(e){case"keyup":return B4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function v4(e,t){switch(e){case"compositionend":return Xw(t);case"keypress":return t.which!==32?null:(kg=!0,Og);case"textInput":return e=t.data,e===Og&&kg?null:e;default:return null}}function C4(e,t){if(Ii)return e==="compositionend"||!r1&&Ww(e,t)?(e=Gw(),lc=Jf=Xn=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zw&&t.locale!=="ko"?null:t.data;default:return null}}var E4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E4[e.type]:t==="textarea"}function Yw(e,t,r,A){Fw(A),t=Sc(t,"onChange"),0<t.length&&(r=new e1("onChange","change",null,r,A),e.push({event:r,listeners:t}))}var ro=null,Io=null;function b4(e){i2(e,0)}function p0(e){var t=Si(e);if(ww(t))return e}function F4(e,t){if(e==="change")return t}var qw=!1;if(mn){var vu;if(mn){var Cu="oninput"in document;if(!Cu){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Cu=typeof jg.oninput=="function"}vu=Cu}else vu=!1;qw=vu&&(!document.documentMode||9<document.documentMode)}function Mg(){ro&&(ro.detachEvent("onpropertychange",$w),Io=ro=null)}function $w(e){if(e.propertyName==="value"&&p0(Io)){var t=[];Yw(t,Io,e,Xf(e)),Sw(b4,t)}}function I4(e,t,r){e==="focusin"?(Mg(),ro=t,Io=r,ro.attachEvent("onpropertychange",$w)):e==="focusout"&&Mg()}function _4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return p0(Io)}function N4(e,t){if(e==="click")return p0(t)}function S4(e,t){if(e==="input"||e==="change")return p0(t)}function U4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jA=typeof Object.is=="function"?Object.is:U4;function _o(e,t){if(jA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),A=Object.keys(t);if(r.length!==A.length)return!1;for(A=0;A<r.length;A++){var s=r[A];if(!rh.call(t,s)||!jA(e[s],t[s]))return!1}return!0}function Hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,t){var r=Hg(e);e=0;for(var A;r;){if(r.nodeType===3){if(A=e+r.textContent.length,e<=t&&A>=t)return{node:r,offset:t-e};e=A}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hg(r)}}function Zw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jw(){for(var e=window,t=Cc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cc(e.document)}return t}function A1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q4(e){var t=Jw(),r=e.focusedElem,A=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Zw(r.ownerDocument.documentElement,r)){if(A!==null&&A1(r)){if(t=A.start,e=A.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(A.start,s);A=A.end===void 0?a:Math.min(A.end,s),!e.extend&&a>A&&(s=A,A=a,a=s),s=Pg(r,a);var d=Pg(r,A);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>A?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var D4=mn&&"documentMode"in document&&11>=document.documentMode,_i=null,yh=null,Ao=null,vh=!1;function Kg(e,t,r){var A=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vh||_i==null||_i!==Cc(A)||(A=_i,"selectionStart"in A&&A1(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Ao&&_o(Ao,A)||(Ao=A,A=Sc(yh,"onSelect"),0<A.length&&(t=new e1("onSelect","select",null,t,r),e.push({event:t,listeners:A}),t.target=_i)))}function vl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ni={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},Eu={},e2={};mn&&(e2=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function m0(e){if(Eu[e])return Eu[e];if(!Ni[e])return e;var t=Ni[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in e2)return Eu[e]=t[r];return e}var t2=m0("animationend"),r2=m0("animationiteration"),A2=m0("animationstart"),n2=m0("transitionend"),s2=new Map,Vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){s2.set(e,t),Ys(t,[e])}for(var bu=0;bu<Vg.length;bu++){var Fu=Vg[bu],T4=Fu.toLowerCase(),R4=Fu[0].toUpperCase()+Fu.slice(1);fs(T4,"on"+R4)}fs(t2,"onAnimationEnd");fs(r2,"onAnimationIteration");fs(A2,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(n2,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function Gg(e,t,r){var A=e.type||"unknown-event";e.currentTarget=r,TC(A,t,void 0,e),e.currentTarget=null}function i2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var A=e[r],s=A.event;A=A.listeners;e:{var a=void 0;if(t)for(var d=A.length-1;0<=d;d--){var x=A[d],g=x.instance,f=x.currentTarget;if(x=x.listener,g!==a&&s.isPropagationStopped())break e;Gg(s,x,f),a=g}else for(d=0;d<A.length;d++){if(x=A[d],g=x.instance,f=x.currentTarget,x=x.listener,g!==a&&s.isPropagationStopped())break e;Gg(s,x,f),a=g}}}if(bc)throw e=ph,bc=!1,ph=null,e}function pt(e,t){var r=t[Ih];r===void 0&&(r=t[Ih]=new Set);var A=e+"__bubble";r.has(A)||(a2(t,e,2,!1),r.add(A))}function Iu(e,t,r){var A=0;t&&(A|=4),a2(r,e,A,t)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function No(e){if(!e[Cl]){e[Cl]=!0,fw.forEach(function(r){r!=="selectionchange"&&(O4.has(r)||Iu(r,!1,e),Iu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cl]||(t[Cl]=!0,Iu("selectionchange",!1,t))}}function a2(e,t,r,A){switch(Vw(t)){case 1:var s=qC;break;case 4:s=$C;break;default:s=Zf}r=s.bind(null,t,r,e),s=void 0,!xh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),A?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function _u(e,t,r,A,s){var a=A;if(!(t&1)&&!(t&2)&&A!==null)e:for(;;){if(A===null)return;var d=A.tag;if(d===3||d===4){var x=A.stateNode.containerInfo;if(x===s||x.nodeType===8&&x.parentNode===s)break;if(d===4)for(d=A.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===s||g.nodeType===8&&g.parentNode===s))return;d=d.return}for(;x!==null;){if(d=Ds(x),d===null)return;if(g=d.tag,g===5||g===6){A=a=d;continue e}x=x.parentNode}}A=A.return}Sw(function(){var f=a,p=Xf(r),w=[];e:{var y=s2.get(e);if(y!==void 0){var E=e1,F=e;switch(e){case"keypress":if(cc(r)===0)break e;case"keydown":case"keyup":E=d4;break;case"focusin":F="focus",E=yu;break;case"focusout":F="blur",E=yu;break;case"beforeblur":case"afterblur":E=yu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=e4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=g4;break;case t2:case r2:case A2:E=A4;break;case n2:E=p4;break;case"scroll":E=ZC;break;case"wheel":E=w4;break;case"copy":case"cut":case"paste":E=s4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Rg}var I=(t&4)!==0,U=!I&&e==="scroll",_=I?y!==null?y+"Capture":null:y;I=[];for(var C=f,b;C!==null;){b=C;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,_!==null&&(S=Co(C,_),S!=null&&I.push(So(C,S,b)))),U)break;C=C.return}0<I.length&&(y=new E(y,F,null,r,p),w.push({event:y,listeners:I}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",y&&r!==fh&&(F=r.relatedTarget||r.fromElement)&&(Ds(F)||F[wn]))break e;if((E||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,E?(F=r.relatedTarget||r.toElement,E=f,F=F?Ds(F):null,F!==null&&(U=qs(F),F!==U||F.tag!==5&&F.tag!==6)&&(F=null)):(E=null,F=f),E!==F)){if(I=Dg,S="onMouseLeave",_="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(I=Rg,S="onPointerLeave",_="onPointerEnter",C="pointer"),U=E==null?y:Si(E),b=F==null?y:Si(F),y=new I(S,C+"leave",E,r,p),y.target=U,y.relatedTarget=b,S=null,Ds(p)===f&&(I=new I(_,C+"enter",F,r,p),I.target=b,I.relatedTarget=U,S=I),U=S,E&&F)t:{for(I=E,_=F,C=0,b=I;b;b=ui(b))C++;for(b=0,S=_;S;S=ui(S))b++;for(;0<C-b;)I=ui(I),C--;for(;0<b-C;)_=ui(_),b--;for(;C--;){if(I===_||_!==null&&I===_.alternate)break t;I=ui(I),_=ui(_)}I=null}else I=null;E!==null&&zg(w,y,E,I,!1),F!==null&&U!==null&&zg(w,U,F,I,!0)}}e:{if(y=f?Si(f):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var k=F4;else if(Lg(y))if(qw)k=S4;else{k=_4;var D=I4}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(k=N4);if(k&&(k=k(e,f))){Yw(w,k,r,p);break e}D&&D(e,y,f),e==="focusout"&&(D=y._wrapperState)&&D.controlled&&y.type==="number"&&lh(y,"number",y.value)}switch(D=f?Si(f):window,e){case"focusin":(Lg(D)||D.contentEditable==="true")&&(_i=D,yh=f,Ao=null);break;case"focusout":Ao=yh=_i=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Kg(w,r,p);break;case"selectionchange":if(D4)break;case"keydown":case"keyup":Kg(w,r,p)}var O;if(r1)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Ii?Ww(e,r)&&(H="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(H="onCompositionStart");H&&(zw&&r.locale!=="ko"&&(Ii||H!=="onCompositionStart"?H==="onCompositionEnd"&&Ii&&(O=Gw()):(Xn=p,Jf="value"in Xn?Xn.value:Xn.textContent,Ii=!0)),D=Sc(f,H),0<D.length&&(H=new Tg(H,e,null,r,p),w.push({event:H,listeners:D}),O?H.data=O:(O=Xw(r),O!==null&&(H.data=O)))),(O=y4?v4(e,r):C4(e,r))&&(f=Sc(f,"onBeforeInput"),0<f.length&&(p=new Tg("onBeforeInput","beforeinput",null,r,p),w.push({event:p,listeners:f}),p.data=O))}i2(w,t)})}function So(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sc(e,t){for(var r=t+"Capture",A=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Co(e,r),a!=null&&A.unshift(So(e,a,s)),a=Co(e,t),a!=null&&A.push(So(e,a,s))),e=e.return}return A}function ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zg(e,t,r,A,s){for(var a=t._reactName,d=[];r!==null&&r!==A;){var x=r,g=x.alternate,f=x.stateNode;if(g!==null&&g===A)break;x.tag===5&&f!==null&&(x=f,s?(g=Co(r,a),g!=null&&d.unshift(So(r,g,x))):s||(g=Co(r,a),g!=null&&d.push(So(r,g,x)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var k4=/\r\n?/g,L4=/\u0000|\uFFFD/g;function Wg(e){return(typeof e=="string"?e:""+e).replace(k4,`
`).replace(L4,"")}function El(e,t,r){if(t=Wg(t),Wg(e)!==t&&r)throw Error(ge(425))}function Uc(){}var Ch=null,Eh=null;function bh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,j4=typeof clearTimeout=="function"?clearTimeout:void 0,Xg=typeof Promise=="function"?Promise:void 0,M4=typeof queueMicrotask=="function"?queueMicrotask:typeof Xg<"u"?function(e){return Xg.resolve(null).then(e).catch(H4)}:Fh;function H4(e){setTimeout(function(){throw e})}function Nu(e,t){var r=t,A=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(A===0){e.removeChild(s),Fo(t);return}A--}else r!=="$"&&r!=="$?"&&r!=="$!"||A++;r=s}while(r);Fo(t)}function As(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var la=Math.random().toString(36).slice(2),tn="__reactFiber$"+la,Uo="__reactProps$"+la,wn="__reactContainer$"+la,Ih="__reactEvents$"+la,P4="__reactListeners$"+la,K4="__reactHandles$"+la;function Ds(e){var t=e[tn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wn]||r[tn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yg(e);e!==null;){if(r=e[tn])return r;e=Yg(e)}return t}e=r,r=e.parentNode}return null}function qo(e){return e=e[tn]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Si(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function w0(e){return e[Uo]||null}var _h=[],Ui=-1;function gs(e){return{current:e}}function wt(e){0>Ui||(e.current=_h[Ui],_h[Ui]=null,Ui--)}function ft(e,t){Ui++,_h[Ui]=e.current,e.current=t}var ds={},Fr=gs(ds),zr=gs(!1),Ps=ds;function qi(e,t){var r=e.type.contextTypes;if(!r)return ds;var A=e.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===t)return A.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return A&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Wr(e){return e=e.childContextTypes,e!=null}function Qc(){wt(zr),wt(Fr)}function qg(e,t,r){if(Fr.current!==ds)throw Error(ge(168));ft(Fr,t),ft(zr,r)}function o2(e,t,r){var A=e.stateNode;if(t=t.childContextTypes,typeof A.getChildContext!="function")return r;A=A.getChildContext();for(var s in A)if(!(s in t))throw Error(ge(108,IC(e)||"Unknown",s));return It({},r,A)}function Dc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ds,Ps=Fr.current,ft(Fr,e),ft(zr,zr.current),!0}function $g(e,t,r){var A=e.stateNode;if(!A)throw Error(ge(169));r?(e=o2(e,t,Ps),A.__reactInternalMemoizedMergedChildContext=e,wt(zr),wt(Fr),ft(Fr,e)):wt(zr),ft(zr,r)}var hn=null,B0=!1,Su=!1;function l2(e){hn===null?hn=[e]:hn.push(e)}function V4(e){B0=!0,l2(e)}function xs(){if(!Su&&hn!==null){Su=!0;var e=0,t=it;try{var r=hn;for(it=1;e<r.length;e++){var A=r[e];do A=A(!0);while(A!==null)}hn=null,B0=!1}catch(s){throw hn!==null&&(hn=hn.slice(e+1)),Tw(Yf,xs),s}finally{it=t,Su=!1}}return null}var Qi=[],Di=0,Tc=null,Rc=0,gA=[],xA=0,Ks=null,fn=1,gn="";function Is(e,t){Qi[Di++]=Rc,Qi[Di++]=Tc,Tc=e,Rc=t}function c2(e,t,r){gA[xA++]=fn,gA[xA++]=gn,gA[xA++]=Ks,Ks=e;var A=fn;e=gn;var s=32-kA(A)-1;A&=~(1<<s),r+=1;var a=32-kA(t)+s;if(30<a){var d=s-s%5;a=(A&(1<<d)-1).toString(32),A>>=d,s-=d,fn=1<<32-kA(t)+s|r<<s|A,gn=a+e}else fn=1<<a|r<<s|A,gn=e}function n1(e){e.return!==null&&(Is(e,1),c2(e,1,0))}function s1(e){for(;e===Tc;)Tc=Qi[--Di],Qi[Di]=null,Rc=Qi[--Di],Qi[Di]=null;for(;e===Ks;)Ks=gA[--xA],gA[xA]=null,gn=gA[--xA],gA[xA]=null,fn=gA[--xA],gA[xA]=null}var AA=null,rA=null,Ct=!1,OA=null;function u2(e,t){var r=wA(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,AA=e,rA=As(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,AA=e,rA=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ks!==null?{id:fn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wA(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,AA=e,rA=null,!0):!1;default:return!1}}function Nh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sh(e){if(Ct){var t=rA;if(t){var r=t;if(!Zg(e,t)){if(Nh(e))throw Error(ge(418));t=As(r.nextSibling);var A=AA;t&&Zg(e,t)?u2(A,r):(e.flags=e.flags&-4097|2,Ct=!1,AA=e)}}else{if(Nh(e))throw Error(ge(418));e.flags=e.flags&-4097|2,Ct=!1,AA=e}}}function Jg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;AA=e}function bl(e){if(e!==AA)return!1;if(!Ct)return Jg(e),Ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bh(e.type,e.memoizedProps)),t&&(t=rA)){if(Nh(e))throw d2(),Error(ge(418));for(;t;)u2(e,t),t=As(t.nextSibling)}if(Jg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rA=As(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rA=null}}else rA=AA?As(e.stateNode.nextSibling):null;return!0}function d2(){for(var e=rA;e;)e=As(e.nextSibling)}function $i(){rA=AA=null,Ct=!1}function i1(e){OA===null?OA=[e]:OA.push(e)}var G4=En.ReactCurrentBatchConfig;function Qa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var A=r.stateNode}if(!A)throw Error(ge(147,e));var s=A,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(d){var x=s.refs;d===null?delete x[a]:x[a]=d},t._stringRef=a,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ex(e){var t=e._init;return t(e._payload)}function h2(e){function t(_,C){if(e){var b=_.deletions;b===null?(_.deletions=[C],_.flags|=16):b.push(C)}}function r(_,C){if(!e)return null;for(;C!==null;)t(_,C),C=C.sibling;return null}function A(_,C){for(_=new Map;C!==null;)C.key!==null?_.set(C.key,C):_.set(C.index,C),C=C.sibling;return _}function s(_,C){return _=as(_,C),_.index=0,_.sibling=null,_}function a(_,C,b){return _.index=b,e?(b=_.alternate,b!==null?(b=b.index,b<C?(_.flags|=2,C):b):(_.flags|=2,C)):(_.flags|=1048576,C)}function d(_){return e&&_.alternate===null&&(_.flags|=2),_}function x(_,C,b,S){return C===null||C.tag!==6?(C=ku(b,_.mode,S),C.return=_,C):(C=s(C,b),C.return=_,C)}function g(_,C,b,S){var k=b.type;return k===Fi?p(_,C,b.props.children,S,b.key):C!==null&&(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mn&&ex(k)===C.type)?(S=s(C,b.props),S.ref=Qa(_,C,b),S.return=_,S):(S=pc(b.type,b.key,b.props,null,_.mode,S),S.ref=Qa(_,C,b),S.return=_,S)}function f(_,C,b,S){return C===null||C.tag!==4||C.stateNode.containerInfo!==b.containerInfo||C.stateNode.implementation!==b.implementation?(C=Lu(b,_.mode,S),C.return=_,C):(C=s(C,b.children||[]),C.return=_,C)}function p(_,C,b,S,k){return C===null||C.tag!==7?(C=Ls(b,_.mode,S,k),C.return=_,C):(C=s(C,b),C.return=_,C)}function w(_,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return C=ku(""+C,_.mode,b),C.return=_,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gl:return b=pc(C.type,C.key,C.props,null,_.mode,b),b.ref=Qa(_,null,C),b.return=_,b;case bi:return C=Lu(C,_.mode,b),C.return=_,C;case Mn:var S=C._init;return w(_,S(C._payload),b)}if(Ha(C)||Ia(C))return C=Ls(C,_.mode,b,null),C.return=_,C;Fl(_,C)}return null}function y(_,C,b,S){var k=C!==null?C.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:x(_,C,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gl:return b.key===k?g(_,C,b,S):null;case bi:return b.key===k?f(_,C,b,S):null;case Mn:return k=b._init,y(_,C,k(b._payload),S)}if(Ha(b)||Ia(b))return k!==null?null:p(_,C,b,S,null);Fl(_,b)}return null}function E(_,C,b,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(b)||null,x(C,_,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gl:return _=_.get(S.key===null?b:S.key)||null,g(C,_,S,k);case bi:return _=_.get(S.key===null?b:S.key)||null,f(C,_,S,k);case Mn:var D=S._init;return E(_,C,b,D(S._payload),k)}if(Ha(S)||Ia(S))return _=_.get(b)||null,p(C,_,S,k,null);Fl(C,S)}return null}function F(_,C,b,S){for(var k=null,D=null,O=C,H=C=0,P=null;O!==null&&H<b.length;H++){O.index>H?(P=O,O=null):P=O.sibling;var M=y(_,O,b[H],S);if(M===null){O===null&&(O=P);break}e&&O&&M.alternate===null&&t(_,O),C=a(M,C,H),D===null?k=M:D.sibling=M,D=M,O=P}if(H===b.length)return r(_,O),Ct&&Is(_,H),k;if(O===null){for(;H<b.length;H++)O=w(_,b[H],S),O!==null&&(C=a(O,C,H),D===null?k=O:D.sibling=O,D=O);return Ct&&Is(_,H),k}for(O=A(_,O);H<b.length;H++)P=E(O,_,H,b[H],S),P!==null&&(e&&P.alternate!==null&&O.delete(P.key===null?H:P.key),C=a(P,C,H),D===null?k=P:D.sibling=P,D=P);return e&&O.forEach(function(z){return t(_,z)}),Ct&&Is(_,H),k}function I(_,C,b,S){var k=Ia(b);if(typeof k!="function")throw Error(ge(150));if(b=k.call(b),b==null)throw Error(ge(151));for(var D=k=null,O=C,H=C=0,P=null,M=b.next();O!==null&&!M.done;H++,M=b.next()){O.index>H?(P=O,O=null):P=O.sibling;var z=y(_,O,M.value,S);if(z===null){O===null&&(O=P);break}e&&O&&z.alternate===null&&t(_,O),C=a(z,C,H),D===null?k=z:D.sibling=z,D=z,O=P}if(M.done)return r(_,O),Ct&&Is(_,H),k;if(O===null){for(;!M.done;H++,M=b.next())M=w(_,M.value,S),M!==null&&(C=a(M,C,H),D===null?k=M:D.sibling=M,D=M);return Ct&&Is(_,H),k}for(O=A(_,O);!M.done;H++,M=b.next())M=E(O,_,H,M.value,S),M!==null&&(e&&M.alternate!==null&&O.delete(M.key===null?H:M.key),C=a(M,C,H),D===null?k=M:D.sibling=M,D=M);return e&&O.forEach(function(Y){return t(_,Y)}),Ct&&Is(_,H),k}function U(_,C,b,S){if(typeof b=="object"&&b!==null&&b.type===Fi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gl:e:{for(var k=b.key,D=C;D!==null;){if(D.key===k){if(k=b.type,k===Fi){if(D.tag===7){r(_,D.sibling),C=s(D,b.props.children),C.return=_,_=C;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mn&&ex(k)===D.type){r(_,D.sibling),C=s(D,b.props),C.ref=Qa(_,D,b),C.return=_,_=C;break e}r(_,D);break}else t(_,D);D=D.sibling}b.type===Fi?(C=Ls(b.props.children,_.mode,S,b.key),C.return=_,_=C):(S=pc(b.type,b.key,b.props,null,_.mode,S),S.ref=Qa(_,C,b),S.return=_,_=S)}return d(_);case bi:e:{for(D=b.key;C!==null;){if(C.key===D)if(C.tag===4&&C.stateNode.containerInfo===b.containerInfo&&C.stateNode.implementation===b.implementation){r(_,C.sibling),C=s(C,b.children||[]),C.return=_,_=C;break e}else{r(_,C);break}else t(_,C);C=C.sibling}C=Lu(b,_.mode,S),C.return=_,_=C}return d(_);case Mn:return D=b._init,U(_,C,D(b._payload),S)}if(Ha(b))return F(_,C,b,S);if(Ia(b))return I(_,C,b,S);Fl(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,C!==null&&C.tag===6?(r(_,C.sibling),C=s(C,b),C.return=_,_=C):(r(_,C),C=ku(b,_.mode,S),C.return=_,_=C),d(_)):r(_,C)}return U}var Zi=h2(!0),f2=h2(!1),Oc=gs(null),kc=null,Ti=null,a1=null;function o1(){a1=Ti=kc=null}function l1(e){var t=Oc.current;wt(Oc),e._currentValue=t}function Uh(e,t,r){for(;e!==null;){var A=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,A!==null&&(A.childLanes|=t)):A!==null&&(A.childLanes&t)!==t&&(A.childLanes|=t),e===r)break;e=e.return}}function Gi(e,t){kc=e,a1=Ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gr=!0),e.firstContext=null)}function CA(e){var t=e._currentValue;if(a1!==e)if(e={context:e,memoizedValue:t,next:null},Ti===null){if(kc===null)throw Error(ge(308));Ti=e,kc.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var Ts=null;function c1(e){Ts===null?Ts=[e]:Ts.push(e)}function g2(e,t,r,A){var s=t.interleaved;return s===null?(r.next=r,c1(t)):(r.next=s.next,s.next=r),t.interleaved=r,Bn(e,A)}function Bn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hn=!1;function u1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t,r){var A=e.updateQueue;if(A===null)return null;if(A=A.shared,Je&2){var s=A.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),A.pending=t,Bn(e,r)}return s=A.interleaved,s===null?(t.next=t,c1(A)):(t.next=s.next,s.next=t),A.interleaved=t,Bn(e,r)}function uc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var A=t.lanes;A&=e.pendingLanes,r|=A,t.lanes=r,qf(e,r)}}function tx(e,t){var r=e.updateQueue,A=e.alternate;if(A!==null&&(A=A.updateQueue,r===A)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=d:a=a.next=d,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:A.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:A.shared,effects:A.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Lc(e,t,r,A){var s=e.updateQueue;Hn=!1;var a=s.firstBaseUpdate,d=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var g=x,f=g.next;g.next=null,d===null?a=f:d.next=f,d=g;var p=e.alternate;p!==null&&(p=p.updateQueue,x=p.lastBaseUpdate,x!==d&&(x===null?p.firstBaseUpdate=f:x.next=f,p.lastBaseUpdate=g))}if(a!==null){var w=s.baseState;d=0,p=f=g=null,x=a;do{var y=x.lane,E=x.eventTime;if((A&y)===y){p!==null&&(p=p.next={eventTime:E,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var F=e,I=x;switch(y=t,E=r,I.tag){case 1:if(F=I.payload,typeof F=="function"){w=F.call(E,w,y);break e}w=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=I.payload,y=typeof F=="function"?F.call(E,w,y):F,y==null)break e;w=It({},w,y);break e;case 2:Hn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[x]:y.push(x))}else E={eventTime:E,lane:y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},p===null?(f=p=E,g=w):p=p.next=E,d|=y;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;y=x,x=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(g=w),s.baseState=g,s.firstBaseUpdate=f,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Gs|=d,e.lanes=d,e.memoizedState=w}}function rx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var A=e[t],s=A.callback;if(s!==null){if(A.callback=null,A=r,typeof s!="function")throw Error(ge(191,s));s.call(A)}}}var $o={},An=gs($o),Qo=gs($o),Do=gs($o);function Rs(e){if(e===$o)throw Error(ge(174));return e}function d1(e,t){switch(ft(Do,t),ft(Qo,e),ft(An,$o),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uh(t,e)}wt(An),ft(An,t)}function Ji(){wt(An),wt(Qo),wt(Do)}function p2(e){Rs(Do.current);var t=Rs(An.current),r=uh(t,e.type);t!==r&&(ft(Qo,e),ft(An,r))}function h1(e){Qo.current===e&&(wt(An),wt(Qo))}var bt=gs(0);function jc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uu=[];function f1(){for(var e=0;e<Uu.length;e++)Uu[e]._workInProgressVersionPrimary=null;Uu.length=0}var dc=En.ReactCurrentDispatcher,Qu=En.ReactCurrentBatchConfig,Vs=0,Ft=null,Wt=null,Ar=null,Mc=!1,no=!1,To=0,z4=0;function Br(){throw Error(ge(321))}function g1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jA(e[r],t[r]))return!1;return!0}function x1(e,t,r,A,s,a){if(Vs=a,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dc.current=e===null||e.memoizedState===null?q4:$4,e=r(A,s),no){a=0;do{if(no=!1,To=0,25<=a)throw Error(ge(301));a+=1,Ar=Wt=null,t.updateQueue=null,dc.current=Z4,e=r(A,s)}while(no)}if(dc.current=Hc,t=Wt!==null&&Wt.next!==null,Vs=0,Ar=Wt=Ft=null,Mc=!1,t)throw Error(ge(300));return e}function p1(){var e=To!==0;return To=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Ft.memoizedState=Ar=e:Ar=Ar.next=e,Ar}function EA(){if(Wt===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var t=Ar===null?Ft.memoizedState:Ar.next;if(t!==null)Ar=t,Wt=e;else{if(e===null)throw Error(ge(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ar===null?Ft.memoizedState=Ar=e:Ar=Ar.next=e}return Ar}function Ro(e,t){return typeof t=="function"?t(e):t}function Du(e){var t=EA(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var A=Wt,s=A.baseQueue,a=r.pending;if(a!==null){if(s!==null){var d=s.next;s.next=a.next,a.next=d}A.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,A=A.baseState;var x=d=null,g=null,f=a;do{var p=f.lane;if((Vs&p)===p)g!==null&&(g=g.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),A=f.hasEagerState?f.eagerState:e(A,f.action);else{var w={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};g===null?(x=g=w,d=A):g=g.next=w,Ft.lanes|=p,Gs|=p}f=f.next}while(f!==null&&f!==a);g===null?d=A:g.next=x,jA(A,t.memoizedState)||(Gr=!0),t.memoizedState=A,t.baseState=d,t.baseQueue=g,r.lastRenderedState=A}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ft.lanes|=a,Gs|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tu(e){var t=EA(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var A=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var d=s=s.next;do a=e(a,d.action),d=d.next;while(d!==s);jA(a,t.memoizedState)||(Gr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,A]}function m2(){}function w2(e,t){var r=Ft,A=EA(),s=t(),a=!jA(A.memoizedState,s);if(a&&(A.memoizedState=s,Gr=!0),A=A.queue,m1(v2.bind(null,r,A,e),[e]),A.getSnapshot!==t||a||Ar!==null&&Ar.memoizedState.tag&1){if(r.flags|=2048,Oo(9,y2.bind(null,r,A,s,t),void 0,null),sr===null)throw Error(ge(349));Vs&30||B2(r,t,s)}return s}function B2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function y2(e,t,r,A){t.value=r,t.getSnapshot=A,C2(t)&&E2(e)}function v2(e,t,r){return r(function(){C2(t)&&E2(e)})}function C2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jA(e,r)}catch{return!0}}function E2(e){var t=Bn(e,1);t!==null&&LA(t,e,1,-1)}function Ax(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t.queue=e,e=e.dispatch=Y4.bind(null,Ft,e),[t.memoizedState,e]}function Oo(e,t,r,A){return e={tag:e,create:t,destroy:r,deps:A,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(A=r.next,r.next=e,e.next=A,t.lastEffect=e)),e}function b2(){return EA().memoizedState}function hc(e,t,r,A){var s=en();Ft.flags|=e,s.memoizedState=Oo(1|t,r,void 0,A===void 0?null:A)}function y0(e,t,r,A){var s=EA();A=A===void 0?null:A;var a=void 0;if(Wt!==null){var d=Wt.memoizedState;if(a=d.destroy,A!==null&&g1(A,d.deps)){s.memoizedState=Oo(t,r,a,A);return}}Ft.flags|=e,s.memoizedState=Oo(1|t,r,a,A)}function nx(e,t){return hc(8390656,8,e,t)}function m1(e,t){return y0(2048,8,e,t)}function F2(e,t){return y0(4,2,e,t)}function I2(e,t){return y0(4,4,e,t)}function _2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N2(e,t,r){return r=r!=null?r.concat([e]):null,y0(4,4,_2.bind(null,t,e),r)}function w1(){}function S2(e,t){var r=EA();t=t===void 0?null:t;var A=r.memoizedState;return A!==null&&t!==null&&g1(t,A[1])?A[0]:(r.memoizedState=[e,t],e)}function U2(e,t){var r=EA();t=t===void 0?null:t;var A=r.memoizedState;return A!==null&&t!==null&&g1(t,A[1])?A[0]:(e=e(),r.memoizedState=[e,t],e)}function Q2(e,t,r){return Vs&21?(jA(r,t)||(r=kw(),Ft.lanes|=r,Gs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gr=!0),e.memoizedState=r)}function W4(e,t){var r=it;it=r!==0&&4>r?r:4,e(!0);var A=Qu.transition;Qu.transition={};try{e(!1),t()}finally{it=r,Qu.transition=A}}function D2(){return EA().memoizedState}function X4(e,t,r){var A=is(e);if(r={lane:A,action:r,hasEagerState:!1,eagerState:null,next:null},T2(e))R2(t,r);else if(r=g2(e,t,r,A),r!==null){var s=Ur();LA(r,e,A,s),O2(r,t,A)}}function Y4(e,t,r){var A=is(e),s={lane:A,action:r,hasEagerState:!1,eagerState:null,next:null};if(T2(e))R2(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var d=t.lastRenderedState,x=a(d,r);if(s.hasEagerState=!0,s.eagerState=x,jA(x,d)){var g=t.interleaved;g===null?(s.next=s,c1(t)):(s.next=g.next,g.next=s),t.interleaved=s;return}}catch{}finally{}r=g2(e,t,s,A),r!==null&&(s=Ur(),LA(r,e,A,s),O2(r,t,A))}}function T2(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function R2(e,t){no=Mc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function O2(e,t,r){if(r&4194240){var A=t.lanes;A&=e.pendingLanes,r|=A,t.lanes=r,qf(e,r)}}var Hc={readContext:CA,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},q4={readContext:CA,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:CA,useEffect:nx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hc(4194308,4,_2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hc(4194308,4,e,t)},useInsertionEffect:function(e,t){return hc(4,2,e,t)},useMemo:function(e,t){var r=en();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var A=en();return t=r!==void 0?r(t):t,A.memoizedState=A.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},A.queue=e,e=e.dispatch=X4.bind(null,Ft,e),[A.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:Ax,useDebugValue:w1,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=Ax(!1),t=e[0];return e=W4.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var A=Ft,s=en();if(Ct){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),sr===null)throw Error(ge(349));Vs&30||B2(A,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,nx(v2.bind(null,A,a,e),[e]),A.flags|=2048,Oo(9,y2.bind(null,A,a,r,t),void 0,null),r},useId:function(){var e=en(),t=sr.identifierPrefix;if(Ct){var r=gn,A=fn;r=(A&~(1<<32-kA(A)-1)).toString(32)+r,t=":"+t+"R"+r,r=To++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=z4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$4={readContext:CA,useCallback:S2,useContext:CA,useEffect:m1,useImperativeHandle:N2,useInsertionEffect:F2,useLayoutEffect:I2,useMemo:U2,useReducer:Du,useRef:b2,useState:function(){return Du(Ro)},useDebugValue:w1,useDeferredValue:function(e){var t=EA();return Q2(t,Wt.memoizedState,e)},useTransition:function(){var e=Du(Ro)[0],t=EA().memoizedState;return[e,t]},useMutableSource:m2,useSyncExternalStore:w2,useId:D2,unstable_isNewReconciler:!1},Z4={readContext:CA,useCallback:S2,useContext:CA,useEffect:m1,useImperativeHandle:N2,useInsertionEffect:F2,useLayoutEffect:I2,useMemo:U2,useReducer:Tu,useRef:b2,useState:function(){return Tu(Ro)},useDebugValue:w1,useDeferredValue:function(e){var t=EA();return Wt===null?t.memoizedState=e:Q2(t,Wt.memoizedState,e)},useTransition:function(){var e=Tu(Ro)[0],t=EA().memoizedState;return[e,t]},useMutableSource:m2,useSyncExternalStore:w2,useId:D2,unstable_isNewReconciler:!1};function DA(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qh(e,t,r,A){t=e.memoizedState,r=r(A,t),r=r==null?t:It({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var v0={isMounted:function(e){return(e=e._reactInternals)?qs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var A=Ur(),s=is(e),a=xn(A,s);a.payload=t,r!=null&&(a.callback=r),t=ns(e,a,s),t!==null&&(LA(t,e,s,A),uc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var A=Ur(),s=is(e),a=xn(A,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ns(e,a,s),t!==null&&(LA(t,e,s,A),uc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ur(),A=is(e),s=xn(r,A);s.tag=2,t!=null&&(s.callback=t),t=ns(e,s,A),t!==null&&(LA(t,e,A,r),uc(t,e,A))}};function sx(e,t,r,A,s,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(A,a,d):t.prototype&&t.prototype.isPureReactComponent?!_o(r,A)||!_o(s,a):!0}function k2(e,t,r){var A=!1,s=ds,a=t.contextType;return typeof a=="object"&&a!==null?a=CA(a):(s=Wr(t)?Ps:Fr.current,A=t.contextTypes,a=(A=A!=null)?qi(e,s):ds),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=v0,e.stateNode=t,t._reactInternals=e,A&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ix(e,t,r,A){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,A),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,A),t.state!==e&&v0.enqueueReplaceState(t,t.state,null)}function Dh(e,t,r,A){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},u1(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=CA(a):(a=Wr(t)?Ps:Fr.current,s.context=qi(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Qh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&v0.enqueueReplaceState(s,s.state,null),Lc(e,r,s,A),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ea(e,t){try{var r="",A=t;do r+=FC(A),A=A.return;while(A);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ru(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Th(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var J4=typeof WeakMap=="function"?WeakMap:Map;function L2(e,t,r){r=xn(-1,r),r.tag=3,r.payload={element:null};var A=t.value;return r.callback=function(){Kc||(Kc=!0,Vh=A),Th(e,t)},r}function j2(e,t,r){r=xn(-1,r),r.tag=3;var A=e.type.getDerivedStateFromError;if(typeof A=="function"){var s=t.value;r.payload=function(){return A(s)},r.callback=function(){Th(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Th(e,t),typeof A!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function ax(e,t,r){var A=e.pingCache;if(A===null){A=e.pingCache=new J4;var s=new Set;A.set(t,s)}else s=A.get(t),s===void 0&&(s=new Set,A.set(t,s));s.has(r)||(s.add(r),e=hE.bind(null,e,t,r),t.then(e,e))}function ox(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lx(e,t,r,A,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xn(-1,1),t.tag=2,ns(r,t,1))),r.lanes|=1),e)}var eE=En.ReactCurrentOwner,Gr=!1;function Sr(e,t,r,A){t.child=e===null?f2(t,null,r,A):Zi(t,e.child,r,A)}function cx(e,t,r,A,s){r=r.render;var a=t.ref;return Gi(t,s),A=x1(e,t,r,A,a,s),r=p1(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yn(e,t,s)):(Ct&&r&&n1(t),t.flags|=1,Sr(e,t,A,s),t.child)}function ux(e,t,r,A,s){if(e===null){var a=r.type;return typeof a=="function"&&!I1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,M2(e,t,a,A,s)):(e=pc(r.type,null,A,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var d=a.memoizedProps;if(r=r.compare,r=r!==null?r:_o,r(d,A)&&e.ref===t.ref)return yn(e,t,s)}return t.flags|=1,e=as(a,A),e.ref=t.ref,e.return=t,t.child=e}function M2(e,t,r,A,s){if(e!==null){var a=e.memoizedProps;if(_o(a,A)&&e.ref===t.ref)if(Gr=!1,t.pendingProps=A=a,(e.lanes&s)!==0)e.flags&131072&&(Gr=!0);else return t.lanes=e.lanes,yn(e,t,s)}return Rh(e,t,r,A,s)}function H2(e,t,r){var A=t.pendingProps,s=A.children,a=e!==null?e.memoizedState:null;if(A.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Oi,tA),tA|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ft(Oi,tA),tA|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=a!==null?a.baseLanes:r,ft(Oi,tA),tA|=A}else a!==null?(A=a.baseLanes|r,t.memoizedState=null):A=r,ft(Oi,tA),tA|=A;return Sr(e,t,s,r),t.child}function P2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rh(e,t,r,A,s){var a=Wr(r)?Ps:Fr.current;return a=qi(t,a),Gi(t,s),r=x1(e,t,r,A,a,s),A=p1(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yn(e,t,s)):(Ct&&A&&n1(t),t.flags|=1,Sr(e,t,r,s),t.child)}function dx(e,t,r,A,s){if(Wr(r)){var a=!0;Dc(t)}else a=!1;if(Gi(t,s),t.stateNode===null)fc(e,t),k2(t,r,A),Dh(t,r,A,s),A=!0;else if(e===null){var d=t.stateNode,x=t.memoizedProps;d.props=x;var g=d.context,f=r.contextType;typeof f=="object"&&f!==null?f=CA(f):(f=Wr(r)?Ps:Fr.current,f=qi(t,f));var p=r.getDerivedStateFromProps,w=typeof p=="function"||typeof d.getSnapshotBeforeUpdate=="function";w||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==A||g!==f)&&ix(t,d,A,f),Hn=!1;var y=t.memoizedState;d.state=y,Lc(t,A,d,s),g=t.memoizedState,x!==A||y!==g||zr.current||Hn?(typeof p=="function"&&(Qh(t,r,p,A),g=t.memoizedState),(x=Hn||sx(t,r,x,A,y,g,f))?(w||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=A,t.memoizedState=g),d.props=A,d.state=g,d.context=f,A=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),A=!1)}else{d=t.stateNode,x2(e,t),x=t.memoizedProps,f=t.type===t.elementType?x:DA(t.type,x),d.props=f,w=t.pendingProps,y=d.context,g=r.contextType,typeof g=="object"&&g!==null?g=CA(g):(g=Wr(r)?Ps:Fr.current,g=qi(t,g));var E=r.getDerivedStateFromProps;(p=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==w||y!==g)&&ix(t,d,A,g),Hn=!1,y=t.memoizedState,d.state=y,Lc(t,A,d,s);var F=t.memoizedState;x!==w||y!==F||zr.current||Hn?(typeof E=="function"&&(Qh(t,r,E,A),F=t.memoizedState),(f=Hn||sx(t,r,f,A,y,F,g)||!1)?(p||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(A,F,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(A,F,g)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=A,t.memoizedState=F),d.props=A,d.state=F,d.context=g,A=f):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),A=!1)}return Oh(e,t,r,A,a,s)}function Oh(e,t,r,A,s,a){P2(e,t);var d=(t.flags&128)!==0;if(!A&&!d)return s&&$g(t,r,!1),yn(e,t,a);A=t.stateNode,eE.current=t;var x=d&&typeof r.getDerivedStateFromError!="function"?null:A.render();return t.flags|=1,e!==null&&d?(t.child=Zi(t,e.child,null,a),t.child=Zi(t,null,x,a)):Sr(e,t,x,a),t.memoizedState=A.state,s&&$g(t,r,!0),t.child}function K2(e){var t=e.stateNode;t.pendingContext?qg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qg(e,t.context,!1),d1(e,t.containerInfo)}function hx(e,t,r,A,s){return $i(),i1(s),t.flags|=256,Sr(e,t,r,A),t.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Lh(e){return{baseLanes:e,cachePool:null,transitions:null}}function V2(e,t,r){var A=t.pendingProps,s=bt.current,a=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(s&2)!==0),x?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ft(bt,s&1),e===null)return Sh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=A.children,e=A.fallback,a?(A=t.mode,a=t.child,d={mode:"hidden",children:d},!(A&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=b0(d,A,0,null),e=Ls(e,A,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Lh(r),t.memoizedState=kh,e):B1(t,d));if(s=e.memoizedState,s!==null&&(x=s.dehydrated,x!==null))return tE(e,t,d,A,x,s,r);if(a){a=A.fallback,d=t.mode,s=e.child,x=s.sibling;var g={mode:"hidden",children:A.children};return!(d&1)&&t.child!==s?(A=t.child,A.childLanes=0,A.pendingProps=g,t.deletions=null):(A=as(s,g),A.subtreeFlags=s.subtreeFlags&14680064),x!==null?a=as(x,a):(a=Ls(a,d,r,null),a.flags|=2),a.return=t,A.return=t,A.sibling=a,t.child=A,A=a,a=t.child,d=e.child.memoizedState,d=d===null?Lh(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~r,t.memoizedState=kh,A}return a=e.child,e=a.sibling,A=as(a,{mode:"visible",children:A.children}),!(t.mode&1)&&(A.lanes=r),A.return=t,A.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=A,t.memoizedState=null,A}function B1(e,t){return t=b0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Il(e,t,r,A){return A!==null&&i1(A),Zi(t,e.child,null,r),e=B1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tE(e,t,r,A,s,a,d){if(r)return t.flags&256?(t.flags&=-257,A=Ru(Error(ge(422))),Il(e,t,d,A)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=A.fallback,s=t.mode,A=b0({mode:"visible",children:A.children},s,0,null),a=Ls(a,s,d,null),a.flags|=2,A.return=t,a.return=t,A.sibling=a,t.child=A,t.mode&1&&Zi(t,e.child,null,d),t.child.memoizedState=Lh(d),t.memoizedState=kh,a);if(!(t.mode&1))return Il(e,t,d,null);if(s.data==="$!"){if(A=s.nextSibling&&s.nextSibling.dataset,A)var x=A.dgst;return A=x,a=Error(ge(419)),A=Ru(a,A,void 0),Il(e,t,d,A)}if(x=(d&e.childLanes)!==0,Gr||x){if(A=sr,A!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(A.suspendedLanes|d)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Bn(e,s),LA(A,e,s,-1))}return F1(),A=Ru(Error(ge(421))),Il(e,t,d,A)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fE.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,rA=As(s.nextSibling),AA=t,Ct=!0,OA=null,e!==null&&(gA[xA++]=fn,gA[xA++]=gn,gA[xA++]=Ks,fn=e.id,gn=e.overflow,Ks=t),t=B1(t,A.children),t.flags|=4096,t)}function fx(e,t,r){e.lanes|=t;var A=e.alternate;A!==null&&(A.lanes|=t),Uh(e.return,t,r)}function Ou(e,t,r,A,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:A,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=A,a.tail=r,a.tailMode=s)}function G2(e,t,r){var A=t.pendingProps,s=A.revealOrder,a=A.tail;if(Sr(e,t,A.children,r),A=bt.current,A&2)A=A&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fx(e,r,t);else if(e.tag===19)fx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}A&=1}if(ft(bt,A),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&jc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ou(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ou(t,!0,r,null,a);break;case"together":Ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=as(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=as(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rE(e,t,r){switch(t.tag){case 3:K2(t),$i();break;case 5:p2(t);break;case 1:Wr(t.type)&&Dc(t);break;case 4:d1(t,t.stateNode.containerInfo);break;case 10:var A=t.type._context,s=t.memoizedProps.value;ft(Oc,A._currentValue),A._currentValue=s;break;case 13:if(A=t.memoizedState,A!==null)return A.dehydrated!==null?(ft(bt,bt.current&1),t.flags|=128,null):r&t.child.childLanes?V2(e,t,r):(ft(bt,bt.current&1),e=yn(e,t,r),e!==null?e.sibling:null);ft(bt,bt.current&1);break;case 19:if(A=(r&t.childLanes)!==0,e.flags&128){if(A)return G2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ft(bt,bt.current),A)break;return null;case 22:case 23:return t.lanes=0,H2(e,t,r)}return yn(e,t,r)}var z2,jh,W2,X2;z2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jh=function(){};W2=function(e,t,r,A){var s=e.memoizedProps;if(s!==A){e=t.stateNode,Rs(An.current);var a=null;switch(r){case"input":s=ah(e,s),A=ah(e,A),a=[];break;case"select":s=It({},s,{value:void 0}),A=It({},A,{value:void 0}),a=[];break;case"textarea":s=ch(e,s),A=ch(e,A),a=[];break;default:typeof s.onClick!="function"&&typeof A.onClick=="function"&&(e.onclick=Uc)}dh(r,A);var d;r=null;for(f in s)if(!A.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var x=s[f];for(d in x)x.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(yo.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in A){var g=A[f];if(x=s!=null?s[f]:void 0,A.hasOwnProperty(f)&&g!==x&&(g!=null||x!=null))if(f==="style")if(x){for(d in x)!x.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in g)g.hasOwnProperty(d)&&x[d]!==g[d]&&(r||(r={}),r[d]=g[d])}else r||(a||(a=[]),a.push(f,r)),r=g;else f==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,x=x?x.__html:void 0,g!=null&&x!==g&&(a=a||[]).push(f,g)):f==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(f,""+g):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(yo.hasOwnProperty(f)?(g!=null&&f==="onScroll"&&pt("scroll",e),a||x===g||(a=[])):(a=a||[]).push(f,g))}r&&(a=a||[]).push("style",r);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};X2=function(e,t,r,A){r!==A&&(t.flags|=4)};function Da(e,t){if(!Ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var A=null;r!==null;)r.alternate!==null&&(A=r),r=r.sibling;A===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:A.sibling=null}}function yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,A=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,A|=s.subtreeFlags&14680064,A|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,A|=s.subtreeFlags,A|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=A,e.childLanes=r,t}function AE(e,t,r){var A=t.pendingProps;switch(s1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(t),null;case 1:return Wr(t.type)&&Qc(),yr(t),null;case 3:return A=t.stateNode,Ji(),wt(zr),wt(Fr),f1(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(e===null||e.child===null)&&(bl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,OA!==null&&(Wh(OA),OA=null))),jh(e,t),yr(t),null;case 5:h1(t);var s=Rs(Do.current);if(r=t.type,e!==null&&t.stateNode!=null)W2(e,t,r,A,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!A){if(t.stateNode===null)throw Error(ge(166));return yr(t),null}if(e=Rs(An.current),bl(t)){A=t.stateNode,r=t.type;var a=t.memoizedProps;switch(A[tn]=t,A[Uo]=a,e=(t.mode&1)!==0,r){case"dialog":pt("cancel",A),pt("close",A);break;case"iframe":case"object":case"embed":pt("load",A);break;case"video":case"audio":for(s=0;s<Ka.length;s++)pt(Ka[s],A);break;case"source":pt("error",A);break;case"img":case"image":case"link":pt("error",A),pt("load",A);break;case"details":pt("toggle",A);break;case"input":Cg(A,a),pt("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!a.multiple},pt("invalid",A);break;case"textarea":bg(A,a),pt("invalid",A)}dh(r,a),s=null;for(var d in a)if(a.hasOwnProperty(d)){var x=a[d];d==="children"?typeof x=="string"?A.textContent!==x&&(a.suppressHydrationWarning!==!0&&El(A.textContent,x,e),s=["children",x]):typeof x=="number"&&A.textContent!==""+x&&(a.suppressHydrationWarning!==!0&&El(A.textContent,x,e),s=["children",""+x]):yo.hasOwnProperty(d)&&x!=null&&d==="onScroll"&&pt("scroll",A)}switch(r){case"input":xl(A),Eg(A,a,!0);break;case"textarea":xl(A),Fg(A);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(A.onclick=Uc)}A=s,t.updateQueue=A,A!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof A.is=="string"?e=d.createElement(r,{is:A.is}):(e=d.createElement(r),r==="select"&&(d=e,A.multiple?d.multiple=!0:A.size&&(d.size=A.size))):e=d.createElementNS(e,r),e[tn]=t,e[Uo]=A,z2(e,t,!1,!1),t.stateNode=e;e:{switch(d=hh(r,A),r){case"dialog":pt("cancel",e),pt("close",e),s=A;break;case"iframe":case"object":case"embed":pt("load",e),s=A;break;case"video":case"audio":for(s=0;s<Ka.length;s++)pt(Ka[s],e);s=A;break;case"source":pt("error",e),s=A;break;case"img":case"image":case"link":pt("error",e),pt("load",e),s=A;break;case"details":pt("toggle",e),s=A;break;case"input":Cg(e,A),s=ah(e,A),pt("invalid",e);break;case"option":s=A;break;case"select":e._wrapperState={wasMultiple:!!A.multiple},s=It({},A,{value:void 0}),pt("invalid",e);break;case"textarea":bg(e,A),s=ch(e,A),pt("invalid",e);break;default:s=A}dh(r,s),x=s;for(a in x)if(x.hasOwnProperty(a)){var g=x[a];a==="style"?bw(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Cw(e,g)):a==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&vo(e,g):typeof g=="number"&&vo(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(yo.hasOwnProperty(a)?g!=null&&a==="onScroll"&&pt("scroll",e):g!=null&&Vf(e,a,g,d))}switch(r){case"input":xl(e),Eg(e,A,!1);break;case"textarea":xl(e),Fg(e);break;case"option":A.value!=null&&e.setAttribute("value",""+us(A.value));break;case"select":e.multiple=!!A.multiple,a=A.value,a!=null?Hi(e,!!A.multiple,a,!1):A.defaultValue!=null&&Hi(e,!!A.multiple,A.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Uc)}switch(r){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yr(t),null;case 6:if(e&&t.stateNode!=null)X2(e,t,e.memoizedProps,A);else{if(typeof A!="string"&&t.stateNode===null)throw Error(ge(166));if(r=Rs(Do.current),Rs(An.current),bl(t)){if(A=t.stateNode,r=t.memoizedProps,A[tn]=t,(a=A.nodeValue!==r)&&(e=AA,e!==null))switch(e.tag){case 3:El(A.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&El(A.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else A=(r.nodeType===9?r:r.ownerDocument).createTextNode(A),A[tn]=t,t.stateNode=A}return yr(t),null;case 13:if(wt(bt),A=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ct&&rA!==null&&t.mode&1&&!(t.flags&128))d2(),$i(),t.flags|=98560,a=!1;else if(a=bl(t),A!==null&&A.dehydrated!==null){if(e===null){if(!a)throw Error(ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ge(317));a[tn]=t}else $i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yr(t),a=!1}else OA!==null&&(Wh(OA),OA=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(A=A!==null,A!==(e!==null&&e.memoizedState!==null)&&A&&(t.child.flags|=8192,t.mode&1&&(e===null||bt.current&1?Yt===0&&(Yt=3):F1())),t.updateQueue!==null&&(t.flags|=4),yr(t),null);case 4:return Ji(),jh(e,t),e===null&&No(t.stateNode.containerInfo),yr(t),null;case 10:return l1(t.type._context),yr(t),null;case 17:return Wr(t.type)&&Qc(),yr(t),null;case 19:if(wt(bt),a=t.memoizedState,a===null)return yr(t),null;if(A=(t.flags&128)!==0,d=a.rendering,d===null)if(A)Da(a,!1);else{if(Yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=jc(e),d!==null){for(t.flags|=128,Da(a,!1),A=d.updateQueue,A!==null&&(t.updateQueue=A,t.flags|=4),t.subtreeFlags=0,A=r,r=t.child;r!==null;)a=r,e=A,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ft(bt,bt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ht()>ta&&(t.flags|=128,A=!0,Da(a,!1),t.lanes=4194304)}else{if(!A)if(e=jc(d),e!==null){if(t.flags|=128,A=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Da(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Ct)return yr(t),null}else 2*Ht()-a.renderingStartTime>ta&&r!==1073741824&&(t.flags|=128,A=!0,Da(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(r=a.last,r!==null?r.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ht(),t.sibling=null,r=bt.current,ft(bt,A?r&1|2:r&1),t):(yr(t),null);case 22:case 23:return b1(),A=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==A&&(t.flags|=8192),A&&t.mode&1?tA&1073741824&&(yr(t),t.subtreeFlags&6&&(t.flags|=8192)):yr(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function nE(e,t){switch(s1(t),t.tag){case 1:return Wr(t.type)&&Qc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ji(),wt(zr),wt(Fr),f1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return h1(t),null;case 13:if(wt(bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(bt),null;case 4:return Ji(),null;case 10:return l1(t.type._context),null;case 22:case 23:return b1(),null;case 24:return null;default:return null}}var _l=!1,br=!1,sE=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ri(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(A){Tt(e,t,A)}else r.current=null}function Mh(e,t,r){try{r()}catch(A){Tt(e,t,A)}}var gx=!1;function iE(e,t){if(Ch=_c,e=Jw(),A1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var A=r.getSelection&&r.getSelection();if(A&&A.rangeCount!==0){r=A.anchorNode;var s=A.anchorOffset,a=A.focusNode;A=A.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var d=0,x=-1,g=-1,f=0,p=0,w=e,y=null;t:for(;;){for(var E;w!==r||s!==0&&w.nodeType!==3||(x=d+s),w!==a||A!==0&&w.nodeType!==3||(g=d+A),w.nodeType===3&&(d+=w.nodeValue.length),(E=w.firstChild)!==null;)y=w,w=E;for(;;){if(w===e)break t;if(y===r&&++f===s&&(x=d),y===a&&++p===A&&(g=d),(E=w.nextSibling)!==null)break;w=y,y=w.parentNode}w=E}r=x===-1||g===-1?null:{start:x,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eh={focusedElem:e,selectionRange:r},_c=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var I=F.memoizedProps,U=F.memoizedState,_=t.stateNode,C=_.getSnapshotBeforeUpdate(t.elementType===t.type?I:DA(t.type,I),U);_.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(S){Tt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return F=gx,gx=!1,F}function so(e,t,r){var A=t.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var s=A=A.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Mh(t,r,a)}s=s.next}while(s!==A)}}function C0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var A=r.create;r.destroy=A()}r=r.next}while(r!==t)}}function Hh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Y2(e){var t=e.alternate;t!==null&&(e.alternate=null,Y2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Uo],delete t[Ih],delete t[P4],delete t[K4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function q2(e){return e.tag===5||e.tag===3||e.tag===4}function xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||q2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ph(e,t,r){var A=e.tag;if(A===5||A===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uc));else if(A!==4&&(e=e.child,e!==null))for(Ph(e,t,r),e=e.sibling;e!==null;)Ph(e,t,r),e=e.sibling}function Kh(e,t,r){var A=e.tag;if(A===5||A===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(A!==4&&(e=e.child,e!==null))for(Kh(e,t,r),e=e.sibling;e!==null;)Kh(e,t,r),e=e.sibling}var fr=null,TA=!1;function Rn(e,t,r){for(r=r.child;r!==null;)$2(e,t,r),r=r.sibling}function $2(e,t,r){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(g0,r)}catch{}switch(r.tag){case 5:br||Ri(r,t);case 6:var A=fr,s=TA;fr=null,Rn(e,t,r),fr=A,TA=s,fr!==null&&(TA?(e=fr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fr.removeChild(r.stateNode));break;case 18:fr!==null&&(TA?(e=fr,r=r.stateNode,e.nodeType===8?Nu(e.parentNode,r):e.nodeType===1&&Nu(e,r),Fo(e)):Nu(fr,r.stateNode));break;case 4:A=fr,s=TA,fr=r.stateNode.containerInfo,TA=!0,Rn(e,t,r),fr=A,TA=s;break;case 0:case 11:case 14:case 15:if(!br&&(A=r.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){s=A=A.next;do{var a=s,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&Mh(r,t,d),s=s.next}while(s!==A)}Rn(e,t,r);break;case 1:if(!br&&(Ri(r,t),A=r.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=r.memoizedProps,A.state=r.memoizedState,A.componentWillUnmount()}catch(x){Tt(r,t,x)}Rn(e,t,r);break;case 21:Rn(e,t,r);break;case 22:r.mode&1?(br=(A=br)||r.memoizedState!==null,Rn(e,t,r),br=A):Rn(e,t,r);break;default:Rn(e,t,r)}}function px(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sE),t.forEach(function(A){var s=gE.bind(null,e,A);r.has(A)||(r.add(A),A.then(s,s))})}}function SA(e,t){var r=t.deletions;if(r!==null)for(var A=0;A<r.length;A++){var s=r[A];try{var a=e,d=t,x=d;e:for(;x!==null;){switch(x.tag){case 5:fr=x.stateNode,TA=!1;break e;case 3:fr=x.stateNode.containerInfo,TA=!0;break e;case 4:fr=x.stateNode.containerInfo,TA=!0;break e}x=x.return}if(fr===null)throw Error(ge(160));$2(a,d,s),fr=null,TA=!1;var g=s.alternate;g!==null&&(g.return=null),s.return=null}catch(f){Tt(s,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z2(t,e),t=t.sibling}function Z2(e,t){var r=e.alternate,A=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(SA(t,e),qA(e),A&4){try{so(3,e,e.return),C0(3,e)}catch(I){Tt(e,e.return,I)}try{so(5,e,e.return)}catch(I){Tt(e,e.return,I)}}break;case 1:SA(t,e),qA(e),A&512&&r!==null&&Ri(r,r.return);break;case 5:if(SA(t,e),qA(e),A&512&&r!==null&&Ri(r,r.return),e.flags&32){var s=e.stateNode;try{vo(s,"")}catch(I){Tt(e,e.return,I)}}if(A&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,d=r!==null?r.memoizedProps:a,x=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{x==="input"&&a.type==="radio"&&a.name!=null&&Bw(s,a),hh(x,d);var f=hh(x,a);for(d=0;d<g.length;d+=2){var p=g[d],w=g[d+1];p==="style"?bw(s,w):p==="dangerouslySetInnerHTML"?Cw(s,w):p==="children"?vo(s,w):Vf(s,p,w,f)}switch(x){case"input":oh(s,a);break;case"textarea":yw(s,a);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?Hi(s,!!a.multiple,E,!1):y!==!!a.multiple&&(a.defaultValue!=null?Hi(s,!!a.multiple,a.defaultValue,!0):Hi(s,!!a.multiple,a.multiple?[]:"",!1))}s[Uo]=a}catch(I){Tt(e,e.return,I)}}break;case 6:if(SA(t,e),qA(e),A&4){if(e.stateNode===null)throw Error(ge(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(I){Tt(e,e.return,I)}}break;case 3:if(SA(t,e),qA(e),A&4&&r!==null&&r.memoizedState.isDehydrated)try{Fo(t.containerInfo)}catch(I){Tt(e,e.return,I)}break;case 4:SA(t,e),qA(e);break;case 13:SA(t,e),qA(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(C1=Ht())),A&4&&px(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(br=(f=br)||p,SA(t,e),br=f):SA(t,e),qA(e),A&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(_e=e,p=e.child;p!==null;){for(w=_e=p;_e!==null;){switch(y=_e,E=y.child,y.tag){case 0:case 11:case 14:case 15:so(4,y,y.return);break;case 1:Ri(y,y.return);var F=y.stateNode;if(typeof F.componentWillUnmount=="function"){A=y,r=y.return;try{t=A,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(I){Tt(A,r,I)}}break;case 5:Ri(y,y.return);break;case 22:if(y.memoizedState!==null){wx(w);continue}}E!==null?(E.return=y,_e=E):wx(w)}p=p.sibling}e:for(p=null,w=e;;){if(w.tag===5){if(p===null){p=w;try{s=w.stateNode,f?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(x=w.stateNode,g=w.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,x.style.display=Ew("display",d))}catch(I){Tt(e,e.return,I)}}}else if(w.tag===6){if(p===null)try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(I){Tt(e,e.return,I)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;p===w&&(p=null),w=w.return}p===w&&(p=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:SA(t,e),qA(e),A&4&&px(e);break;case 21:break;default:SA(t,e),qA(e)}}function qA(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(q2(r)){var A=r;break e}r=r.return}throw Error(ge(160))}switch(A.tag){case 5:var s=A.stateNode;A.flags&32&&(vo(s,""),A.flags&=-33);var a=xx(e);Kh(e,a,s);break;case 3:case 4:var d=A.stateNode.containerInfo,x=xx(e);Ph(e,x,d);break;default:throw Error(ge(161))}}catch(g){Tt(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aE(e,t,r){_e=e,J2(e)}function J2(e,t,r){for(var A=(e.mode&1)!==0;_e!==null;){var s=_e,a=s.child;if(s.tag===22&&A){var d=s.memoizedState!==null||_l;if(!d){var x=s.alternate,g=x!==null&&x.memoizedState!==null||br;x=_l;var f=br;if(_l=d,(br=g)&&!f)for(_e=s;_e!==null;)d=_e,g=d.child,d.tag===22&&d.memoizedState!==null?Bx(s):g!==null?(g.return=d,_e=g):Bx(s);for(;a!==null;)_e=a,J2(a),a=a.sibling;_e=s,_l=x,br=f}mx(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,_e=a):mx(e)}}function mx(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:br||C0(5,t);break;case 1:var A=t.stateNode;if(t.flags&4&&!br)if(r===null)A.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:DA(t.type,r.memoizedProps);A.componentDidUpdate(s,r.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&rx(t,a,A);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rx(t,d,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var w=p.dehydrated;w!==null&&Fo(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}br||t.flags&512&&Hh(t)}catch(y){Tt(t,t.return,y)}}if(t===e){_e=null;break}if(r=t.sibling,r!==null){r.return=t.return,_e=r;break}_e=t.return}}function wx(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,_e=r;break}_e=t.return}}function Bx(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{C0(4,t)}catch(g){Tt(t,r,g)}break;case 1:var A=t.stateNode;if(typeof A.componentDidMount=="function"){var s=t.return;try{A.componentDidMount()}catch(g){Tt(t,s,g)}}var a=t.return;try{Hh(t)}catch(g){Tt(t,a,g)}break;case 5:var d=t.return;try{Hh(t)}catch(g){Tt(t,d,g)}}}catch(g){Tt(t,t.return,g)}if(t===e){_e=null;break}var x=t.sibling;if(x!==null){x.return=t.return,_e=x;break}_e=t.return}}var oE=Math.ceil,Pc=En.ReactCurrentDispatcher,y1=En.ReactCurrentOwner,vA=En.ReactCurrentBatchConfig,Je=0,sr=null,Vt=null,pr=0,tA=0,Oi=gs(0),Yt=0,ko=null,Gs=0,E0=0,v1=0,io=null,Pr=null,C1=0,ta=1/0,un=null,Kc=!1,Vh=null,ss=null,Nl=!1,Yn=null,Vc=0,ao=0,Gh=null,gc=-1,xc=0;function Ur(){return Je&6?Ht():gc!==-1?gc:gc=Ht()}function is(e){return e.mode&1?Je&2&&pr!==0?pr&-pr:G4.transition!==null?(xc===0&&(xc=kw()),xc):(e=it,e!==0||(e=window.event,e=e===void 0?16:Vw(e.type)),e):1}function LA(e,t,r,A){if(50<ao)throw ao=0,Gh=null,Error(ge(185));Xo(e,r,A),(!(Je&2)||e!==sr)&&(e===sr&&(!(Je&2)&&(E0|=r),Yt===4&&Gn(e,pr)),Xr(e,A),r===1&&Je===0&&!(t.mode&1)&&(ta=Ht()+500,B0&&xs()))}function Xr(e,t){var r=e.callbackNode;GC(e,t);var A=Ic(e,e===sr?pr:0);if(A===0)r!==null&&Ng(r),e.callbackNode=null,e.callbackPriority=0;else if(t=A&-A,e.callbackPriority!==t){if(r!=null&&Ng(r),t===1)e.tag===0?V4(yx.bind(null,e)):l2(yx.bind(null,e)),M4(function(){!(Je&6)&&xs()}),r=null;else{switch(Lw(A)){case 1:r=Yf;break;case 4:r=Rw;break;case 16:r=Fc;break;case 536870912:r=Ow;break;default:r=Fc}r=aB(r,eB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eB(e,t){if(gc=-1,xc=0,Je&6)throw Error(ge(327));var r=e.callbackNode;if(zi()&&e.callbackNode!==r)return null;var A=Ic(e,e===sr?pr:0);if(A===0)return null;if(A&30||A&e.expiredLanes||t)t=Gc(e,A);else{t=A;var s=Je;Je|=2;var a=rB();(sr!==e||pr!==t)&&(un=null,ta=Ht()+500,ks(e,t));do try{uE();break}catch(x){tB(e,x)}while(!0);o1(),Pc.current=a,Je=s,Vt!==null?t=0:(sr=null,pr=0,t=Yt)}if(t!==0){if(t===2&&(s=mh(e),s!==0&&(A=s,t=zh(e,s))),t===1)throw r=ko,ks(e,0),Gn(e,A),Xr(e,Ht()),r;if(t===6)Gn(e,A);else{if(s=e.current.alternate,!(A&30)&&!lE(s)&&(t=Gc(e,A),t===2&&(a=mh(e),a!==0&&(A=a,t=zh(e,a))),t===1))throw r=ko,ks(e,0),Gn(e,A),Xr(e,Ht()),r;switch(e.finishedWork=s,e.finishedLanes=A,t){case 0:case 1:throw Error(ge(345));case 2:_s(e,Pr,un);break;case 3:if(Gn(e,A),(A&130023424)===A&&(t=C1+500-Ht(),10<t)){if(Ic(e,0)!==0)break;if(s=e.suspendedLanes,(s&A)!==A){Ur(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fh(_s.bind(null,e,Pr,un),t);break}_s(e,Pr,un);break;case 4:if(Gn(e,A),(A&4194240)===A)break;for(t=e.eventTimes,s=-1;0<A;){var d=31-kA(A);a=1<<d,d=t[d],d>s&&(s=d),A&=~a}if(A=s,A=Ht()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*oE(A/1960))-A,10<A){e.timeoutHandle=Fh(_s.bind(null,e,Pr,un),A);break}_s(e,Pr,un);break;case 5:_s(e,Pr,un);break;default:throw Error(ge(329))}}}return Xr(e,Ht()),e.callbackNode===r?eB.bind(null,e):null}function zh(e,t){var r=io;return e.current.memoizedState.isDehydrated&&(ks(e,t).flags|=256),e=Gc(e,t),e!==2&&(t=Pr,Pr=r,t!==null&&Wh(t)),e}function Wh(e){Pr===null?Pr=e:Pr.push.apply(Pr,e)}function lE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var A=0;A<r.length;A++){var s=r[A],a=s.getSnapshot;s=s.value;try{if(!jA(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~v1,t&=~E0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kA(t),A=1<<r;e[r]=-1,t&=~A}}function yx(e){if(Je&6)throw Error(ge(327));zi();var t=Ic(e,0);if(!(t&1))return Xr(e,Ht()),null;var r=Gc(e,t);if(e.tag!==0&&r===2){var A=mh(e);A!==0&&(t=A,r=zh(e,A))}if(r===1)throw r=ko,ks(e,0),Gn(e,t),Xr(e,Ht()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e,Pr,un),Xr(e,Ht()),null}function E1(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(ta=Ht()+500,B0&&xs())}}function zs(e){Yn!==null&&Yn.tag===0&&!(Je&6)&&zi();var t=Je;Je|=1;var r=vA.transition,A=it;try{if(vA.transition=null,it=1,e)return e()}finally{it=A,vA.transition=r,Je=t,!(Je&6)&&xs()}}function b1(){tA=Oi.current,wt(Oi)}function ks(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j4(r)),Vt!==null)for(r=Vt.return;r!==null;){var A=r;switch(s1(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Qc();break;case 3:Ji(),wt(zr),wt(Fr),f1();break;case 5:h1(A);break;case 4:Ji();break;case 13:wt(bt);break;case 19:wt(bt);break;case 10:l1(A.type._context);break;case 22:case 23:b1()}r=r.return}if(sr=e,Vt=e=as(e.current,null),pr=tA=t,Yt=0,ko=null,v1=E0=Gs=0,Pr=io=null,Ts!==null){for(t=0;t<Ts.length;t++)if(r=Ts[t],A=r.interleaved,A!==null){r.interleaved=null;var s=A.next,a=r.pending;if(a!==null){var d=a.next;a.next=s,A.next=d}r.pending=A}Ts=null}return e}function tB(e,t){do{var r=Vt;try{if(o1(),dc.current=Hc,Mc){for(var A=Ft.memoizedState;A!==null;){var s=A.queue;s!==null&&(s.pending=null),A=A.next}Mc=!1}if(Vs=0,Ar=Wt=Ft=null,no=!1,To=0,y1.current=null,r===null||r.return===null){Yt=1,ko=t,Vt=null;break}e:{var a=e,d=r.return,x=r,g=t;if(t=pr,x.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var f=g,p=x,w=p.tag;if(!(p.mode&1)&&(w===0||w===11||w===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=ox(d);if(E!==null){E.flags&=-257,lx(E,d,x,a,t),E.mode&1&&ax(a,f,t),t=E,g=f;var F=t.updateQueue;if(F===null){var I=new Set;I.add(g),t.updateQueue=I}else F.add(g);break e}else{if(!(t&1)){ax(a,f,t),F1();break e}g=Error(ge(426))}}else if(Ct&&x.mode&1){var U=ox(d);if(U!==null){!(U.flags&65536)&&(U.flags|=256),lx(U,d,x,a,t),i1(ea(g,x));break e}}a=g=ea(g,x),Yt!==4&&(Yt=2),io===null?io=[a]:io.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=L2(a,g,t);tx(a,_);break e;case 1:x=g;var C=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof C.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ss===null||!ss.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=j2(a,x,t);tx(a,S);break e}}a=a.return}while(a!==null)}nB(r)}catch(k){t=k,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function rB(){var e=Pc.current;return Pc.current=Hc,e===null?Hc:e}function F1(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),sr===null||!(Gs&268435455)&&!(E0&268435455)||Gn(sr,pr)}function Gc(e,t){var r=Je;Je|=2;var A=rB();(sr!==e||pr!==t)&&(un=null,ks(e,t));do try{cE();break}catch(s){tB(e,s)}while(!0);if(o1(),Je=r,Pc.current=A,Vt!==null)throw Error(ge(261));return sr=null,pr=0,Yt}function cE(){for(;Vt!==null;)AB(Vt)}function uE(){for(;Vt!==null&&!OC();)AB(Vt)}function AB(e){var t=iB(e.alternate,e,tA);e.memoizedProps=e.pendingProps,t===null?nB(e):Vt=t,y1.current=null}function nB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=nE(r,t),r!==null){r.flags&=32767,Vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yt=6,Vt=null;return}}else if(r=AE(r,t,tA),r!==null){Vt=r;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);Yt===0&&(Yt=5)}function _s(e,t,r){var A=it,s=vA.transition;try{vA.transition=null,it=1,dE(e,t,r,A)}finally{vA.transition=s,it=A}return null}function dE(e,t,r,A){do zi();while(Yn!==null);if(Je&6)throw Error(ge(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(zC(e,a),e===sr&&(Vt=sr=null,pr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nl||(Nl=!0,aB(Fc,function(){return zi(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=vA.transition,vA.transition=null;var d=it;it=1;var x=Je;Je|=4,y1.current=null,iE(e,r),Z2(r,e),Q4(Eh),_c=!!Ch,Eh=Ch=null,e.current=r,aE(r),kC(),Je=x,it=d,vA.transition=a}else e.current=r;if(Nl&&(Nl=!1,Yn=e,Vc=s),a=e.pendingLanes,a===0&&(ss=null),MC(r.stateNode),Xr(e,Ht()),t!==null)for(A=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],A(s.value,{componentStack:s.stack,digest:s.digest});if(Kc)throw Kc=!1,e=Vh,Vh=null,e;return Vc&1&&e.tag!==0&&zi(),a=e.pendingLanes,a&1?e===Gh?ao++:(ao=0,Gh=e):ao=0,xs(),null}function zi(){if(Yn!==null){var e=Lw(Vc),t=vA.transition,r=it;try{if(vA.transition=null,it=16>e?16:e,Yn===null)var A=!1;else{if(e=Yn,Yn=null,Vc=0,Je&6)throw Error(ge(331));var s=Je;for(Je|=4,_e=e.current;_e!==null;){var a=_e,d=a.child;if(_e.flags&16){var x=a.deletions;if(x!==null){for(var g=0;g<x.length;g++){var f=x[g];for(_e=f;_e!==null;){var p=_e;switch(p.tag){case 0:case 11:case 15:so(8,p,a)}var w=p.child;if(w!==null)w.return=p,_e=w;else for(;_e!==null;){p=_e;var y=p.sibling,E=p.return;if(Y2(p),p===f){_e=null;break}if(y!==null){y.return=E,_e=y;break}_e=E}}}var F=a.alternate;if(F!==null){var I=F.child;if(I!==null){F.child=null;do{var U=I.sibling;I.sibling=null,I=U}while(I!==null)}}_e=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,_e=d;else e:for(;_e!==null;){if(a=_e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:so(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,_e=_;break e}_e=a.return}}var C=e.current;for(_e=C;_e!==null;){d=_e;var b=d.child;if(d.subtreeFlags&2064&&b!==null)b.return=d,_e=b;else e:for(d=C;_e!==null;){if(x=_e,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:C0(9,x)}}catch(k){Tt(x,x.return,k)}if(x===d){_e=null;break e}var S=x.sibling;if(S!==null){S.return=x.return,_e=S;break e}_e=x.return}}if(Je=s,xs(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(g0,e)}catch{}A=!0}return A}finally{it=r,vA.transition=t}}return!1}function vx(e,t,r){t=ea(r,t),t=L2(e,t,1),e=ns(e,t,1),t=Ur(),e!==null&&(Xo(e,1,t),Xr(e,t))}function Tt(e,t,r){if(e.tag===3)vx(e,e,r);else for(;t!==null;){if(t.tag===3){vx(t,e,r);break}else if(t.tag===1){var A=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(ss===null||!ss.has(A))){e=ea(r,e),e=j2(t,e,1),t=ns(t,e,1),e=Ur(),t!==null&&(Xo(t,1,e),Xr(t,e));break}}t=t.return}}function hE(e,t,r){var A=e.pingCache;A!==null&&A.delete(t),t=Ur(),e.pingedLanes|=e.suspendedLanes&r,sr===e&&(pr&r)===r&&(Yt===4||Yt===3&&(pr&130023424)===pr&&500>Ht()-C1?ks(e,0):v1|=r),Xr(e,t)}function sB(e,t){t===0&&(e.mode&1?(t=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):t=1);var r=Ur();e=Bn(e,t),e!==null&&(Xo(e,t,r),Xr(e,r))}function fE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sB(e,r)}function gE(e,t){var r=0;switch(e.tag){case 13:var A=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:A=e.stateNode;break;default:throw Error(ge(314))}A!==null&&A.delete(t),sB(e,r)}var iB;iB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zr.current)Gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gr=!1,rE(e,t,r);Gr=!!(e.flags&131072)}else Gr=!1,Ct&&t.flags&1048576&&c2(t,Rc,t.index);switch(t.lanes=0,t.tag){case 2:var A=t.type;fc(e,t),e=t.pendingProps;var s=qi(t,Fr.current);Gi(t,r),s=x1(null,t,A,e,s,r);var a=p1();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wr(A)?(a=!0,Dc(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,u1(t),s.updater=v0,t.stateNode=s,s._reactInternals=t,Dh(t,A,e,r),t=Oh(null,t,A,!0,a,r)):(t.tag=0,Ct&&a&&n1(t),Sr(null,t,s,r),t=t.child),t;case 16:A=t.elementType;e:{switch(fc(e,t),e=t.pendingProps,s=A._init,A=s(A._payload),t.type=A,s=t.tag=pE(A),e=DA(A,e),s){case 0:t=Rh(null,t,A,e,r);break e;case 1:t=dx(null,t,A,e,r);break e;case 11:t=cx(null,t,A,e,r);break e;case 14:t=ux(null,t,A,DA(A.type,e),r);break e}throw Error(ge(306,A,""))}return t;case 0:return A=t.type,s=t.pendingProps,s=t.elementType===A?s:DA(A,s),Rh(e,t,A,s,r);case 1:return A=t.type,s=t.pendingProps,s=t.elementType===A?s:DA(A,s),dx(e,t,A,s,r);case 3:e:{if(K2(t),e===null)throw Error(ge(387));A=t.pendingProps,a=t.memoizedState,s=a.element,x2(e,t),Lc(t,A,null,r);var d=t.memoizedState;if(A=d.element,a.isDehydrated)if(a={element:A,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ea(Error(ge(423)),t),t=hx(e,t,A,r,s);break e}else if(A!==s){s=ea(Error(ge(424)),t),t=hx(e,t,A,r,s);break e}else for(rA=As(t.stateNode.containerInfo.firstChild),AA=t,Ct=!0,OA=null,r=f2(t,null,A,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($i(),A===s){t=yn(e,t,r);break e}Sr(e,t,A,r)}t=t.child}return t;case 5:return p2(t),e===null&&Sh(t),A=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,d=s.children,bh(A,s)?d=null:a!==null&&bh(A,a)&&(t.flags|=32),P2(e,t),Sr(e,t,d,r),t.child;case 6:return e===null&&Sh(t),null;case 13:return V2(e,t,r);case 4:return d1(t,t.stateNode.containerInfo),A=t.pendingProps,e===null?t.child=Zi(t,null,A,r):Sr(e,t,A,r),t.child;case 11:return A=t.type,s=t.pendingProps,s=t.elementType===A?s:DA(A,s),cx(e,t,A,s,r);case 7:return Sr(e,t,t.pendingProps,r),t.child;case 8:return Sr(e,t,t.pendingProps.children,r),t.child;case 12:return Sr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(A=t.type._context,s=t.pendingProps,a=t.memoizedProps,d=s.value,ft(Oc,A._currentValue),A._currentValue=d,a!==null)if(jA(a.value,d)){if(a.children===s.children&&!zr.current){t=yn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var x=a.dependencies;if(x!==null){d=a.child;for(var g=x.firstContext;g!==null;){if(g.context===A){if(a.tag===1){g=xn(-1,r&-r),g.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?g.next=g:(g.next=p.next,p.next=g),f.pending=g}}a.lanes|=r,g=a.alternate,g!==null&&(g.lanes|=r),Uh(a.return,r,t),x.lanes|=r;break}g=g.next}}else if(a.tag===10)d=a.type===t.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(ge(341));d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),Uh(d,r,t),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===t){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Sr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,A=t.pendingProps.children,Gi(t,r),s=CA(s),A=A(s),t.flags|=1,Sr(e,t,A,r),t.child;case 14:return A=t.type,s=DA(A,t.pendingProps),s=DA(A.type,s),ux(e,t,A,s,r);case 15:return M2(e,t,t.type,t.pendingProps,r);case 17:return A=t.type,s=t.pendingProps,s=t.elementType===A?s:DA(A,s),fc(e,t),t.tag=1,Wr(A)?(e=!0,Dc(t)):e=!1,Gi(t,r),k2(t,A,s),Dh(t,A,s,r),Oh(null,t,A,!0,e,r);case 19:return G2(e,t,r);case 22:return H2(e,t,r)}throw Error(ge(156,t.tag))};function aB(e,t){return Tw(e,t)}function xE(e,t,r,A){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wA(e,t,r,A){return new xE(e,t,r,A)}function I1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pE(e){if(typeof e=="function")return I1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zf)return 11;if(e===Wf)return 14}return 2}function as(e,t){var r=e.alternate;return r===null?(r=wA(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pc(e,t,r,A,s,a){var d=2;if(A=e,typeof e=="function")I1(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Fi:return Ls(r.children,s,a,t);case Gf:d=8,s|=8;break;case Ah:return e=wA(12,r,t,s|2),e.elementType=Ah,e.lanes=a,e;case nh:return e=wA(13,r,t,s),e.elementType=nh,e.lanes=a,e;case sh:return e=wA(19,r,t,s),e.elementType=sh,e.lanes=a,e;case pw:return b0(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gw:d=10;break e;case xw:d=9;break e;case zf:d=11;break e;case Wf:d=14;break e;case Mn:d=16,A=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=wA(d,r,t,s),t.elementType=e,t.type=A,t.lanes=a,t}function Ls(e,t,r,A){return e=wA(7,e,A,t),e.lanes=r,e}function b0(e,t,r,A){return e=wA(22,e,A,t),e.elementType=pw,e.lanes=r,e.stateNode={isHidden:!1},e}function ku(e,t,r){return e=wA(6,e,null,t),e.lanes=r,e}function Lu(e,t,r){return t=wA(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mE(e,t,r,A,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=A,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _1(e,t,r,A,s,a,d,x,g){return e=new mE(e,t,r,x,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wA(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:A,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},u1(a),e}function wE(e,t,r){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:A==null?null:""+A,children:e,containerInfo:t,implementation:r}}function oB(e){if(!e)return ds;e=e._reactInternals;e:{if(qs(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(Wr(r))return o2(e,r,t)}return t}function lB(e,t,r,A,s,a,d,x,g){return e=_1(r,A,!0,e,s,a,d,x,g),e.context=oB(null),r=e.current,A=Ur(),s=is(r),a=xn(A,s),a.callback=t??null,ns(r,a,s),e.current.lanes=s,Xo(e,s,A),Xr(e,A),e}function F0(e,t,r,A){var s=t.current,a=Ur(),d=is(s);return r=oB(r),t.context===null?t.context=r:t.pendingContext=r,t=xn(a,d),t.payload={element:e},A=A===void 0?null:A,A!==null&&(t.callback=A),e=ns(s,t,d),e!==null&&(LA(e,s,d,a),uc(e,s,d)),d}function zc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function N1(e,t){Cx(e,t),(e=e.alternate)&&Cx(e,t)}function BE(){return null}var cB=typeof reportError=="function"?reportError:function(e){console.error(e)};function S1(e){this._internalRoot=e}I0.prototype.render=S1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));F0(e,t,null,null)};I0.prototype.unmount=S1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zs(function(){F0(null,e,null,null)}),t[wn]=null}};function I0(e){this._internalRoot=e}I0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vn.length&&t!==0&&t<Vn[r].priority;r++);Vn.splice(r,0,e),r===0&&Kw(e)}};function U1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function yE(e,t,r,A,s){if(s){if(typeof A=="function"){var a=A;A=function(){var f=zc(d);a.call(f)}}var d=lB(t,A,e,0,null,!1,!1,"",Ex);return e._reactRootContainer=d,e[wn]=d.current,No(e.nodeType===8?e.parentNode:e),zs(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof A=="function"){var x=A;A=function(){var f=zc(g);x.call(f)}}var g=_1(e,0,!1,null,null,!1,!1,"",Ex);return e._reactRootContainer=g,e[wn]=g.current,No(e.nodeType===8?e.parentNode:e),zs(function(){F0(t,g,r,A)}),g}function N0(e,t,r,A,s){var a=r._reactRootContainer;if(a){var d=a;if(typeof s=="function"){var x=s;s=function(){var g=zc(d);x.call(g)}}F0(t,d,e,s)}else d=yE(r,t,e,s,A);return zc(d)}jw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pa(t.pendingLanes);r!==0&&(qf(t,r|1),Xr(t,Ht()),!(Je&6)&&(ta=Ht()+500,xs()))}break;case 13:zs(function(){var A=Bn(e,1);if(A!==null){var s=Ur();LA(A,e,1,s)}}),N1(e,1)}};$f=function(e){if(e.tag===13){var t=Bn(e,134217728);if(t!==null){var r=Ur();LA(t,e,134217728,r)}N1(e,134217728)}};Mw=function(e){if(e.tag===13){var t=is(e),r=Bn(e,t);if(r!==null){var A=Ur();LA(r,e,t,A)}N1(e,t)}};Hw=function(){return it};Pw=function(e,t){var r=it;try{return it=e,t()}finally{it=r}};gh=function(e,t,r){switch(t){case"input":if(oh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var A=r[t];if(A!==e&&A.form===e.form){var s=w0(A);if(!s)throw Error(ge(90));ww(A),oh(A,s)}}}break;case"textarea":yw(e,r);break;case"select":t=r.value,t!=null&&Hi(e,!!r.multiple,t,!1)}};_w=E1;Nw=zs;var vE={usingClientEntryPoint:!1,Events:[qo,Si,w0,Fw,Iw,E1]},Ta={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CE={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||BE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{g0=Sl.inject(CE),rn=Sl}catch{}}iA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE;iA.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U1(t))throw Error(ge(200));return wE(e,t,null,r)};iA.createRoot=function(e,t){if(!U1(e))throw Error(ge(299));var r=!1,A="",s=cB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(A=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_1(e,1,!1,null,null,r,!1,A,s),e[wn]=t.current,No(e.nodeType===8?e.parentNode:e),new S1(t)};iA.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=Qw(t),e=e===null?null:e.stateNode,e};iA.flushSync=function(e){return zs(e)};iA.hydrate=function(e,t,r){if(!_0(t))throw Error(ge(200));return N0(null,e,t,!0,r)};iA.hydrateRoot=function(e,t,r){if(!U1(e))throw Error(ge(405));var A=r!=null&&r.hydratedSources||null,s=!1,a="",d=cB;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=lB(t,null,e,1,r??null,s,!1,a,d),e[wn]=t.current,No(e),A)for(e=0;e<A.length;e++)r=A[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new I0(t)};iA.render=function(e,t,r){if(!_0(t))throw Error(ge(200));return N0(null,e,t,!1,r)};iA.unmountComponentAtNode=function(e){if(!_0(e))throw Error(ge(40));return e._reactRootContainer?(zs(function(){N0(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};iA.unstable_batchedUpdates=E1;iA.unstable_renderSubtreeIntoContainer=function(e,t,r,A){if(!_0(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return N0(e,t,r,!1,A)};iA.version="18.3.1-next-f1338f8080-20240426";function uB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uB)}catch(e){console.error(e)}}uB(),uw.exports=iA;var EE=uw.exports,dB,bx=EE;dB=bx.createRoot,bx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(e[A]=r[A])}return e},Lo.apply(this,arguments)}var qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qn||(qn={}));const Fx="popstate";function bE(e){e===void 0&&(e={});function t(A,s){let{pathname:a,search:d,hash:x}=A.location;return Xh("",{pathname:a,search:d,hash:x},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(A,s){return typeof s=="string"?s:Wc(s)}return IE(t,r,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hB(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FE(){return Math.random().toString(36).substr(2,8)}function Ix(e,t){return{usr:e.state,key:e.key,idx:t}}function Xh(e,t,r,A){return r===void 0&&(r=null),Lo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ca(t):t,{state:r,key:t&&t.key||A||FE()})}function Wc(e){let{pathname:t="/",search:r="",hash:A=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),A&&A!=="#"&&(t+=A.charAt(0)==="#"?A:"#"+A),t}function ca(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let A=e.indexOf("?");A>=0&&(t.search=e.substr(A),e=e.substr(0,A)),e&&(t.pathname=e)}return t}function IE(e,t,r,A){A===void 0&&(A={});let{window:s=document.defaultView,v5Compat:a=!1}=A,d=s.history,x=qn.Pop,g=null,f=p();f==null&&(f=0,d.replaceState(Lo({},d.state,{idx:f}),""));function p(){return(d.state||{idx:null}).idx}function w(){x=qn.Pop;let U=p(),_=U==null?null:U-f;f=U,g&&g({action:x,location:I.location,delta:_})}function y(U,_){x=qn.Push;let C=Xh(I.location,U,_);f=p()+1;let b=Ix(C,f),S=I.createHref(C);try{d.pushState(b,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}a&&g&&g({action:x,location:I.location,delta:1})}function E(U,_){x=qn.Replace;let C=Xh(I.location,U,_);f=p();let b=Ix(C,f),S=I.createHref(C);d.replaceState(b,"",S),a&&g&&g({action:x,location:I.location,delta:0})}function F(U){let _=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof U=="string"?U:Wc(U);return C=C.replace(/ $/,"%20"),Pt(_,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,_)}let I={get action(){return x},get location(){return e(s,d)},listen(U){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(Fx,w),g=U,()=>{s.removeEventListener(Fx,w),g=null}},createHref(U){return t(s,U)},createURL:F,encodeLocation(U){let _=F(U);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:E,go(U){return d.go(U)}};return I}var _x;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_x||(_x={}));function _E(e,t,r){return r===void 0&&(r="/"),NE(e,t,r,!1)}function NE(e,t,r,A){let s=typeof t=="string"?ca(t):t,a=Q1(s.pathname||"/",r);if(a==null)return null;let d=fB(e);SE(d);let x=null;for(let g=0;x==null&&g<d.length;++g){let f=HE(a);x=jE(d[g],f,A)}return x}function fB(e,t,r,A){t===void 0&&(t=[]),r===void 0&&(r=[]),A===void 0&&(A="");let s=(a,d,x)=>{let g={relativePath:x===void 0?a.path||"":x,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};g.relativePath.startsWith("/")&&(Pt(g.relativePath.startsWith(A),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+A+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(A.length));let f=os([A,g.relativePath]),p=r.concat(g);a.children&&a.children.length>0&&(Pt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),fB(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:kE(f,a.index),routesMeta:p})};return e.forEach((a,d)=>{var x;if(a.path===""||!((x=a.path)!=null&&x.includes("?")))s(a,d);else for(let g of gB(a.path))s(a,d,g)}),t}function gB(e){let t=e.split("/");if(t.length===0)return[];let[r,...A]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(A.length===0)return s?[a,""]:[a];let d=gB(A.join("/")),x=[];return x.push(...d.map(g=>g===""?a:[a,g].join("/"))),s&&x.push(...d),x.map(g=>e.startsWith("/")&&g===""?"/":g)}function SE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:LE(t.routesMeta.map(A=>A.childrenIndex),r.routesMeta.map(A=>A.childrenIndex)))}const UE=/^:[\w-]+$/,QE=3,DE=2,TE=1,RE=10,OE=-2,Nx=e=>e==="*";function kE(e,t){let r=e.split("/"),A=r.length;return r.some(Nx)&&(A+=OE),t&&(A+=DE),r.filter(s=>!Nx(s)).reduce((s,a)=>s+(UE.test(a)?QE:a===""?TE:RE),A)}function LE(e,t){return e.length===t.length&&e.slice(0,-1).every((A,s)=>A===t[s])?e[e.length-1]-t[t.length-1]:0}function jE(e,t,r){let{routesMeta:A}=e,s={},a="/",d=[];for(let x=0;x<A.length;++x){let g=A[x],f=x===A.length-1,p=a==="/"?t:t.slice(a.length)||"/",w=Sx({path:g.relativePath,caseSensitive:g.caseSensitive,end:f},p),y=g.route;if(!w&&f&&r&&!A[A.length-1].route.index&&(w=Sx({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},p)),!w)return null;Object.assign(s,w.params),d.push({params:s,pathname:os([a,w.pathname]),pathnameBase:GE(os([a,w.pathnameBase])),route:y}),w.pathnameBase!=="/"&&(a=os([a,w.pathnameBase]))}return d}function Sx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,A]=ME(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],d=a.replace(/(.)\/+$/,"$1"),x=s.slice(1);return{params:A.reduce((f,p,w)=>{let{paramName:y,isOptional:E}=p;if(y==="*"){let I=x[w]||"";d=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const F=x[w];return E&&!F?f[y]=void 0:f[y]=(F||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:d,pattern:e}}function ME(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hB(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let A=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,x,g)=>(A.push({paramName:x,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(A.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),A]}function HE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hB(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Q1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,A=e.charAt(r);return A&&A!=="/"?null:e.slice(r)||"/"}function PE(e,t){t===void 0&&(t="/");let{pathname:r,search:A="",hash:s=""}=typeof e=="string"?ca(e):e;return{pathname:r?r.startsWith("/")?r:KE(r,t):t,search:zE(A),hash:WE(s)}}function KE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ju(e,t,r,A){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(A)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function D1(e,t){let r=VE(e);return t?r.map((A,s)=>s===r.length-1?A.pathname:A.pathnameBase):r.map(A=>A.pathnameBase)}function T1(e,t,r,A){A===void 0&&(A=!1);let s;typeof e=="string"?s=ca(e):(s=Lo({},e),Pt(!s.pathname||!s.pathname.includes("?"),ju("?","pathname","search",s)),Pt(!s.pathname||!s.pathname.includes("#"),ju("#","pathname","hash",s)),Pt(!s.search||!s.search.includes("#"),ju("#","search","hash",s)));let a=e===""||s.pathname==="",d=a?"/":s.pathname,x;if(d==null)x=r;else{let w=t.length-1;if(!A&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),w-=1;s.pathname=y.join("/")}x=w>=0?t[w]:"/"}let g=PE(s,x),f=d&&d!=="/"&&d.endsWith("/"),p=(a||d===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(f||p)&&(g.pathname+="/"),g}const os=e=>e.join("/").replace(/\/\/+/g,"/"),GE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xB=["post","put","patch","delete"];new Set(xB);const YE=["get",...xB];new Set(YE);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(e[A]=r[A])}return e},jo.apply(this,arguments)}const R1=G.createContext(null),qE=G.createContext(null),ps=G.createContext(null),S0=G.createContext(null),bn=G.createContext({outlet:null,matches:[],isDataRoute:!1}),pB=G.createContext(null);function $E(e,t){let{relative:r}=t===void 0?{}:t;ua()||Pt(!1);let{basename:A,navigator:s}=G.useContext(ps),{hash:a,pathname:d,search:x}=wB(e,{relative:r}),g=d;return A!=="/"&&(g=d==="/"?A:os([A,d])),s.createHref({pathname:g,search:x,hash:a})}function ua(){return G.useContext(S0)!=null}function Zo(){return ua()||Pt(!1),G.useContext(S0).location}function mB(e){G.useContext(ps).static||G.useLayoutEffect(e)}function FA(){let{isDataRoute:e}=G.useContext(bn);return e?c3():ZE()}function ZE(){ua()||Pt(!1);let e=G.useContext(R1),{basename:t,future:r,navigator:A}=G.useContext(ps),{matches:s}=G.useContext(bn),{pathname:a}=Zo(),d=JSON.stringify(D1(s,r.v7_relativeSplatPath)),x=G.useRef(!1);return mB(()=>{x.current=!0}),G.useCallback(function(f,p){if(p===void 0&&(p={}),!x.current)return;if(typeof f=="number"){A.go(f);return}let w=T1(f,JSON.parse(d),a,p.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:os([t,w.pathname])),(p.replace?A.replace:A.push)(w,p.state,p)},[t,A,d,a,e])}function O1(){let{matches:e}=G.useContext(bn),t=e[e.length-1];return t?t.params:{}}function wB(e,t){let{relative:r}=t===void 0?{}:t,{future:A}=G.useContext(ps),{matches:s}=G.useContext(bn),{pathname:a}=Zo(),d=JSON.stringify(D1(s,A.v7_relativeSplatPath));return G.useMemo(()=>T1(e,JSON.parse(d),a,r==="path"),[e,d,a,r])}function JE(e,t){return e3(e,t)}function e3(e,t,r,A){ua()||Pt(!1);let{navigator:s,static:a}=G.useContext(ps),{matches:d}=G.useContext(bn),x=d[d.length-1],g=x?x.params:{};x&&x.pathname;let f=x?x.pathnameBase:"/";x&&x.route;let p=Zo(),w;if(t){var y;let _=typeof t=="string"?ca(t):t;f==="/"||(y=_.pathname)!=null&&y.startsWith(f)||Pt(!1),w=_}else w=p;let E=w.pathname||"/",F=E;if(f!=="/"){let _=f.replace(/^\//,"").split("/");F="/"+E.replace(/^\//,"").split("/").slice(_.length).join("/")}let I=!a&&r&&r.matches&&r.matches.length>0?r.matches:_E(e,{pathname:F}),U=s3(I&&I.map(_=>Object.assign({},_,{params:Object.assign({},g,_.params),pathname:os([f,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:os([f,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),d,r,A);return t&&U?G.createElement(S0.Provider,{value:{location:jo({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:qn.Pop}},U):U}function t3(){let e=l3(),t=XE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),r?G.createElement("pre",{style:s},r):null,null)}const r3=G.createElement(t3,null);class A3 extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?G.createElement(bn.Provider,{value:this.props.routeContext},G.createElement(pB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n3(e){let{routeContext:t,match:r,children:A}=e,s=G.useContext(R1);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(bn.Provider,{value:t},A)}function s3(e,t,r,A){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),A===void 0&&(A=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=A)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let d=e,x=(s=r)==null?void 0:s.errors;if(x!=null){let p=d.findIndex(w=>w.route.id&&(x==null?void 0:x[w.route.id])!==void 0);p>=0||Pt(!1),d=d.slice(0,Math.min(d.length,p+1))}let g=!1,f=-1;if(r&&A&&A.v7_partialHydration)for(let p=0;p<d.length;p++){let w=d[p];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=p),w.route.id){let{loaderData:y,errors:E}=r,F=w.route.loader&&y[w.route.id]===void 0&&(!E||E[w.route.id]===void 0);if(w.route.lazy||F){g=!0,f>=0?d=d.slice(0,f+1):d=[d[0]];break}}}return d.reduceRight((p,w,y)=>{let E,F=!1,I=null,U=null;r&&(E=x&&w.route.id?x[w.route.id]:void 0,I=w.route.errorElement||r3,g&&(f<0&&y===0?(F=!0,U=null):f===y&&(F=!0,U=w.route.hydrateFallbackElement||null)));let _=t.concat(d.slice(0,y+1)),C=()=>{let b;return E?b=I:F?b=U:w.route.Component?b=G.createElement(w.route.Component,null):w.route.element?b=w.route.element:b=p,G.createElement(n3,{match:w,routeContext:{outlet:p,matches:_,isDataRoute:r!=null},children:b})};return r&&(w.route.ErrorBoundary||w.route.errorElement||y===0)?G.createElement(A3,{location:r.location,revalidation:r.revalidation,component:I,error:E,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}var BB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BB||{}),Xc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xc||{});function i3(e){let t=G.useContext(R1);return t||Pt(!1),t}function a3(e){let t=G.useContext(qE);return t||Pt(!1),t}function o3(e){let t=G.useContext(bn);return t||Pt(!1),t}function yB(e){let t=o3(),r=t.matches[t.matches.length-1];return r.route.id||Pt(!1),r.route.id}function l3(){var e;let t=G.useContext(pB),r=a3(Xc.UseRouteError),A=yB(Xc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[A]}function c3(){let{router:e}=i3(BB.UseNavigateStable),t=yB(Xc.UseNavigateStable),r=G.useRef(!1);return mB(()=>{r.current=!0}),G.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,jo({fromRouteId:t},a)))},[e,t])}function u3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vB(e){let{to:t,replace:r,state:A,relative:s}=e;ua()||Pt(!1);let{future:a,static:d}=G.useContext(ps),{matches:x}=G.useContext(bn),{pathname:g}=Zo(),f=FA(),p=T1(t,D1(x,a.v7_relativeSplatPath),g,s==="path"),w=JSON.stringify(p);return G.useEffect(()=>f(JSON.parse(w),{replace:r,state:A,relative:s}),[f,w,s,r,A]),null}function vr(e){Pt(!1)}function d3(e){let{basename:t="/",children:r=null,location:A,navigationType:s=qn.Pop,navigator:a,static:d=!1,future:x}=e;ua()&&Pt(!1);let g=t.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:g,navigator:a,static:d,future:jo({v7_relativeSplatPath:!1},x)}),[g,x,a,d]);typeof A=="string"&&(A=ca(A));let{pathname:p="/",search:w="",hash:y="",state:E=null,key:F="default"}=A,I=G.useMemo(()=>{let U=Q1(p,g);return U==null?null:{location:{pathname:U,search:w,hash:y,state:E,key:F},navigationType:s}},[g,p,w,y,E,F,s]);return I==null?null:G.createElement(ps.Provider,{value:f},G.createElement(S0.Provider,{children:r,value:I}))}function h3(e){let{children:t,location:r}=e;return JE(Yh(t),r)}new Promise(()=>{});function Yh(e,t){t===void 0&&(t=[]);let r=[];return G.Children.forEach(e,(A,s)=>{if(!G.isValidElement(A))return;let a=[...t,s];if(A.type===G.Fragment){r.push.apply(r,Yh(A.props.children,a));return}A.type!==vr&&Pt(!1),!A.props.index||!A.props.children||Pt(!1);let d={id:A.props.id||a.join("-"),caseSensitive:A.props.caseSensitive,element:A.props.element,Component:A.props.Component,index:A.props.index,path:A.props.path,loader:A.props.loader,action:A.props.action,errorElement:A.props.errorElement,ErrorBoundary:A.props.ErrorBoundary,hasErrorBoundary:A.props.ErrorBoundary!=null||A.props.errorElement!=null,shouldRevalidate:A.props.shouldRevalidate,handle:A.props.handle,lazy:A.props.lazy};A.props.children&&(d.children=Yh(A.props.children,a)),r.push(d)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(e[A]=r[A])}return e},qh.apply(this,arguments)}function f3(e,t){if(e==null)return{};var r={},A=Object.keys(e),s,a;for(a=0;a<A.length;a++)s=A[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function g3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function x3(e,t){return e.button===0&&(!t||t==="_self")&&!g3(e)}const p3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m3="6";try{window.__reactRouterVersion=m3}catch{}const w3="startTransition",Ux=hC[w3];function B3(e){let{basename:t,children:r,future:A,window:s}=e,a=G.useRef();a.current==null&&(a.current=bE({window:s,v5Compat:!0}));let d=a.current,[x,g]=G.useState({action:d.action,location:d.location}),{v7_startTransition:f}=A||{},p=G.useCallback(w=>{f&&Ux?Ux(()=>g(w)):g(w)},[g,f]);return G.useLayoutEffect(()=>d.listen(p),[d,p]),G.useEffect(()=>u3(A),[A]),G.createElement(d3,{basename:t,children:r,location:x.location,navigationType:x.action,navigator:d,future:A})}const y3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=G.forwardRef(function(t,r){let{onClick:A,relative:s,reloadDocument:a,replace:d,state:x,target:g,to:f,preventScrollReset:p,viewTransition:w}=t,y=f3(t,p3),{basename:E}=G.useContext(ps),F,I=!1;if(typeof f=="string"&&v3.test(f)&&(F=f,y3))try{let b=new URL(window.location.href),S=f.startsWith("//")?new URL(b.protocol+f):new URL(f),k=Q1(S.pathname,E);S.origin===b.origin&&k!=null?f=k+S.search+S.hash:I=!0}catch{}let U=$E(f,{relative:s}),_=C3(f,{replace:d,state:x,target:g,preventScrollReset:p,relative:s,viewTransition:w});function C(b){A&&A(b),b.defaultPrevented||_(b)}return G.createElement("a",qh({},y,{href:F||U,onClick:I||a?A:C,ref:r,target:g}))});var Qx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qx||(Qx={}));var Dx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dx||(Dx={}));function C3(e,t){let{target:r,replace:A,state:s,preventScrollReset:a,relative:d,viewTransition:x}=t===void 0?{}:t,g=FA(),f=Zo(),p=wB(e,{relative:d});return G.useCallback(w=>{if(x3(w,r)){w.preventDefault();let y=A!==void 0?A:Wc(f)===Wc(p);g(e,{replace:y,state:s,preventScrollReset:a,relative:d,viewTransition:x})}},[f,g,p,A,s,r,e,a,d,x])}const E3="modulepreload",b3=function(e){return"/"+e},Tx={},ra=function(t,r,A){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),x=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=Promise.allSettled(r.map(g=>{if(g=b3(g),g in Tx)return;Tx[g]=!0;const f=g.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${p}`))return;const w=document.createElement("link");if(w.rel=f?"stylesheet":E3,f||(w.as="script"),w.crossOrigin="",w.href=g,x&&w.setAttribute("nonce",x),document.head.appendChild(w),f)return new Promise((y,E)=>{w.addEventListener("load",y),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(d){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=d,window.dispatchEvent(x),!x.defaultPrevented)throw d}return s.then(d=>{for(const x of d||[])x.status==="rejected"&&a(x.reason);return t().catch(a)})},F3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ra(async()=>{const{default:A}=await Promise.resolve().then(()=>da);return{default:A}},void 0).then(({default:A})=>A(...r)):t=fetch,(...r)=>t(...r)};class k1 extends Error{constructor(t,r="FunctionsError",A){super(t),this.name=r,this.context=A}}class I3 extends k1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _3 extends k1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class N3 extends k1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $h;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($h||($h={}));var S3=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})};class U3{constructor(t,{headers:r={},customFetch:A,region:s=$h.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=F3(A)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var A;return S3(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:d}=r;let x={},{region:g}=r;g||(g=this.region),g&&g!=="any"&&(x["x-region"]=g);let f;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",f=d):typeof d=="string"?(x["Content-Type"]="text/plain",f=d):typeof FormData<"u"&&d instanceof FormData?f=d:(x["Content-Type"]="application/json",f=JSON.stringify(d)));const p=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),s),body:f}).catch(F=>{throw new I3(F)}),w=p.headers.get("x-relay-error");if(w&&w==="true")throw new _3(p);if(!p.ok)throw new N3(p);let y=((A=p.headers.get("Content-Type"))!==null&&A!==void 0?A:"text/plain").split(";")[0].trim(),E;return y==="application/json"?E=yield p.json():y==="application/octet-stream"?E=yield p.blob():y==="text/event-stream"?E=p:y==="multipart/form-data"?E=yield p.formData():E=yield p.text(),{data:E,error:null}}catch(s){return{data:null,error:s}}})}}var Kr={},L1={},U0={},Jo={},Q0={},D0={},Q3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Aa=Q3();const D3=Aa.fetch,CB=Aa.fetch.bind(Aa),EB=Aa.Headers,T3=Aa.Request,R3=Aa.Response,da=Object.freeze(Object.defineProperty({__proto__:null,Headers:EB,Request:T3,Response:R3,default:CB,fetch:D3},Symbol.toStringTag,{value:"Module"})),O3=Jm(da);var T0={};Object.defineProperty(T0,"__esModule",{value:!0});let k3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};T0.default=k3;var bB=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D0,"__esModule",{value:!0});const L3=bB(O3),j3=bB(T0);let M3=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=L3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const A=this.fetch;let s=A(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var d,x,g;let f=null,p=null,w=null,y=a.status,E=a.statusText;if(a.ok){if(this.method!=="HEAD"){const _=await a.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=_:p=JSON.parse(_))}const I=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),U=(x=a.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");I&&U&&U.length>1&&(w=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,w=null,y=406,E="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const I=await a.text();try{f=JSON.parse(I),Array.isArray(f)&&a.status===404&&(p=[],f=null,y=200,E="OK")}catch{a.status===404&&I===""?(y=204,E="No Content"):f={message:I}}if(f&&this.isMaybeSingle&&(!((g=f==null?void 0:f.details)===null||g===void 0)&&g.includes("0 rows"))&&(f=null,y=200,E="OK"),f&&this.shouldThrowOnError)throw new j3.default(f)}return{error:f,data:p,count:w,status:y,statusText:E}});return this.shouldThrowOnError||(s=s.catch(a=>{var d,x,g;return{error:{message:`${(d=a==null?void 0:a.name)!==null&&d!==void 0?d:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(x=a==null?void 0:a.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(g=a==null?void 0:a.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};D0.default=M3;var H3=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q0,"__esModule",{value:!0});const P3=H3(D0);let K3=class extends P3.default{select(t){let r=!1;const A=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",A),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:A,foreignTable:s,referencedTable:a=s}={}){const d=a?`${a}.order`:"order",x=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${x?`${x},`:""}${t}.${r?"asc":"desc"}${A===void 0?"":A?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:A=r}={}){const s=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:A,referencedTable:s=A}={}){const a=typeof s>"u"?"offset":`${s}.offset`,d=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(d,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:A=!1,buffers:s=!1,wal:a=!1,format:d="text"}={}){var x;const g=[t?"analyze":null,r?"verbose":null,A?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${f}"; options=${g};`,d==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Q0.default=K3;var V3=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jo,"__esModule",{value:!0});const G3=V3(Q0);let z3=class extends G3.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const A=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${A})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:A,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const d=A===void 0?"":`(${A})`;return this.url.searchParams.append(t,`${a}fts${d}.${r}`),this}match(t){return Object.entries(t).forEach(([r,A])=>{this.url.searchParams.append(r,`eq.${A}`)}),this}not(t,r,A){return this.url.searchParams.append(t,`not.${r}.${A}`),this}or(t,{foreignTable:r,referencedTable:A=r}={}){const s=A?`${A}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,A){return this.url.searchParams.append(t,`${r}.${A}`),this}};Jo.default=z3;var W3=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U0,"__esModule",{value:!0});const Ra=W3(Jo);let X3=class{constructor(t,{headers:r={},schema:A,fetch:s}){this.url=t,this.headers=r,this.schema=A,this.fetch=s}select(t,{head:r=!1,count:A}={}){const s=r?"HEAD":"GET";let a=!1;const d=(t??"*").split("").map(x=>/\s/.test(x)&&!a?"":(x==='"'&&(a=!a),x)).join("");return this.url.searchParams.set("select",d),A&&(this.headers.Prefer=`count=${A}`),new Ra.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:A=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),A||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const d=t.reduce((x,g)=>x.concat(Object.keys(g)),[]);if(d.length>0){const x=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",x.join(","))}}return new Ra.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:A=!1,count:s,defaultToNull:a=!0}={}){const d="POST",x=[`resolution=${A?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&x.push(this.headers.Prefer),s&&x.push(`count=${s}`),a||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(t)){const g=t.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(g.length>0){const f=[...new Set(g)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new Ra.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const A="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ra.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",A=[];return t&&A.push(`count=${t}`),this.headers.Prefer&&A.unshift(this.headers.Prefer),this.headers.Prefer=A.join(","),new Ra.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};U0.default=X3;var R0={},O0={};Object.defineProperty(O0,"__esModule",{value:!0});O0.version=void 0;O0.version="0.0.0-automated";Object.defineProperty(R0,"__esModule",{value:!0});R0.DEFAULT_HEADERS=void 0;const Y3=O0;R0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Y3.version}`};var FB=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(L1,"__esModule",{value:!0});const q3=FB(U0),$3=FB(Jo),Z3=R0;let J3=class IB{constructor(t,{headers:r={},schema:A,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Z3.DEFAULT_HEADERS),r),this.schemaName=A,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new q3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new IB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:A=!1,get:s=!1,count:a}={}){let d;const x=new URL(`${this.url}/rpc/${t}`);let g;A||s?(d=A?"HEAD":"GET",Object.entries(r).filter(([p,w])=>w!==void 0).map(([p,w])=>[p,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([p,w])=>{x.searchParams.append(p,w)})):(d="POST",g=r);const f=Object.assign({},this.headers);return a&&(f.Prefer=`count=${a}`),new $3.default({method:d,url:x,headers:f,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}};L1.default=J3;var ha=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.PostgrestError=Kr.PostgrestBuilder=Kr.PostgrestTransformBuilder=Kr.PostgrestFilterBuilder=Kr.PostgrestQueryBuilder=Kr.PostgrestClient=void 0;const _B=ha(L1);Kr.PostgrestClient=_B.default;const NB=ha(U0);Kr.PostgrestQueryBuilder=NB.default;const SB=ha(Jo);Kr.PostgrestFilterBuilder=SB.default;const UB=ha(Q0);Kr.PostgrestTransformBuilder=UB.default;const QB=ha(D0);Kr.PostgrestBuilder=QB.default;const DB=ha(T0);Kr.PostgrestError=DB.default;var e8=Kr.default={PostgrestClient:_B.default,PostgrestQueryBuilder:NB.default,PostgrestFilterBuilder:SB.default,PostgrestTransformBuilder:UB.default,PostgrestBuilder:QB.default,PostgrestError:DB.default};const{PostgrestClient:t8,PostgrestQueryBuilder:qU,PostgrestFilterBuilder:$U,PostgrestTransformBuilder:ZU,PostgrestBuilder:JU,PostgrestError:eQ}=e8,r8="2.11.2",A8={"X-Client-Info":`realtime-js/${r8}`},n8="1.0.0",TB=1e4,s8=1e3;var Wi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wi||(Wi={}));var Jr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jr||(Jr={}));var RA;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(RA||(RA={}));var Zh;(function(e){e.websocket="websocket"})(Zh||(Zh={}));var Ss;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ss||(Ss={}));class i8{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),A=new TextDecoder;return this._decodeBroadcast(t,r,A)}_decodeBroadcast(t,r,A){const s=r.getUint8(1),a=r.getUint8(2);let d=this.HEADER_LENGTH+2;const x=A.decode(t.slice(d,d+s));d=d+s;const g=A.decode(t.slice(d,d+a));d=d+a;const f=JSON.parse(A.decode(t.slice(d,t.byteLength)));return{ref:null,topic:x,event:g,payload:f}}}class RB{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dt||(dt={}));const Rx=(e,t,r={})=>{var A;const s=(A=r.skipTypes)!==null&&A!==void 0?A:[];return Object.keys(t).reduce((a,d)=>(a[d]=a8(d,e,t,s),a),{})},a8=(e,t,r,A)=>{const s=t.find(x=>x.name===e),a=s==null?void 0:s.type,d=r[e];return a&&!A.includes(a)?OB(a,d):Jh(d)},OB=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return u8(t,r)}switch(e){case dt.bool:return o8(t);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return l8(t);case dt.json:case dt.jsonb:return c8(t);case dt.timestamp:return d8(t);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return Jh(t);default:return Jh(t)}},Jh=e=>e,o8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},l8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},c8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},u8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,A=e[r];if(e[0]==="{"&&A==="}"){let a;const d=e.slice(1,r);try{a=JSON.parse("["+d+"]")}catch{a=d?d.split(","):[]}return a.map(x=>OB(t,x))}return e},d8=e=>typeof e=="string"?e.replace(" ","T"):e,kB=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Mu{constructor(t,r,A={},s=TB){this.channel=t,this.event=r,this.payload=A,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var A;return this._hasReceived(t)&&r((A=this.receivedResp)===null||A===void 0?void 0:A.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(A=>A.status===t).forEach(A=>A.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ox;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ox||(Ox={}));class oo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const A=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(A.state,{},s=>{const{onJoin:a,onLeave:d,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oo.syncState(this.state,s,a,d),this.pendingDiffs.forEach(g=>{this.state=oo.syncDiff(this.state,g,a,d)}),this.pendingDiffs=[],x()}),this.channel._on(A.diff,{},s=>{const{onJoin:a,onLeave:d,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=oo.syncDiff(this.state,s,a,d),x())}),this.onJoin((s,a,d)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:d})}),this.onLeave((s,a,d)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,A,s){const a=this.cloneDeep(t),d=this.transformState(r),x={},g={};return this.map(a,(f,p)=>{d[f]||(g[f]=p)}),this.map(d,(f,p)=>{const w=a[f];if(w){const y=p.map(U=>U.presence_ref),E=w.map(U=>U.presence_ref),F=p.filter(U=>E.indexOf(U.presence_ref)<0),I=w.filter(U=>y.indexOf(U.presence_ref)<0);F.length>0&&(x[f]=F),I.length>0&&(g[f]=I)}else x[f]=p}),this.syncDiff(a,{joins:x,leaves:g},A,s)}static syncDiff(t,r,A,s){const{joins:a,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return A||(A=()=>{}),s||(s=()=>{}),this.map(a,(x,g)=>{var f;const p=(f=t[x])!==null&&f!==void 0?f:[];if(t[x]=this.cloneDeep(g),p.length>0){const w=t[x].map(E=>E.presence_ref),y=p.filter(E=>w.indexOf(E.presence_ref)<0);t[x].unshift(...y)}A(x,p,g)}),this.map(d,(x,g)=>{let f=t[x];if(!f)return;const p=g.map(w=>w.presence_ref);f=f.filter(w=>p.indexOf(w.presence_ref)<0),t[x]=f,s(x,f,g),f.length===0&&delete t[x]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(A=>r(A,t[A]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,A)=>{const s=t[A];return"metas"in s?r[A]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[A]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kx||(kx={}));var Lx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lx||(Lx={}));var dn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));class j1{constructor(t,r={config:{}},A){this.topic=t,this.params=r,this.socket=A,this.bindings={},this.state=Jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mu(this,RA.join,this.params,this.timeout),this.rejoinTimer=new RB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(RA.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new oo(this),this.broadcastEndpointURL=kB(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var A,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:d,private:x}}=this.params;this._onError(p=>t==null?void 0:t(dn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(dn.CLOSED));const g={},f={broadcast:a,presence:d,postgres_changes:(s=(A=this.bindings.postgres_changes)===null||A===void 0?void 0:A.map(p=>p.filter))!==null&&s!==void 0?s:[],private:x};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){t==null||t(dn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,E=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,F=[];for(let I=0;I<E;I++){const U=y[I],{filter:{event:_,schema:C,table:b,filter:S}}=U,k=p&&p[I];if(k&&k.event===_&&k.schema===C&&k.table===b&&k.filter===S)F.push(Object.assign(Object.assign({},U),{id:k.id}));else{this.unsubscribe(),t==null||t(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=F,t&&t(dn.SUBSCRIBED);return}}).receive("error",p=>{t==null||t(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,A){return this._on(t,r,A)}async send(t,r={}){var A,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:d}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:d,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(A=r.timeout)!==null&&A!==void 0?A:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var d,x,g;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(x=(d=this.params)===null||d===void 0?void 0:d.config)===null||x===void 0?void 0:x.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(RA.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(A=>{const s=new Mu(this,RA.leave,{},t);s.receive("ok",()=>{r(),A("ok")}).receive("timeout",()=>{r(),A("timed out")}).receive("error",()=>{A("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,A){const s=new AbortController,a=setTimeout(()=>s.abort(),A),d=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),d}_push(t,r,A=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mu(this,t,r,A);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,A){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,A){var s,a;const d=t.toLocaleLowerCase(),{close:x,error:g,leave:f,join:p}=RA;if(A&&[x,g,f,p].indexOf(d)>=0&&A!==this._joinRef())return;let y=this._onMessage(d,r,A);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(E=>{var F,I,U;return((F=E.filter)===null||F===void 0?void 0:F.event)==="*"||((U=(I=E.filter)===null||I===void 0?void 0:I.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===d}).map(E=>E.callback(y,A)):(a=this.bindings[d])===null||a===void 0||a.filter(E=>{var F,I,U,_,C,b;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const S=E.id,k=(F=E.filter)===null||F===void 0?void 0:F.event;return S&&((I=r.ids)===null||I===void 0?void 0:I.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((U=r.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const S=(C=(_=E==null?void 0:E.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof y=="object"&&"ids"in y){const F=y.data,{schema:I,table:U,commit_timestamp:_,type:C,errors:b}=F;y=Object.assign(Object.assign({},{schema:I,table:U,commit_timestamp:_,eventType:C,new:{},old:{},errors:b}),this._getPayloadRecords(F))}E.callback(y,A)})}_isClosed(){return this.state===Jr.closed}_isJoined(){return this.state===Jr.joined}_isJoining(){return this.state===Jr.joining}_isLeaving(){return this.state===Jr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,A){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:A};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const A=t.toLocaleLowerCase();return this.bindings[A]=this.bindings[A].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===A&&j1.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const A in t)if(t[A]!==r[A])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(RA.close,{},t)}_onError(t){this._on(RA.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rx(t.columns,t.old_record)),r}}const h8=()=>{},f8=typeof WebSocket<"u",g8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x8{constructor(t,r){var A;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=A8,this.params={},this.timeout=TB,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=h8,this.conn=null,this.sendBuffer=[],this.serializer=new i8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...x)=>ra(async()=>{const{default:g}=await Promise.resolve().then(()=>da);return{default:g}},void 0).then(({default:g})=>g(...x)):d=fetch,(...x)=>d(...x)},this.endPoint=`${t}/${Zh.websocket}`,this.httpEndpoint=kB(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(A=r==null?void 0:r.params)===null||A===void 0?void 0:A.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,d)=>d(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new RB(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(f8){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new p8(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ra(async()=>{const{default:t}=await import("./browser-V9rsmhPX.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n8}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,A){this.logger(t,r,A)}connectionState(){switch(this.conn&&this.conn.readyState){case Wi.connecting:return Ss.Connecting;case Wi.open:return Ss.Open;case Wi.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}channel(t,r={config:{}}){const A=new j1(`realtime:${t}`,r,this);return this.channels.push(A),A}push(t){const{topic:r,event:A,payload:s,ref:a}=t,d=()=>{this.encode(t,x=>{var g;(g=this.conn)===null||g===void 0||g.send(x)})};this.log("push",`${r} ${A} (${a})`,s),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let A=null;try{A=JSON.parse(atob(r.split(".")[1]))}catch{}if(A&&A.exp&&!(Math.floor(Date.now()/1e3)-A.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${A.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${A.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(RA.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(s8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(A=>A.topic===t&&(A._isJoined()||A._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:A,event:s,payload:a,ref:d}=r;d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${A} ${s} ${d&&"("+d+")"||""}`,a),this.channels.filter(x=>x._isMember(A)).forEach(x=>x._trigger(s,a,d)),this.stateChangeCallbacks.message.forEach(x=>x(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(RA.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const A=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${A}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const A=new Blob([g8],{type:"application/javascript"});r=URL.createObjectURL(A)}return r}}class p8{constructor(t,r,A){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=A.close}}class M1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class m8 extends M1{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ef extends M1{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var w8=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})};const LB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ra(async()=>{const{default:A}=await Promise.resolve().then(()=>da);return{default:A}},void 0).then(({default:A})=>A(...r)):t=fetch,(...r)=>t(...r)},B8=()=>w8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ra(()=>Promise.resolve().then(()=>da),void 0)).Response:Response}),tf=e=>{if(Array.isArray(e))return e.map(r=>tf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,A])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=tf(A)}),t};var $s=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})};const Hu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),y8=(e,t,r)=>$s(void 0,void 0,void 0,function*(){const A=yield B8();e instanceof A&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new m8(Hu(s),e.status||500))}).catch(s=>{t(new ef(Hu(s),s))}):t(new ef(Hu(e),e))}),v8=(e,t,r,A)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),A&&(s.body=JSON.stringify(A)),Object.assign(Object.assign({},s),r))};function el(e,t,r,A,s,a){return $s(this,void 0,void 0,function*(){return new Promise((d,x)=>{e(r,v8(t,A,s,a)).then(g=>{if(!g.ok)throw g;return A!=null&&A.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>y8(g,x,A))})})}function Yc(e,t,r,A){return $s(this,void 0,void 0,function*(){return el(e,"GET",t,r,A)})}function Pn(e,t,r,A,s){return $s(this,void 0,void 0,function*(){return el(e,"POST",t,A,s,r)})}function C8(e,t,r,A,s){return $s(this,void 0,void 0,function*(){return el(e,"PUT",t,A,s,r)})}function E8(e,t,r,A){return $s(this,void 0,void 0,function*(){return el(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),A)})}function jB(e,t,r,A,s){return $s(this,void 0,void 0,function*(){return el(e,"DELETE",t,A,s,r)})}var Mr=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})};const b8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class F8{constructor(t,r={},A,s){this.url=t,this.headers=r,this.bucketId=A,this.fetch=LB(s)}uploadOrUpdate(t,r,A,s){return Mr(this,void 0,void 0,function*(){try{let a;const d=Object.assign(Object.assign({},jx),s);let x=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&A instanceof Blob?(a=new FormData,a.append("cacheControl",d.cacheControl),g&&a.append("metadata",this.encodeMetadata(g)),a.append("",A)):typeof FormData<"u"&&A instanceof FormData?(a=A,a.append("cacheControl",d.cacheControl),g&&a.append("metadata",this.encodeMetadata(g))):(a=A,x["cache-control"]=`max-age=${d.cacheControl}`,x["content-type"]=d.contentType,g&&(x["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),s!=null&&s.headers&&(x=Object.assign(Object.assign({},x),s.headers));const f=this._removeEmptyFolders(r),p=this._getFinalPath(f),w=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:a,headers:x},d!=null&&d.duplex?{duplex:d.duplex}:{})),y=yield w.json();return w.ok?{data:{path:f,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(a){if(rr(a))return{data:null,error:a};throw a}})}upload(t,r,A){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,A)})}uploadToSignedUrl(t,r,A,s){return Mr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),d=this._getFinalPath(a),x=new URL(this.url+`/object/upload/sign/${d}`);x.searchParams.set("token",r);try{let g;const f=Object.assign({upsert:jx.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&A instanceof Blob?(g=new FormData,g.append("cacheControl",f.cacheControl),g.append("",A)):typeof FormData<"u"&&A instanceof FormData?(g=A,g.append("cacheControl",f.cacheControl)):(g=A,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const w=yield this.fetch(x.toString(),{method:"PUT",body:g,headers:p}),y=yield w.json();return w.ok?{data:{path:a,fullPath:y.Key},error:null}:{data:null,error:y}}catch(g){if(rr(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,r){return Mr(this,void 0,void 0,function*(){try{let A=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Pn(this.fetch,`${this.url}/object/upload/sign/${A}`,{},{headers:s}),d=new URL(this.url+a.url),x=d.searchParams.get("token");if(!x)throw new M1("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:x},error:null}}catch(A){if(rr(A))return{data:null,error:A};throw A}})}update(t,r,A){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,A)})}move(t,r,A){return Mr(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:A==null?void 0:A.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(rr(s))return{data:null,error:s};throw s}})}copy(t,r,A){return Mr(this,void 0,void 0,function*(){try{return{data:{path:(yield Pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:A==null?void 0:A.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(rr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,A){return Mr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Pn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},A!=null&&A.transform?{transform:A.transform}:{}),{headers:this.headers});const d=A!=null&&A.download?`&download=${A.download===!0?"":A.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${d}`)},{data:a,error:null}}catch(s){if(rr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,A){return Mr(this,void 0,void 0,function*(){try{const s=yield Pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=A!=null&&A.download?`&download=${A.download===!0?"":A.download}`:"";return{data:s.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${a}`):null})),error:null}}catch(s){if(rr(s))return{data:null,error:s};throw s}})}download(t,r){return Mr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=a?`?${a}`:"";try{const x=this._getFinalPath(t);return{data:yield(yield Yc(this.fetch,`${this.url}/${s}/${x}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(x){if(rr(x))return{data:null,error:x};throw x}})}info(t){return Mr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const A=yield Yc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tf(A),error:null}}catch(A){if(rr(A))return{data:null,error:A};throw A}})}exists(t){return Mr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield E8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(A){if(rr(A)&&A instanceof ef){const s=A.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:A}}throw A}})}getPublicUrl(t,r){const A=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const x=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&s.push(g);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${A}${f}`)}}}remove(t){return Mr(this,void 0,void 0,function*(){try{return{data:yield jB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}list(t,r,A){return Mr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},b8),r),{prefix:t||""});return{data:yield Pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},A),error:null}}catch(s){if(rr(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const I8="2.7.1",_8={"X-Client-Info":`storage-js/${I8}`};var di=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})};class N8{constructor(t,r={},A){this.url=t,this.headers=Object.assign(Object.assign({},_8),r),this.fetch=LB(A)}listBuckets(){return di(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(rr(t))return{data:null,error:t};throw t}})}getBucket(t){return di(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return di(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(A){if(rr(A))return{data:null,error:A};throw A}})}updateBucket(t,r){return di(this,void 0,void 0,function*(){try{return{data:yield C8(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(A){if(rr(A))return{data:null,error:A};throw A}})}emptyBucket(t){return di(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return di(this,void 0,void 0,function*(){try{return{data:yield jB(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}}class S8 extends N8{constructor(t,r={},A){super(t,r,A)}from(t){return new F8(this.url,this.headers,t,this.fetch)}}const U8="2.49.4";let Va="";typeof Deno<"u"?Va="deno":typeof document<"u"?Va="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Va="react-native":Va="node";const Q8={"X-Client-Info":`supabase-js-${Va}/${U8}`},D8={headers:Q8},T8={schema:"public"},R8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O8={};var k8=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})};const L8=e=>{let t;return e?t=e:typeof fetch>"u"?t=CB:t=fetch,(...r)=>t(...r)},j8=()=>typeof Headers>"u"?EB:Headers,M8=(e,t,r)=>{const A=L8(r),s=j8();return(a,d)=>k8(void 0,void 0,void 0,function*(){var x;const g=(x=yield t())!==null&&x!==void 0?x:e;let f=new s(d==null?void 0:d.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${g}`),A(a,Object.assign(Object.assign({},d),{headers:f}))})};var H8=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})};function P8(e){return e.replace(/\/$/,"")}function K8(e,t){const{db:r,auth:A,realtime:s,global:a}=e,{db:d,auth:x,realtime:g,global:f}=t,p={db:Object.assign(Object.assign({},d),r),auth:Object.assign(Object.assign({},x),A),realtime:Object.assign(Object.assign({},g),s),global:Object.assign(Object.assign({},f),a),accessToken:()=>H8(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const MB="2.69.1",vi=30*1e3,rf=3,Pu=rf*vi,V8="http://localhost:9999",G8="supabase.auth.token",z8={"X-Client-Info":`gotrue-js/${MB}`},Af="X-Supabase-Api-Version",HB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X8=6e5;class H1 extends Error{constructor(t,r,A){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=A}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Y8 extends H1{constructor(t,r,A){super(t,r,A),this.name="AuthApiError",this.status=r,this.code=A}}function q8(e){return Le(e)&&e.name==="AuthApiError"}class PB extends H1{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ms extends H1{constructor(t,r,A,s){super(t,A,s),this.name=r,this.status=A}}class On extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $8(e){return Le(e)&&e.name==="AuthSessionMissingError"}class Ku extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ul extends ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ql extends ms{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z8(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mx extends ms{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nf extends ms{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Vu(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class Hx extends ms{constructor(t,r,A){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=A}}class lo extends ms{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Px="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kx=` 	
\r=`.split(""),J8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kx.length;t+=1)e[Kx[t].charCodeAt(0)]=-2;for(let t=0;t<Px.length;t+=1)e[Px[t].charCodeAt(0)]=t;return e})();function KB(e,t,r){const A=J8[e];if(A>-1)for(t.queue=t.queue<<6|A,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(A===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vx(e){const t=[],r=d=>{t.push(String.fromCodePoint(d))},A={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=d=>{rb(d,A,r)};for(let d=0;d<e.length;d+=1)KB(e.charCodeAt(d),s,a);return t.join("")}function eb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tb(e,t){for(let r=0;r<e.length;r+=1){let A=e.charCodeAt(r);if(A>55295&&A<=56319){const s=(A-55296)*1024&65535;A=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}eb(A,t)}}function rb(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let A=1;A<6;A+=1)if(!(e>>7-A&1)){t.utf8seq=A;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ab(e){const t=[],r={queue:0,queuedBits:0},A=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)KB(e.charCodeAt(s),r,A);return new Uint8Array(t)}function nb(e){const t=[];return tb(e,r=>t.push(r)),new Uint8Array(t)}function sb(e){return Math.round(Date.now()/1e3)+e}function ib(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const JA=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},co=()=>{if(!JA())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function ab(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((A,s)=>{t[s]=A}),t}const VB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ra(async()=>{const{default:A}=await Promise.resolve().then(()=>da);return{default:A}},void 0).then(({default:A})=>A(...r)):t=fetch,(...r)=>t(...r)},ob=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",GB=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Dl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tl=async(e,t)=>{await e.removeItem(t)};class k0{constructor(){this.promise=new k0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}k0.promiseConstructor=Promise;function Gu(e){const t=e.split(".");if(t.length!==3)throw new lo("Invalid JWT structure");for(let A=0;A<t.length;A++)if(!W8.test(t[A]))throw new lo("JWT not in base64url format");return{header:JSON.parse(Vx(t[0])),payload:JSON.parse(Vx(t[1])),signature:Ab(t[2]),raw:{header:t[0],payload:t[1]}}}async function lb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cb(e,t){return new Promise((A,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const d=await e(a);if(!t(a,null,d)){A(d);return}}catch(d){if(!t(a,d)){s(d);return}}})()})}function ub(e){return("0"+e.toString(16)).substr(-2)}function db(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",A=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*A));return s}return crypto.getRandomValues(t),Array.from(t,ub).join("")}async function hb(e){const r=new TextEncoder().encode(e),A=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(A);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function fb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hb(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hi(e,t,r=!1){const A=db();let s=A;r&&(s+="/PASSWORD_RECOVERY"),await GB(e,`${t}-code-verifier`,s);const a=await fb(A);return[a,A===a?"plain":"s256"]}const gb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xb(e){const t=e.headers.get(Af);if(!t||!t.match(gb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wb=function(e,t){var r={};for(var A in e)Object.prototype.hasOwnProperty.call(e,A)&&t.indexOf(A)<0&&(r[A]=e[A]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,A=Object.getOwnPropertySymbols(e);s<A.length;s++)t.indexOf(A[s])<0&&Object.prototype.propertyIsEnumerable.call(e,A[s])&&(r[A[s]]=e[A[s]]);return r};const Ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bb=[502,503,504];async function Gx(e){var t;if(!ob(e))throw new nf(Ns(e),0);if(Bb.includes(e.status))throw new nf(Ns(e),e.status);let r;try{r=await e.json()}catch(a){throw new PB(Ns(a),a)}let A;const s=xb(e);if(s&&s.getTime()>=HB["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?A=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(A=r.error_code),A){if(A==="weak_password")throw new Hx(Ns(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(A==="session_not_found")throw new On}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,d)=>a&&typeof d=="string",!0))throw new Hx(Ns(r),e.status,r.weak_password.reasons);throw new Y8(Ns(r),e.status||500,A)}const yb=(e,t,r,A)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(A),Object.assign(Object.assign({},s),r))};async function ze(e,t,r,A){var s;const a=Object.assign({},A==null?void 0:A.headers);a[Af]||(a[Af]=HB["2024-01-01"].name),A!=null&&A.jwt&&(a.Authorization=`Bearer ${A.jwt}`);const d=(s=A==null?void 0:A.query)!==null&&s!==void 0?s:{};A!=null&&A.redirectTo&&(d.redirect_to=A.redirectTo);const x=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await vb(e,t,r+x,{headers:a,noResolveJson:A==null?void 0:A.noResolveJson},{},A==null?void 0:A.body);return A!=null&&A.xform?A==null?void 0:A.xform(g):{data:Object.assign({},g),error:null}}async function vb(e,t,r,A,s,a){const d=yb(t,A,s,a);let x;try{x=await e(r,Object.assign({},d))}catch(g){throw console.error(g),new nf(Ns(g),0)}if(x.ok||await Gx(x),A!=null&&A.noResolveJson)return x;try{return await x.json()}catch(g){await Gx(g)}}function kn(e){var t;let r=null;Fb(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sb(e.expires_in)));const A=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:A},error:null}}function zx(e){const t=kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,A)=>r&&typeof A=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cb(e){return{data:e,error:null}}function Eb(e){const{action_link:t,email_otp:r,hashed_token:A,redirect_to:s,verification_type:a}=e,d=wb(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),x={action_link:t,email_otp:r,hashed_token:A,redirect_to:s,verification_type:a},g=Object.assign({},d);return{data:{properties:x,user:g},error:null}}function bb(e){return e}function Fb(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ib=function(e,t){var r={};for(var A in e)Object.prototype.hasOwnProperty.call(e,A)&&t.indexOf(A)<0&&(r[A]=e[A]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,A=Object.getOwnPropertySymbols(e);s<A.length;s++)t.indexOf(A[s])<0&&Object.prototype.propertyIsEnumerable.call(e,A[s])&&(r[A[s]]=e[A[s]]);return r};class _b{constructor({url:t="",headers:r={},fetch:A}){this.url=t,this.headers=r,this.fetch=VB(A),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(A){if(Le(A))return{data:null,error:A};throw A}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zn})}catch(A){if(Le(A))return{data:{user:null},error:A};throw A}}async generateLink(t){try{const{options:r}=t,A=Ib(t,["options"]),s=Object.assign(Object.assign({},A),r);return"newEmail"in A&&(s.new_email=A==null?void 0:A.newEmail,delete s.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Eb,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zn})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,A,s,a,d,x,g;try{const f={nextPage:null,lastPage:0,total:0},p=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(A=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&A!==void 0?A:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:bb});if(p.error)throw p.error;const w=await p.json(),y=(d=p.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(g=(x=p.headers.get("link"))===null||x===void 0?void 0:x.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(F=>{const I=parseInt(F.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(F.split(";")[1].split("=")[1]);f[`${U}Page`]=I}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},w),f),error:null}}catch(f){if(Le(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zn})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zn})}catch(A){if(Le(A))return{data:{user:null},error:A};throw A}}async deleteUser(t,r=!1){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zn})}catch(A){if(Le(A))return{data:{user:null},error:A};throw A}}async _listFactors(t){try{const{data:r,error:A}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:A}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}}const Nb={getItem:e=>co()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{co()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{co()&&globalThis.localStorage.removeItem(e)}};function Wx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Sb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fi={debug:!!(globalThis&&co()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ub extends zB{}async function Qb(e,t,r){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const A=new globalThis.AbortController;return t>0&&setTimeout(()=>{A.abort(),fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:A.signal},async s=>{if(s){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ub(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Sb();const Db={url:V8,storageKey:G8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:z8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xx(e,t,r){return await r()}class Mo{constructor(t){var r,A;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mo.nextInstanceID,Mo.nextInstanceID+=1,this.instanceID>0&&JA()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Db),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _b({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=VB(s.fetch),this.lock=s.lock||Xx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:JA()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Qb:this.lock=Xx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:co()?this.storage=Nb:(this.memoryStorage={},this.storage=Wx(this.memoryStorage)):(this.memoryStorage={},this.storage=Wx(this.memoryStorage)),JA()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(A=this.broadcastChannel)===null||A===void 0||A.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${MB}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ab(window.location.href);let A="none";if(this._isImplicitGrantCallback(r)?A="implicit":await this._isPKCECallback(r)&&(A="pkce"),JA()&&this.detectSessionInUrl&&A!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,A);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Z8(a)){const g=(t=a.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:d,redirectType:x}=s;return this._debug("#_initialize()","detected session in URL",d,"redirect type",x),await this._saveSession(d),setTimeout(async()=>{x==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Le(r)?{error:r}:{error:new PB("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,A,s;try{const a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(A=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&A!==void 0?A:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kn}),{data:d,error:x}=a;if(x||!d)return{data:{user:null,session:null},error:x};const g=d.session,f=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:f,session:g},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,A,s;try{let a;if("email"in t){const{email:p,password:w,options:y}=t;let E=null,F=null;this.flowType==="pkce"&&([E,F]=await hi(this.storage,this.storageKey)),a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:w,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:E,code_challenge_method:F},xform:kn})}else if("phone"in t){const{phone:p,password:w,options:y}=t;a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:w,data:(A=y==null?void 0:y.data)!==null&&A!==void 0?A:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:kn})}else throw new Ul("You must provide either an email or phone number and a password");const{data:d,error:x}=a;if(x||!d)return{data:{user:null,session:null},error:x};const g=d.session,f=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:f,session:g},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:d,options:x}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:d,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:zx})}else if("phone"in t){const{phone:a,password:d,options:x}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:d,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:zx})}else throw new Ul("You must provide either an email or phone number and a password");const{data:A,error:s}=r;return s?{data:{user:null,session:null},error:s}:!A||!A.session||!A.user?{data:{user:null,session:null},error:new Ku}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({user:A.user,session:A.session},A.weak_password?{weakPassword:A.weak_password}:null),error:s})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,A,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(A=t.options)===null||A===void 0?void 0:A.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Dl(this.storage,`${this.storageKey}-code-verifier`),[A,s]=(r??"").split("/");try{const{data:a,error:d}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:A},xform:kn});if(await Tl(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ku}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:d})}catch(a){if(Le(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:A,token:s,access_token:a,nonce:d}=t,x=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:A,id_token:s,access_token:a,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kn}),{data:g,error:f}=x;return f?{data:{user:null,session:null},error:f}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ku}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:f})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,A,s,a,d;try{if("email"in t){const{email:x,options:g}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await hi(this.storage,this.storageKey));const{error:w}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:x,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(A=g==null?void 0:g.shouldCreateUser)!==null&&A!==void 0?A:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in t){const{phone:x,options:g}=t,{data:f,error:p}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:x,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Ul("You must provide either an email or phone number.")}catch(x){if(Le(x))return{data:{user:null,session:null},error:x};throw x}}async verifyOtp(t){var r,A;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(A=t.options)===null||A===void 0?void 0:A.captchaToken);const{data:d,error:x}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:kn});if(x)throw x;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,f=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:f,session:g},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,A,s;try{let a=null,d=null;return this.flowType==="pkce"&&([a,d]=await hi(this.storage,this.storageKey)),await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(A=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&A!==void 0?A:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:d}),headers:this.headers,xform:Cb})}catch(a){if(Le(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:A}=t;if(A)throw A;if(!r)throw new On;const{error:s}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:A,type:s,options:a}=t,{error:d}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:A,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:A,type:s,options:a}=t,{data:d,error:x}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:A,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:x}}throw new Ul("You must provide either an email or phone number and a type")}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const A=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await A,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const A=r();for(this.pendingInLock.push((async()=>{try{await A}catch{}})()),await A;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await A}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Dl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const A=t.expires_at?t.expires_at*1e3-Date.now()<Pu:!1;if(this._debug("#__loadSession()",`session has${A?"":" not"} expired`,"expires_at",t.expires_at),!A){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,f,p)=>(!d&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,f,p))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zn}):await this._useSession(async r=>{var A,s,a;const{data:d,error:x}=r;if(x)throw x;return!(!((A=d.session)===null||A===void 0)&&A.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:zn})})}catch(r){if(Le(r))return $8(r)&&(await this._removeSession(),await Tl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async A=>{const{data:s,error:a}=A;if(a)throw a;if(!s.session)throw new On;const d=s.session;let x=null,g=null;this.flowType==="pkce"&&t.email!=null&&([x,g]=await hi(this.storage,this.storageKey));const{data:f,error:p}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:x,code_challenge_method:g}),jwt:d.access_token,xform:zn});if(p)throw p;return d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(A){if(Le(A))return{data:{user:null},error:A};throw A}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new On;const r=Date.now()/1e3;let A=r,s=!0,a=null;const{payload:d}=Gu(t.access_token);if(d.exp&&(A=d.exp,s=A<=r),s){const{session:x,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!x)return{data:{user:null,session:null},error:null};a=x}else{const{data:x,error:g}=await this._getUser(t.access_token);if(g)throw g;a={access_token:t.access_token,refresh_token:t.refresh_token,user:x.user,token_type:"bearer",expires_in:A-r,expires_at:A},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Le(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var A;if(!t){const{data:d,error:x}=r;if(x)throw x;t=(A=d.session)!==null&&A!==void 0?A:void 0}if(!(t!=null&&t.refresh_token))throw new On;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!JA())throw new Ql("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ql(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Mx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ql("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mx("No code detected.");const{data:C,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:A,provider_refresh_token:s,access_token:a,refresh_token:d,expires_in:x,expires_at:g,token_type:f}=t;if(!a||!x||!d||!f)throw new Ql("No session defined in URL");const p=Math.round(Date.now()/1e3),w=parseInt(x);let y=p+w;g&&(y=parseInt(g));const E=y-p;E*1e3<=vi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const F=y-w;p-F>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",F,y,p):p-F<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",F,y,p);const{data:I,error:U}=await this._getUser(a);if(U)throw U;const _={provider_token:A,provider_refresh_token:s,access_token:a,expires_in:w,expires_at:y,refresh_token:d,token_type:f,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(A){if(Le(A))return{data:{session:null,redirectType:null},error:A};throw A}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Dl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var A;const{data:s,error:a}=r;if(a)return{error:a};const d=(A=s.session)===null||A===void 0?void 0:A.access_token;if(d){const{error:x}=await this.admin.signOut(d,t);if(x&&!(q8(x)&&(x.status===404||x.status===401||x.status===403)))return{error:x}}return t!=="others"&&(await this._removeSession(),await Tl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ib(),A={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,A),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:A}}}async _emitInitialSession(t){return await this._useSession(async r=>{var A,s;try{const{data:{session:a},error:d}=r;if(d)throw d;await((A=this.stateChangeEmitters.get(t))===null||A===void 0?void 0:A.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let A=null,s=null;this.flowType==="pkce"&&([A,s]=await hi(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:A,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Le(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:A}=await this.getUser();if(A)throw A;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:A,error:s}=await this._useSession(async a=>{var d,x,g,f,p;const{data:w,error:y}=a;if(y)throw y;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(x=t.options)===null||x===void 0?void 0:x.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",E,{headers:this.headers,jwt:(p=(f=w.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return JA()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(A==null?void 0:A.url),{data:{provider:t.provider,url:A==null?void 0:A.url},error:null}}catch(A){if(Le(A))return{data:{provider:t.provider,url:null},error:A};throw A}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var A,s;const{data:a,error:d}=r;if(d)throw d;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(A=a.session)===null||A===void 0?void 0:A.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const A=Date.now();return await cb(async s=>(s>0&&await lb(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kn})),(s,a)=>{const d=200*Math.pow(2,s);return a&&Vu(a)&&Date.now()+d-A<vi})}catch(A){if(this._debug(r,"error",A),Le(A))return{data:{session:null,user:null},error:A};throw A}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const A=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",A),JA()&&!r.skipBrowserRedirect&&window.location.assign(A),{data:{provider:t,url:A},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const A=await Dl(this.storage,this.storageKey);if(this._debug(r,"session from storage",A),!this._isValidSession(A)){this._debug(r,"session is not valid"),A!==null&&await this._removeSession();return}const s=((t=A.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Pu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Pu}s`),s){if(this.autoRefreshToken&&A.refresh_token){const{error:a}=await this._callRefreshToken(A.refresh_token);a&&(console.error(a),Vu(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",A)}catch(A){this._debug(r,"error",A),console.error(A);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,A;if(!t)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new k0;const{data:a,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!a.session)throw new On;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const x={session:a.session,error:null};return this.refreshingDeferred.resolve(x),x}catch(a){if(this._debug(s,"error",a),Le(a)){const d={session:null,error:a};return Vu(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(A=this.refreshingDeferred)===null||A===void 0||A.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,A=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${A}`);try{this.broadcastChannel&&A&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],d=Array.from(this.stateChangeEmitters.values()).map(async x=>{try{await x.callback(t,r)}catch(g){a.push(g)}});if(await Promise.all(d),a.length>0){for(let x=0;x<a.length;x+=1)console.error(a[x]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await GB(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Tl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&JA()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:A}}=r;if(!A||!A.refresh_token||!A.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((A.expires_at*1e3-t)/vi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vi}ms, refresh threshold is ${rf} ticks`),s<=rf&&await this._callRefreshToken(A.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!JA()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,A){const s=[`provider=${encodeURIComponent(r)}`];if(A!=null&&A.redirectTo&&s.push(`redirect_to=${encodeURIComponent(A.redirectTo)}`),A!=null&&A.scopes&&s.push(`scopes=${encodeURIComponent(A.scopes)}`),this.flowType==="pkce"){const[a,d]=await hi(this.storage,this.storageKey),x=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(d)}`});s.push(x.toString())}if(A!=null&&A.queryParams){const a=new URLSearchParams(A.queryParams);s.push(a.toString())}return A!=null&&A.skipBrowserRedirect&&s.push(`skip_http_redirect=${A.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var A;const{data:s,error:a}=r;return a?{data:null,error:a}:await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(A=s==null?void 0:s.session)===null||A===void 0?void 0:A.access_token})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var A,s;const{data:a,error:d}=r;if(d)return{data:null,error:d};const x=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:f}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:x,headers:this.headers,jwt:(A=a==null?void 0:a.session)===null||A===void 0?void 0:A.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((s=g==null?void 0:g.totp)===null||s===void 0)&&s.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var A;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:d,error:x}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(A=s==null?void 0:s.session)===null||A===void 0?void 0:A.access_token});return x?{data:null,error:x}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:x})})}catch(r){if(Le(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var A;const{data:s,error:a}=r;return a?{data:null,error:a}:await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(A=s==null?void 0:s.session)===null||A===void 0?void 0:A.access_token})})}catch(r){if(Le(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:A}=await this._challenge({factorId:t.factorId});return A?{data:null,error:A}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const A=(t==null?void 0:t.factors)||[],s=A.filter(d=>d.factor_type==="totp"&&d.status==="verified"),a=A.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:A,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,A;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Gu(s.access_token);let x=null;d.aal&&(x=d.aal);let g=x;((A=(r=s.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&A!==void 0?A:[]).length>0&&(g="aal2");const p=d.amr||[];return{data:{currentLevel:x,nextLevel:g,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,r={keys:[]}){let A=r.keys.find(d=>d.kid===t);if(A||(A=this.jwks.keys.find(d=>d.kid===t),A&&this.jwks_cached_at+X8>Date.now()))return A;const{data:s,error:a}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new lo("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),A=s.keys.find(d=>d.kid===t),!A)throw new lo("No matching signing key found in JWKS");return A}async getClaims(t,r={keys:[]}){try{let A=t;if(!A){const{data:E,error:F}=await this.getSession();if(F||!E.session)return{data:null,error:F};A=E.session.access_token}const{header:s,payload:a,signature:d,raw:{header:x,payload:g}}=Gu(A);if(pb(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:E}=await this.getUser(A);if(E)throw E;return{data:{claims:a,header:s,signature:d},error:null}}const f=mb(s.alg),p=await this.fetchJwk(s.kid,r),w=await crypto.subtle.importKey("jwk",p,f,!0,["verify"]);if(!await crypto.subtle.verify(f,w,d,nb(`${x}.${g}`)))throw new lo("Invalid JWT signature");return{data:{claims:a,header:s,signature:d},error:null}}catch(A){if(Le(A))return{data:null,error:A};throw A}}}Mo.nextInstanceID=0;const Tb=Mo;class Rb extends Tb{constructor(t){super(t)}}var Ob=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})};class kb{constructor(t,r,A){var s,a,d;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const x=P8(t);this.realtimeUrl=`${x}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${x}/auth/v1`,this.storageUrl=`${x}/storage/v1`,this.functionsUrl=`${x}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:T8,realtime:O8,auth:Object.assign(Object.assign({},R8),{storageKey:g}),global:D8},p=K8(A??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(w,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=p.auth)!==null&&d!==void 0?d:{},this.headers,p.global.fetch),this.fetch=M8(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new t8(`${x}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new U3(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new S8(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},A={}){return this.rest.rpc(t,r,A)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Ob(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:A}=yield this.auth.getSession();return(r=(t=A.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:A,storage:s,storageKey:a,flowType:d,lock:x,debug:g},f,p){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rb({url:this.authUrl,headers:Object.assign(Object.assign({},w),f),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:A,storage:s,flowType:d,lock:x,debug:g,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new x8(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,A)=>{this._handleTokenChanged(r,"CLIENT",A==null?void 0:A.access_token)})}_handleTokenChanged(t,r,A){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==A?this.changedAccessToken=A:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lb=(e,t,r)=>new kb(e,t,r),jb="https://bijodgezlhkpdaimijpe.supabase.co",Mb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpam9kZ2V6bGhrcGRhaW1panBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0MDE3NjUsImV4cCI6MjA2MDk3Nzc2NX0.gnZqsq_AePCmVoDmNVyQzRv7n8jhmzdAQ7ZdFhyyfoE",fe=Lb(jb,Mb),WB=G.createContext({}),ir=()=>G.useContext(WB),zu=async e=>{console.log("mapSupabaseUser appelé avec:",e==null?void 0:e.id);try{const{data:r,error:A}=await fe.from("profiles").select("*").eq("id",e.id).single();if(A)throw console.error("Erreur lors de la récupération du profil:",A.message),A;if(r)return console.log("Profil récupéré avec succès:",r),{id:r.id,email:r.email||e.email||"",phoneNumber:r.phone_number||"",firstName:r.first_name||"",lastName:r.last_name||"",role:r.role,createdAt:r.created_at}}catch(r){console.error("Erreur lors de la récupération du profil, utilisation du profil par défaut:",r)}const t={id:e.id,email:e.email||"",phoneNumber:"",firstName:"",lastName:"",role:"client",createdAt:new Date().toISOString()};return console.log("Utilisation d'un utilisateur créé localement (fallback):",t),t},Hb=({children:e})=>{const[t,r]=G.useState(null),[A,s]=G.useState(!0),[,a]=G.useState(null);G.useEffect(()=>{console.log("Initialisation de l'authentification"),s(!0),fe.auth.getSession().then(async({data:{session:p}})=>{if(console.log("Session récupérée:",p),a(p),p!=null&&p.user)try{const w=await zu(p.user);console.log("Utilisateur mappé lors de l'initialisation:",w),r(w)}catch(w){console.error("Erreur lors du mappage initial de l'utilisateur:",w);const y={id:p.user.id,email:p.user.email||"",phoneNumber:"",firstName:"",lastName:"",role:"client",createdAt:new Date().toISOString()};r(y),console.log("Utilisateur par défaut utilisé lors de l'initialisation:",y)}s(!1)}).catch(p=>{console.error("Erreur lors de la récupération de la session:",p),s(!1)});const{data:{subscription:f}}=fe.auth.onAuthStateChange(async(p,w)=>{if(console.log("Changement d'authentification détecté:",p,w),a(w),p!=="SIGNED_IN"){if(w!=null&&w.user)try{const y=await zu(w.user);r(y)}catch(y){console.error("Erreur lors du mappage de l'utilisateur après changement d'authentification:",y)}else r(null);s(!1)}});return()=>{f.unsubscribe()}},[]);const d=async(f,p)=>{s(!0),console.log("Tentative de connexion avec:",{email:f});try{console.log("Appel à supabase.auth.signInWithPassword");const{data:w,error:y}=await fe.auth.signInWithPassword({email:f,password:p});if(console.log("Réponse de signInWithPassword:",{data:w,error:y}),y)throw console.error("Erreur d'authentification:",y),s(!1),y;console.log("Authentification réussie, utilisateur:",w.user);try{const E=await zu(w.user);r(E),console.log("Utilisateur mis à jour manuellement:",E)}catch(E){console.error("Erreur lors de la récupération du profil:",E);const F={id:w.user.id,email:w.user.email||"",phoneNumber:"",firstName:"",lastName:"",role:"client",createdAt:new Date().toISOString()};r(F),console.log("Utilisateur par défaut utilisé:",F)}finally{s(!1)}}catch(w){throw console.error("Exception lors de la connexion:",w),s(!1),w}},x=async(f,p)=>{s(!0);try{const{data:w,error:y}=await fe.auth.signUp({email:f.email||"",password:p});if(y||!w.user)throw y||new Error("Échec de la création du compte");const{error:E}=await fe.from("profiles").insert({id:w.user.id,email:f.email||"",phone:f.phoneNumber||null,first_name:f.firstName||"",last_name:f.lastName||"",role:f.role||"client",created_at:new Date().toISOString()});if(E)throw console.error("Erreur lors de la création du profil:",E),E}catch(w){throw s(!1),w}},g=async()=>{try{await fe.auth.signOut()}catch(f){throw console.error("Erreur lors de la déconnexion:",f),f}};return c.jsx(WB.Provider,{value:{user:t,loading:A,login:d,register:x,logout:g,isAuthenticated:!!t},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(e,t)=>{const r=G.forwardRef(({color:A="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:d,className:x="",children:g,...f},p)=>G.createElement("svg",{ref:p,...Pb,width:s,height:s,stroke:A,strokeWidth:d?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Kb(e)}`,x].join(" "),...f},[...t.map(([w,y])=>G.createElement(w,y)),...Array.isArray(g)?g:[g]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=Ce("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=Ce("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Ce("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Ce("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Ce("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Ce("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Ce("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=Ce("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=Ce("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=Ce("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=Ce("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=Ce("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Ce("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Ce("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=Ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=Ce("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Ce("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=Ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Ce("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Ce("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=Ce("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Ce("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),we=({children:e,variant:t="primary",size:r="md",loading:A=!1,icon:s,iconPosition:a="left",fullWidth:d=!1,className:x="",disabled:g,...f})=>{const p="inline-flex items-center justify-center font-medium transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-60 disabled:cursor-not-allowed",w={primary:"bg-primary text-white hover:bg-primary-dark focus:ring-primary",secondary:"bg-secondary text-white hover:bg-secondary-dark focus:ring-secondary",success:"bg-success text-white hover:bg-success/90 focus:ring-success",warning:"bg-warning text-white hover:bg-warning/90 focus:ring-warning",error:"bg-error text-white hover:bg-error/90 focus:ring-error",outline:"bg-transparent border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-primary",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},y={sm:"px-3 py-1.5 text-sm rounded-md",md:"px-4 py-2 text-sm rounded-md",lg:"px-6 py-2.5 text-base rounded-lg"},E=d?"w-full":"";return c.jsx("button",{className:`${p} ${w[t]} ${y[r]} ${E} ${x}`,disabled:g||A,...f,children:A?c.jsxs(c.Fragment,{children:[c.jsx(Po,{className:"w-4 h-4 mr-2 animate-spin"}),e]}):c.jsxs(c.Fragment,{children:[s&&a==="left"&&c.jsx("span",{className:"mr-2",children:s}),e,s&&a==="right"&&c.jsx("span",{className:"ml-2",children:s})]})})},mA={async getUnreadCount(e){try{const{count:t,error:r}=await fe.from("notifications").select("id",{count:"exact"}).eq("user_id",e).eq("is_read",!1);return r?(console.error("Erreur lors du comptage des notifications non lues:",r),0):t||0}catch(t){return console.error("Erreur lors du comptage des notifications non lues:",t),0}},subscribeToNotifications(e,t){const r=fe.channel(`user-notifications:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},async A=>{var s,a;try{const{data:d,error:x}=await fe.from("notifications").select(`
              *,
              repair:repair_requests(id, brand, model, status_id, status:repair_statuses(name, label))
            `).eq("id",A.new.id).single();if(x)throw x;const g={id:d.id,userId:d.user_id,title:d.title,message:d.message,type:d.type,relatedId:d.related_id,isRead:d.is_read,timestamp:d.created_at,repairInfo:d.repair?{id:d.repair.id,brand:d.repair.brand,model:d.repair.model,statusId:d.repair.status_id,statusName:(s=d.repair.status)==null?void 0:s.name,statusLabel:(a=d.repair.status)==null?void 0:a.label}:void 0};t(g),this.playNotificationSound(),document.visibilityState!=="visible"&&this.showDesktopNotification(g)}catch(d){console.error("Erreur lors du traitement de la notification:",d)}}).subscribe();return()=>{fe.removeChannel(r)}},async markAsRead(e){try{const{error:t}=await fe.from("notifications").update({is_read:!0}).eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erreur lors du marquage de la notification comme lue:",t),!1}},async markAllAsRead(e){try{const{error:t}=await fe.from("notifications").update({is_read:!0}).eq("user_id",e).eq("is_read",!1);if(t)throw t;return!0}catch(t){return console.error("Erreur lors du marquage de toutes les notifications comme lues:",t),!1}},async deleteNotification(e){try{const{error:t}=await fe.from("notifications").delete().eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erreur lors de la suppression de la notification:",t),!1}},async getUnreadNotifications(e){try{const{data:t,error:r}=await fe.from("notifications").select("*").eq("user_id",e).eq("is_read",!1).order("created_at",{ascending:!1});return r?(console.error("Erreur lors de la récupération des notifications non lues:",r),[]):(t||[]).map(A=>({id:A.id,userId:A.user_id,title:A.title,message:A.message,type:A.type,relatedId:A.related_id,isRead:A.is_read,timestamp:A.created_at}))}catch(t){return console.error("Erreur lors de la récupération des notifications non lues:",t),[]}},async getAllNotifications(e,t=50){try{const{data:r,error:A}=await fe.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);return A?(console.error("Erreur lors de la récupération des notifications:",A),[]):(r||[]).map(s=>({id:s.id,userId:s.user_id,title:s.title,message:s.message,type:s.type,relatedId:s.related_id,isRead:s.is_read,timestamp:s.created_at}))}catch(r){return console.error("Erreur lors de la récupération des notifications:",r),[]}},async createNotification(e){try{const{data:t,error:r}=await fe.from("notifications").insert({user_id:e.userId,title:e.title,message:e.message,type:e.type,related_id:e.relatedId,is_read:e.isRead,created_at:new Date().toISOString()}).select().single();if(r)throw r;return{id:t.id,userId:t.user_id,title:t.title,message:t.message,type:t.type,relatedId:t.related_id,isRead:t.is_read,timestamp:t.created_at,repairInfo:e.repairInfo}}catch(t){return console.error("Erreur lors de la création de la notification:",t),null}},playNotificationSound(){try{const e=new Audio("/sounds/notification.mp3");e.volume=.5,e.play().catch(t=>{console.log("Impossible de jouer le son de notification:",t)})}catch(e){console.error("Erreur lors de la lecture du son de notification:",e)}},showDesktopNotification(e){if("Notification"in window&&Notification.permission==="granted"){const t=e.title||"PC Relais",r={body:e.message,icon:"/logo192.png",tag:`notification-${e.id}`,data:{url:e.repairInfo?`/repair/${e.repairInfo.id}`:"/",notificationId:e.id}},A=new Notification(t,r);A.onclick=function(){window.focus(),this.data&&this.data.url&&(window.location.href=this.data.url),this.close()}}}},Vr=({children:e,variant:t="default",size:r="md",className:A=""})=>{const s={default:"bg-gray-100 text-gray-800",primary:"bg-primary/10 text-primary",secondary:"bg-secondary/10 text-secondary",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",error:"bg-error/10 text-error"},a={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"};return c.jsx("span",{className:`inline-flex items-center rounded-full font-medium ${s[t]} ${a[r]} ${A}`,children:e})},yF=({onNotificationRead:e,className:t})=>{const{user:r}=ir(),[A,s]=G.useState([]),[a,d]=G.useState(!1),[x,g]=G.useState(!0),f=G.useRef(null);G.useEffect(()=>{(async()=>{if(r)try{g(!0);const b=await mA.getUnreadNotifications(r.id);s(b)}catch(b){console.error("Erreur lors du chargement des notifications:",b)}finally{g(!1)}})();const C=mA.subscribeToNotifications((r==null?void 0:r.id)||"",b=>{s(S=>[b,...S])});return()=>{C()}},[r]),G.useEffect(()=>{const _=C=>{f.current&&!f.current.contains(C.target)&&d(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const p=async(_,C)=>{C.stopPropagation();try{await mA.markAsRead(_)&&(s(S=>S.map(k=>k.id===_?{...k,isRead:!0}:k)),e&&e())}catch(b){console.error("Erreur lors du marquage de la notification comme lue:",b)}},w=async(_,C)=>{C.stopPropagation();try{await mA.deleteNotification(_)&&s(S=>S.filter(k=>k.id!==_))}catch(b){console.error("Erreur lors de la suppression de la notification:",b)}},y=async()=>{if(r)try{if(await mA.markAllAsRead(r.id)){const C=A.filter(b=>!b.isRead).length;if(s(b=>b.map(S=>({...S,isRead:!0}))),e&&C>0)for(let b=0;b<C;b++)e()}}catch(_){console.error("Erreur lors du marquage de toutes les notifications comme lues:",_)}},E=_=>{switch(_){case"info":return c.jsx(vn,{className:"h-5 w-5 text-blue-500"});case"warning":return c.jsx(uo,{className:"h-5 w-5 text-amber-500"});case"success":return c.jsx(nA,{className:"h-5 w-5 text-green-500"});case"error":return c.jsx(uo,{className:"h-5 w-5 text-red-500"});case"repair":return c.jsx(Zs,{className:"h-5 w-5 text-purple-500"});case"message":return c.jsx(fa,{className:"h-5 w-5 text-primary"});default:return c.jsx(vn,{className:"h-5 w-5 text-gray-500"})}},F=_=>{if(!_.relatedId)return"/";const C=_.type;return C==="message"||C==="chat"?`/chat/${_.relatedId}`:C==="repair"||_.repairInfo?`/repair/${_.relatedId}`:["info","success","warning","error"].includes(C)?"/notifications":"/"},I=_=>{const C=new Date(_),S=new Date().getTime()-C.getTime(),k=Math.floor(S/6e4),D=Math.floor(k/60),O=Math.floor(D/24);return k<1?"À l'instant":k<60?`Il y a ${k} minute${k>1?"s":""}`:D<24?`Il y a ${D} heure${D>1?"s":""}`:O<7?`Il y a ${O} jour${O>1?"s":""}`:C.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})},U=A.filter(_=>!_.isRead).length;return c.jsxs("div",{className:`relative ${t}`,ref:f,children:[c.jsxs("button",{className:"relative p-2 rounded-full hover:bg-gray-100 transition-colors",onClick:()=>d(!a),"aria-label":"Notifications",children:[c.jsx(Ho,{className:"h-6 w-6 text-gray-600"}),U>0&&c.jsx("span",{className:"absolute top-0 right-0 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs text-white",children:U>9?"9+":U})]}),a&&c.jsxs("div",{className:"absolute right-0 mt-2 w-80 md:w-96 bg-white rounded-lg shadow-lg overflow-hidden z-50",children:[c.jsxs("div",{className:"p-3 border-b flex items-center justify-between",children:[c.jsx("h3",{className:"font-medium",children:"Notifications"}),U>0&&c.jsx(we,{variant:"ghost",size:"sm",onClick:y,children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx($c,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{className:"text-xs",children:"Tout marquer comme lu"})]})})]}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:x?c.jsxs("div",{className:"p-4 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Chargement des notifications..."})]}):A.length===0?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(Ho,{className:"h-10 w-10 text-gray-300 mx-auto mb-2"}),c.jsx("p",{className:"text-gray-500",children:"Aucune notification"})]}):c.jsx("div",{children:A.map(_=>c.jsxs("div",{className:`p-3 border-b hover:bg-gray-50 transition-colors flex ${_.isRead?"":"bg-blue-50"}`,children:[c.jsx("div",{className:"flex-shrink-0 mr-3",children:E(_.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("p",{className:"font-medium text-sm truncate",children:_.title}),c.jsx("span",{className:"text-xs text-gray-500 ml-2 whitespace-nowrap",children:I(_.timestamp)})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.message}),_.repairInfo&&c.jsxs("div",{className:"mt-2 flex items-center",children:[c.jsx(Vr,{variant:_.repairInfo.statusName==="completed"?"success":_.repairInfo.statusName==="inRepair"?"primary":_.repairInfo.statusName==="cancelled"?"error":"warning",className:"mr-2",children:_.repairInfo.statusLabel}),c.jsxs("span",{className:"text-xs text-gray-500 truncate",children:[_.repairInfo.brand," ",_.repairInfo.model]})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[_.relatedId&&c.jsx(be,{to:F(_),className:"text-xs text-primary hover:underline",onClick:()=>d(!1),children:"Voir les détails"}),c.jsxs("div",{className:"flex space-x-2",children:[!_.isRead&&c.jsx("button",{className:"text-xs text-gray-500 hover:text-primary",onClick:C=>p(_.id,C),title:"Marquer comme lu",children:c.jsx($c,{className:"h-4 w-4"})}),c.jsx("button",{className:"text-xs text-gray-500 hover:text-red-500",onClick:C=>w(_.id,C),title:"Supprimer",children:c.jsx(js,{className:"h-4 w-4"})})]})]})]})]},_.id))})}),c.jsx("div",{className:"p-2 border-t bg-gray-50",children:c.jsx(be,{to:"/notifications",className:"block text-center text-sm text-primary hover:underline p-1",onClick:()=>d(!1),children:"Voir toutes les notifications"})})]})]})},vF=()=>{const{user:e,logout:t,isAuthenticated:r}=ir(),A=FA(),[s,a]=G.useState(!1),[d,x]=G.useState(!1),[g,f]=G.useState(0),p=()=>{a(!s)},w=()=>{x(!d)},y=async()=>{await t(),A("/login"),x(!1)};return G.useEffect(()=>{if(!e)return;const E=async()=>{try{const I=await mA.getUnreadCount(e.id);f(I)}catch(I){console.error("Erreur lors du chargement des notifications non lues:",I)}};E();const F=mA.subscribeToNotifications(e.id,()=>{E()});return()=>{F()}},[e]),c.jsxs("nav",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-50",children:[c.jsx("div",{className:"container-app",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs(be,{to:"/",className:"flex items-center gap-2",children:[c.jsx(ho,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"PC Relais"})]})}),c.jsxs("div",{className:"hidden md:flex md:items-center md:space-x-8",children:[c.jsx(be,{to:"/",className:"text-gray-700 hover:text-primary px-2 py-1 text-sm font-medium transition-colors",children:"Accueil"}),c.jsx(be,{to:"/services",className:"text-gray-700 hover:text-primary px-2 py-1 text-sm font-medium transition-colors",children:"Services"}),c.jsx(be,{to:"/about",className:"text-gray-700 hover:text-primary px-2 py-1 text-sm font-medium transition-colors",children:"À propos"}),c.jsx(be,{to:"/contact",className:"text-gray-700 hover:text-primary px-2 py-1 text-sm font-medium transition-colors",children:"Contact"})]}),c.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:r?c.jsxs("div",{className:"relative flex items-center space-x-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(yF,{onNotificationRead:()=>f(E=>Math.max(0,E-1)),className:"text-gray-600 hover:text-primary p-1 rounded-full transition-colors"}),g>0&&c.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g>9?"9+":g})]}),c.jsxs("button",{className:"flex items-center text-gray-700 hover:text-primary transition-colors",onClick:w,children:[c.jsx("span",{className:"mr-2 text-sm font-medium",children:e==null?void 0:e.firstName}),c.jsx("div",{className:"h-8 w-8 rounded-full bg-primary text-white flex items-center justify-center",children:c.jsx(sa,{className:"h-4 w-4"})})]}),d&&c.jsx("div",{className:"absolute right-0 top-10 w-48 bg-white rounded-md shadow-lg border border-gray-100 animate-fade-in",children:c.jsxs("div",{className:"py-1",children:[c.jsx(be,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>x(!1),children:"Mon profil"}),c.jsx(be,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>x(!1),children:"Tableau de bord"}),((e==null?void 0:e.role)==="relayPoint"||(e==null?void 0:e.role)==="admin")&&c.jsx(be,{to:"/admin/relay-points",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>x(!1),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(bA,{className:"h-4 w-4 mr-2"}),"Gestion des points relais"]})}),c.jsxs("button",{onClick:y,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[c.jsx(qx,{className:"h-4 w-4 mr-2"})," Se déconnecter"]})]})})]}):c.jsxs(c.Fragment,{children:[c.jsx(be,{to:"/login",children:c.jsx(we,{variant:"outline",size:"sm",children:"Se connecter"})}),c.jsx(be,{to:"/register",children:c.jsx(we,{variant:"primary",size:"sm",children:"S'inscrire"})})]})}),c.jsxs("div",{className:"md:hidden flex items-center space-x-3",children:[r&&c.jsx("div",{className:"relative",children:c.jsxs(be,{to:"/notifications",className:"text-gray-600 hover:text-primary p-1 rounded-full transition-colors",children:[c.jsx(Ho,{className:"h-5 w-5"}),g>0&&c.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g>9?"9+":g})]})}),c.jsx("button",{onClick:p,className:"text-gray-700 p-1 rounded-md focus:outline-none",children:s?c.jsx(js,{className:"h-6 w-6"}):c.jsx(AF,{className:"h-6 w-6"})})]})]})}),s&&c.jsx("div",{className:"md:hidden bg-white border-t border-gray-100 animate-fade-in",children:c.jsxs("div",{className:"pt-2 pb-4 space-y-1 px-4",children:[c.jsx(be,{to:"/",className:"block py-2 text-base text-gray-700",onClick:()=>a(!1),children:"Accueil"}),c.jsx(be,{to:"/services",className:"block py-2 text-base text-gray-700",onClick:()=>a(!1),children:"Services"}),c.jsx(be,{to:"/about",className:"block py-2 text-base text-gray-700",onClick:()=>a(!1),children:"À propos"}),c.jsx(be,{to:"/contact",className:"block py-2 text-base text-gray-700",onClick:()=>a(!1),children:"Contact"}),r?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t border-gray-200 my-2"}),c.jsx(be,{to:"/profile",className:"block py-2 text-base text-gray-700",onClick:()=>a(!1),children:"Mon profil"}),c.jsx(be,{to:"/dashboard",className:"block py-2 text-base text-gray-700",onClick:()=>a(!1),children:"Tableau de bord"}),((e==null?void 0:e.role)==="relayPoint"||(e==null?void 0:e.role)==="admin")&&c.jsx(be,{to:"/admin/relay-points",className:"block py-2 text-base text-gray-700",onClick:()=>a(!1),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(bA,{className:"h-4 w-4 mr-2"}),"Gestion des points relais"]})}),c.jsxs("button",{onClick:y,className:"flex items-center w-full py-2 text-base text-gray-700",children:[c.jsx(qx,{className:"h-4 w-4 mr-2"})," Se déconnecter"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t border-gray-200 my-2"}),c.jsxs("div",{className:"pt-2 flex flex-col space-y-2",children:[c.jsx(be,{to:"/login",className:"w-full",onClick:()=>a(!1),children:c.jsx(we,{variant:"outline",fullWidth:!0,children:"Se connecter"})}),c.jsx(be,{to:"/register",className:"w-full",onClick:()=>a(!1),children:c.jsx(we,{variant:"primary",fullWidth:!0,children:"S'inscrire"})})]})]})]})})]})},CF=()=>c.jsx("footer",{className:"bg-gray-900 text-white pt-12 pb-8",children:c.jsxs("div",{className:"container-app",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"À propos de PC Relais"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"PC Relais révolutionne la réparation informatique en connectant les particuliers avec des points relais partenaires pour simplifier le dépôt et la récupération de matériel informatique."}),c.jsxs("div",{className:"flex space-x-4 mt-6",children:[c.jsx("a",{href:"https://facebook.com",className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(Zb,{className:"h-5 w-5"})}),c.jsx("a",{href:"https://twitter.com",className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(BF,{className:"h-5 w-5"})}),c.jsx("a",{href:"https://instagram.com",className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(eF,{className:"h-5 w-5"})}),c.jsx("a",{href:"https://linkedin.com",className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(rF,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liens utiles"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(be,{to:"/services",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Nos services"})}),c.jsx("li",{children:c.jsx(be,{to:"/find-relays",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Trouver un point relais"})}),c.jsx("li",{children:c.jsx(be,{to:"/pricing",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Tarifs"})}),c.jsx("li",{children:c.jsx(be,{to:"/faq",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"FAQ"})}),c.jsx("li",{children:c.jsx(be,{to:"/blog",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Blog"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informations légales"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(be,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Conditions d'utilisation"})}),c.jsx("li",{children:c.jsx(be,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Politique de confidentialité"})}),c.jsx("li",{children:c.jsx(be,{to:"/cookies",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Gestion des cookies"})}),c.jsx("li",{children:c.jsx(be,{to:"/legal",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Mentions légales"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),c.jsxs("ul",{className:"space-y-4",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(V1,{className:"h-5 w-5 text-primary mr-3 mt-0.5"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"contact@pcrelais.fr"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(ZB,{className:"h-5 w-5 text-primary mr-3 mt-0.5"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"01 23 45 67 89"})]})]})]})]}),c.jsx("div",{className:"border-t border-gray-800 mt-10 pt-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("p",{className:"text-gray-500 text-sm",children:["© ",new Date().getFullYear()," PC Relais. Tous droits réservés."]}),c.jsx("div",{className:"mt-4 md:mt-0",children:c.jsx("div",{className:"bg-gray-700 h-6 w-32 rounded flex items-center justify-center text-xs text-gray-400",children:"Moyens de paiement"})})]})})]})}),MA=({children:e})=>c.jsxs("div",{className:"flex flex-col min-h-screen",children:[c.jsx(vF,{}),c.jsx("main",{className:"flex-grow",children:e}),c.jsx(CF,{})]}),ce=({children:e,className:t="",onClick:r,hoverable:A=!1})=>{const s=A?"cursor-pointer transition-all duration-200 hover:shadow-md hover:translate-y-[-2px]":"";return c.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden ${s} ${t}`,onClick:r,children:e})},EF=({children:e,className:t=""})=>c.jsx("div",{className:`px-6 py-4 border-b border-gray-100 ${t}`,children:e}),bF=({children:e,className:t=""})=>c.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${t}`,children:e}),FF=({children:e,className:t=""})=>c.jsx("div",{className:`px-6 py-4 ${t}`,children:e}),IF=({children:e,className:t=""})=>c.jsx("div",{className:`px-6 py-4 bg-gray-50 border-t border-gray-100 ${t}`,children:e});ce.Header=EF;ce.Title=bF;ce.Content=FF;ce.Footer=IF;const _F=()=>{const e=[{icon:c.jsx(tF,{className:"h-10 w-10 text-primary"}),title:"Ordinateurs portables",description:"Réparation d'ordinateurs portables toutes marques, problèmes logiciels ou matériels."},{icon:c.jsx(nF,{className:"h-10 w-10 text-primary"}),title:"Ordinateurs de bureau",description:"Dépannage, mise à niveau et réparation pour tous les PC fixes."},{icon:c.jsx(hF,{className:"h-10 w-10 text-primary"}),title:"Smartphones et tablettes",description:"Réparation d'écrans, batteries et autres problèmes sur vos appareils mobiles."},{icon:c.jsx(qb,{className:"h-10 w-10 text-primary"}),title:"Pièces et composants",description:"Remplacement de pièces défectueuses et mise à niveau de composants."}],t=[{icon:c.jsx(bA,{className:"h-8 w-8 text-primary"}),title:"Proximité",description:"Un réseau de points relais proches de chez vous pour déposer et récupérer vos appareils."},{icon:c.jsx(Zs,{className:"h-8 w-8 text-primary"}),title:"Rapidité",description:"Réparations effectuées dans les meilleurs délais par nos techniciens experts."},{icon:c.jsx(dF,{className:"h-8 w-8 text-primary"}),title:"Fiabilité",description:"Garantie sur toutes nos réparations et utilisation de pièces de qualité."},{icon:c.jsx(mc,{className:"h-8 w-8 text-primary"}),title:"Support",description:"Assistance et suivi en ligne à chaque étape de la réparation."}];return c.jsxs(MA,{children:[c.jsx("section",{className:"bg-gradient-to-br from-primary-dark via-primary to-primary-light text-white py-16 lg:py-24",children:c.jsx("div",{className:"container-app",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold leading-tight mb-4",children:["Réparez votre ordinateur ",c.jsx("span",{className:"text-secondary-light",children:"simplement et rapidement"})]}),c.jsx("p",{className:"text-lg md:text-xl opacity-90 mb-8",children:"Déposez votre appareil dans un point relais près de chez vous. Nos experts s'occupent du reste !"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx(be,{to:"/request-repair",children:c.jsx(we,{variant:"secondary",size:"lg",children:"Démarrer une réparation"})}),c.jsx(be,{to:"/find-relays",children:c.jsx(we,{variant:"outline",size:"lg",className:"bg-transparent border-white text-white hover:bg-white/10",children:"Trouver un point relais"})})]})]}),c.jsx("div",{className:"flex justify-center lg:justify-end",children:c.jsx("img",{src:"https://images.pexels.com/photos/5452255/pexels-photo-5452255.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Réparation d'ordinateur",className:"rounded-lg shadow-xl max-w-full h-auto animate-slide-in-up"})})]})})}),c.jsx("section",{className:"py-16 bg-white",children:c.jsxs("div",{className:"container-app",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Comment ça marche ?"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"PC Relais simplifie vos réparations informatiques en 3 étapes simples"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"text-center px-6 relative",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-primary text-white text-xl font-bold mb-4",children:"1"}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Décrivez votre problème"}),c.jsx("p",{className:"text-gray-600",children:"Expliquez-nous ce qui ne va pas avec votre appareil. Notre IA vous proposera un pré-diagnostic."})]}),c.jsxs("div",{className:"text-center px-6 relative",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-primary text-white text-xl font-bold mb-4",children:"2"}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Déposez votre appareil"}),c.jsx("p",{className:"text-gray-600",children:"Choisissez un point relais près de chez vous et déposez-y votre appareil quand cela vous convient."})]}),c.jsxs("div",{className:"text-center px-6",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-primary text-white text-xl font-bold mb-4",children:"3"}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Récupérez-le réparé"}),c.jsx("p",{className:"text-gray-600",children:"Suivez la réparation en temps réel. Une fois terminé, récupérez votre appareil au même point relais."})]})]}),c.jsx("div",{className:"text-center mt-12",children:c.jsx(be,{to:"/request-repair",children:c.jsx(we,{variant:"primary",size:"lg",children:"Faire réparer mon appareil"})})})]})}),c.jsx("section",{className:"py-16 bg-gray-50",children:c.jsxs("div",{className:"container-app",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nos services de réparation"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Des solutions pour tous vos appareils électroniques"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((r,A)=>c.jsx(ce,{hoverable:!0,className:"h-full",children:c.jsxs(ce.Content,{className:"text-center p-6",children:[c.jsx("div",{className:"flex justify-center mb-4",children:r.icon}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),c.jsx("p",{className:"text-gray-600",children:r.description})]})},A))})]})}),c.jsx("section",{className:"py-16 bg-white",children:c.jsxs("div",{className:"container-app",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ce que disent nos clients"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Des milliers d'utilisateurs satisfaits"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsx(ce,{className:"h-full",children:c.jsxs(ce.Content,{className:"p-6",children:[c.jsx("div",{className:"flex items-center space-x-1 mb-4",children:[...Array(5)].map((r,A)=>c.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},A))}),c.jsx("p",{className:"text-gray-600 mb-4",children:`"Service exceptionnel ! J'ai déposé mon ordinateur portable qui ne démarrait plus, et trois jours plus tard, il fonctionnait parfaitement. La communication était excellente tout au long du processus."`}),c.jsxs("div",{className:"flex items-center mt-6",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 font-semibold",children:"SD"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h4",{className:"font-semibold",children:"Sophie Dupont"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Lyon"})]})]})]})}),c.jsx(ce,{className:"h-full",children:c.jsxs(ce.Content,{className:"p-6",children:[c.jsx("div",{className:"flex items-center space-x-1 mb-4",children:[...Array(5)].map((r,A)=>c.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},A))}),c.jsx("p",{className:"text-gray-600 mb-4",children:'"Très pratique de pouvoir déposer mon smartphone dans un point relais près de chez moi ! La réparation a été faite rapidement et le prix était raisonnable. Je recommande vivement."'}),c.jsxs("div",{className:"flex items-center mt-6",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 font-semibold",children:"TM"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h4",{className:"font-semibold",children:"Thomas Martin"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Paris"})]})]})]})}),c.jsx(ce,{className:"h-full",children:c.jsxs(ce.Content,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-1 mb-4",children:[[...Array(4)].map((r,A)=>c.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},A)),c.jsx("svg",{className:"w-5 h-5 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:`"J'apprécie beaucoup le système de suivi en ligne qui permet de connaître l'état de la réparation en temps réel. Le service client a été très réactif quand j'avais des questions."`}),c.jsxs("div",{className:"flex items-center mt-6",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 font-semibold",children:"LC"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h4",{className:"font-semibold",children:"Laura Clement"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Nantes"})]})]})]})})]})]})}),c.jsx("section",{className:"py-16 bg-gray-50",children:c.jsxs("div",{className:"container-app",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Pourquoi choisir PC Relais ?"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Des avantages uniques pour une expérience client optimale"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,A)=>c.jsxs("div",{className:"flex flex-col items-center text-center px-4",children:[c.jsx("div",{className:"bg-primary/10 p-4 rounded-full mb-4",children:r.icon}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),c.jsx("p",{className:"text-gray-600",children:r.description})]},A))})]})}),c.jsx("section",{className:"py-16 bg-primary",children:c.jsx("div",{className:"container-app",children:c.jsxs("div",{className:"text-center text-white max-w-3xl mx-auto",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prêt à réparer votre appareil ?"}),c.jsx("p",{className:"text-xl opacity-90 mb-8",children:"Commencez dès maintenant et bénéficiez d'un service rapide, professionnel et à proximité de chez vous."}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[c.jsx(be,{to:"/request-repair",children:c.jsx(we,{variant:"secondary",size:"lg",children:"Démarrer une réparation"})}),c.jsx(be,{to:"/contact",children:c.jsx(we,{variant:"outline",size:"lg",className:"bg-transparent border-white text-white hover:bg-white/10",children:"Nous contacter"})})]})]})})})]})},nr=G.forwardRef(({label:e,error:t,helperText:r,fullWidth:A=!1,leftIcon:s,rightIcon:a,className:d="",id:x,...g},f)=>{const p=x||`input-${(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"))||Math.random().toString(36).substr(2,9)}`,w="block w-full rounded-md border bg-white px-3 py-2 text-sm shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary/20",y=t?"border-error focus:border-error":"border-gray-300 focus:border-primary",E=s?"pl-10":"",F=a?"pr-10":"",I=A?"w-full":"";return c.jsxs("div",{className:`${I} ${d}`,children:[e&&c.jsx("label",{htmlFor:p,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),c.jsxs("div",{className:"relative",children:[s&&c.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-500",children:s}),c.jsx("input",{ref:f,id:p,className:`${w} ${y} ${E} ${F}`,"aria-invalid":!!t,"aria-describedby":t?`${p}-error`:r?`${p}-helper`:void 0,...g}),a&&c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-500",children:a})]}),t&&c.jsx("p",{id:`${p}-error`,className:"mt-1 text-xs text-error",children:t}),r&&!t&&c.jsx("p",{id:`${p}-helper`,className:"mt-1 text-xs text-gray-500",children:r})]})});nr.displayName="Input";const NF=()=>{const e=FA(),{login:t}=ir(),[r,A]=G.useState(""),[s,a]=G.useState(""),[d,x]=G.useState(!1),[g,f]=G.useState(""),p=async w=>{var y,E;w.preventDefault(),f(""),x(!0);try{await t(r,s);const I=new URLSearchParams(window.location.search).get("redirect");e(I?`/${I}`:"/dashboard")}catch(F){(y=F==null?void 0:F.message)!=null&&y.includes("Invalid login credentials")?f("Email ou mot de passe incorrect"):(E=F==null?void 0:F.message)!=null&&E.includes("Email not confirmed")?f("Veuillez confirmer votre email avant de vous connecter"):f(F instanceof Error?F.message:"Une erreur est survenue"),console.error("Erreur de connexion:",F)}finally{x(!1)}};return c.jsx(MA,{children:c.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8 max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Connexion"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Accédez à votre compte PC Relais"})]}),c.jsx(ce,{children:c.jsxs(ce.Content,{className:"p-6",children:[g&&c.jsx("div",{className:"bg-error/10 text-error p-3 rounded-md mb-4 text-sm",children:g}),c.jsxs("form",{onSubmit:p,className:"space-y-6",children:[c.jsx(nr,{label:"Adresse email",type:"email",id:"email",value:r,onChange:w=>A(w.target.value),required:!0,autoComplete:"email",leftIcon:c.jsx(V1,{className:"h-5 w-5"}),placeholder:"nom@exemple.fr",fullWidth:!0}),c.jsx(nr,{label:"Mot de passe",type:"password",id:"password",value:s,onChange:w=>a(w.target.value),required:!0,autoComplete:"current-password",leftIcon:c.jsx(sf,{className:"h-5 w-5"}),fullWidth:!0}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary border-gray-300 rounded"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Se souvenir de moi"})]}),c.jsx(be,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary-dark",children:"Mot de passe oublié ?"})]}),c.jsx(we,{type:"submit",variant:"primary",size:"lg",loading:d,fullWidth:!0,icon:c.jsx(XB,{className:"h-5 w-5"}),iconPosition:"right",children:"Se connecter"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("span",{className:"text-sm text-gray-600",children:["Vous n'avez pas de compte ?"," ",c.jsx(be,{to:"/register",className:"text-primary hover:text-primary-dark font-medium",children:"S'inscrire"})]})}),c.jsxs("div",{className:"relative mt-8",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou connectez-vous en tant que"})})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[c.jsx("div",{children:c.jsx(we,{type:"button",variant:"outline",onClick:()=>{A("client@pcrelais.fr"),a("password123")},fullWidth:!0,children:"Démo Client"})}),c.jsx("div",{children:c.jsx(we,{type:"button",variant:"outline",onClick:()=>{A("relais@pcrelais.fr"),a("password123")},fullWidth:!0,children:"Démo Point Relais"})}),c.jsx("div",{children:c.jsx(we,{type:"button",variant:"outline",onClick:()=>{A("tech@pcrelais.fr"),a("password123")},fullWidth:!0,children:"Démo Technicien"})}),c.jsx("div",{children:c.jsx(we,{type:"button",variant:"outline",onClick:()=>{A("admin@pcrelais.fr"),a("password123")},fullWidth:!0,children:"Démo Admin"})})]})]})})]})})},SF=()=>{const e=FA(),{register:t}=ir(),[r,A]=G.useState({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",confirmPassword:"",role:"client"}),[s,a]=G.useState(!1),[d,x]=G.useState(""),g=p=>{const{name:w,value:y}=p.target;A(E=>({...E,[w]:y}))},f=async p=>{var w,y;if(p.preventDefault(),x(""),r.password!==r.confirmPassword){x("Les mots de passe ne correspondent pas");return}if(r.password.length<6){x("Le mot de passe doit contenir au moins 6 caractères");return}if(!r.email||!r.firstName||!r.lastName){x("Veuillez remplir tous les champs obligatoires");return}a(!0);try{const{confirmPassword:E,...F}=r;await t(F,r.password);const U=new URLSearchParams(window.location.search).get("redirect");e(U?`/${U}`:"/dashboard")}catch(E){(w=E==null?void 0:E.message)!=null&&w.includes("already registered")?x("Cette adresse email est déjà utilisée"):(y=E==null?void 0:E.message)!=null&&y.includes("weak password")?x("Le mot de passe est trop faible. Utilisez une combinaison de lettres, chiffres et caractères spéciaux."):x(E instanceof Error?E.message:"Une erreur est survenue lors de l'inscription"),console.error("Erreur d'inscription:",E)}finally{a(!1)}};return c.jsx(MA,{children:c.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8 max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Créer un compte"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Rejoignez PC Relais pour bénéficier de nos services"})]}),c.jsx(ce,{children:c.jsxs(ce.Content,{className:"p-6",children:[d&&c.jsx("div",{className:"bg-error/10 text-error p-3 rounded-md mb-4 text-sm",children:d}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(nr,{label:"Prénom",type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:g,required:!0,autoComplete:"given-name",leftIcon:c.jsx(sa,{className:"h-5 w-5"}),fullWidth:!0}),c.jsx(nr,{label:"Nom",type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:g,required:!0,autoComplete:"family-name",leftIcon:c.jsx(sa,{className:"h-5 w-5"}),fullWidth:!0})]}),c.jsx(nr,{label:"Adresse email",type:"email",id:"email",name:"email",value:r.email,onChange:g,required:!0,autoComplete:"email",leftIcon:c.jsx(V1,{className:"h-5 w-5"}),placeholder:"nom@exemple.fr",fullWidth:!0}),c.jsx(nr,{label:"Numéro de téléphone",type:"tel",id:"phoneNumber",name:"phoneNumber",value:r.phoneNumber,onChange:g,autoComplete:"tel",leftIcon:c.jsx(ZB,{className:"h-5 w-5"}),placeholder:"06 12 34 56 78",fullWidth:!0}),c.jsx(nr,{label:"Mot de passe",type:"password",id:"password",name:"password",value:r.password,onChange:g,required:!0,autoComplete:"new-password",leftIcon:c.jsx(sf,{className:"h-5 w-5"}),helperText:"8 caractères minimum, avec majuscules, chiffres et caractères spéciaux",fullWidth:!0}),c.jsx(nr,{label:"Confirmer le mot de passe",type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,required:!0,autoComplete:"new-password",leftIcon:c.jsx(sf,{className:"h-5 w-5"}),fullWidth:!0}),c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary border-gray-300 rounded"}),c.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["J'accepte les"," ",c.jsx(be,{to:"/terms",className:"text-primary hover:text-primary-dark",children:"conditions d'utilisation"})," ","et la"," ",c.jsx(be,{to:"/privacy",className:"text-primary hover:text-primary-dark",children:"politique de confidentialité"}),c.jsx("span",{className:"block mt-1 text-xs text-gray-500",children:"Note: Avec Supabase, vous recevrez un email de confirmation pour activer votre compte."})]})]})}),c.jsx(we,{type:"submit",variant:"primary",size:"lg",loading:s,fullWidth:!0,icon:c.jsx(XB,{className:"h-5 w-5"}),iconPosition:"right",children:"Créer mon compte"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("span",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",c.jsx(be,{to:"/login",className:"text-primary hover:text-primary-dark font-medium",children:"Se connecter"})]})})]})})]})})},gi=e=>({id:e.id,clientId:e.client_id,deviceType:e.device_type,brand:e.brand,model:e.model,problemDescription:e.problem_description,statusId:e.status_id,preDiagnosis:e.pre_diagnosis,estimatedCost:e.estimated_cost,createdAt:e.created_at,updatedAt:e.updated_at,dropOffRelayId:e.drop_off_relay_id,pickupRelayId:e.pickup_relay_id,appointmentDate:e.appointment_date,technicianId:e.technician_id,notes:e.notes}),Zx=e=>{const t={};return e.id!==void 0&&(t.id=e.id),e.clientId!==void 0&&(t.client_id=e.clientId),e.deviceType!==void 0&&(t.device_type=e.deviceType),e.brand!==void 0&&(t.brand=e.brand),e.model!==void 0&&(t.model=e.model),e.problemDescription!==void 0&&(t.problem_description=e.problemDescription),e.statusId!==void 0&&(t.status_id=e.statusId),e.preDiagnosis!==void 0&&(t.pre_diagnosis=e.preDiagnosis),e.estimatedCost!==void 0&&(t.estimated_cost=e.estimatedCost),e.createdAt!==void 0&&(t.created_at=e.createdAt),e.updatedAt!==void 0&&(t.updated_at=e.updatedAt),e.dropOffRelayId!==void 0&&(t.drop_off_relay_id=e.dropOffRelayId),e.pickupRelayId!==void 0&&(t.pickup_relay_id=e.pickupRelayId),e.appointmentDate!==void 0&&(t.appointment_date=e.appointmentDate),e.technicianId!==void 0&&(t.technician_id=e.technicianId),e.notes!==void 0&&(t.notes=e.notes),t},UF=e=>({id:e.id,name:e.name,label:e.label,description:e.description,color:e.color}),Ko={async getClientRepairs(e){const{data:t,error:r}=await fe.from("repair_requests").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Erreur lors de la récupération des réparations:",r),r;return(t||[]).map(gi)},async getRepairById(e){const{data:t,error:r}=await fe.from("repair_requests").select("*").eq("id",e).single();if(r)throw console.error(`Erreur lors de la récupération de la réparation ${e}:`,r),r;return t?gi(t):null},async createRepair(e){const t=new Date().toISOString(),r={...e,created_at:t,updated_at:t},{data:A,error:s}=await fe.from("repair_requests").insert(Zx(r)).select().single();if(s)throw console.error("Erreur lors de la création de la réparation:",s),s;return gi(A)},async updateRepair(e,t){const r={...t,updated_at:new Date().toISOString()},{data:A,error:s}=await fe.from("repair_requests").update(Zx(r)).eq("id",e).select().single();if(s)throw console.error(`Erreur lors de la mise à jour de la réparation ${e}:`,s),s;return gi(A)},async getRepairStatuses(){const{data:e,error:t}=await fe.from("repair_statuses").select("*").order("id");if(t)throw console.error("Erreur lors de la récupération des statuts de réparation:",t),t;return(e||[]).map(UF)},async updateRepairStatus(e,t){try{const{data:r,error:A}=await fe.from("repair_statuses").select("id").ilike("name",t).single();if(A||!r)throw console.error(`Erreur lors de la récupération du statut ${t}:`,A),new Error(`Statut de réparation '${t}' introuvable`);return await this.updateRepair(e,{statusId:r.id})}catch(r){throw console.error(`Erreur lors de la mise à jour du statut de la réparation ${e}:`,r),r}},async getRelayRepairs(e){const{data:t,error:r}=await fe.from("repair_requests").select("*").or(`drop_off_relay_id.eq.${e},pickup_relay_id.eq.${e}`).order("updated_at",{ascending:!1});if(r)throw console.error(`Erreur lors de la récupération des réparations pour le point relais ${e}:`,r),r;return(t||[]).map(gi)},async getTechnicianRepairs(e){const{data:t,error:r}=await fe.from("repair_requests").select("*").eq("technician_id",e).order("updated_at",{ascending:!1});if(r)throw console.error(`Erreur lors de la récupération des réparations pour le technicien ${e}:`,r),r;return(t||[]).map(gi)}},Yu=e=>({id:e.id,userId:e.user_id,title:e.title,message:e.message,type:e.type,isRead:e.is_read,timestamp:e.timestamp,relatedToRequestId:e.related_id,link:e.link}),QF=e=>({user_id:e.userId,title:e.title,message:e.message,type:e.type,is_read:e.isRead===void 0?!1:e.isRead,timestamp:e.timestamp||new Date().toISOString(),related_id:e.relatedToRequestId,link:e.link}),z1={async getUserNotifications(e){const{data:t,error:r}=await fe.from("notifications").select("*").eq("user_id",e).order("timestamp",{ascending:!1});if(r)throw console.error("Erreur lors de la récupération des notifications:",r),r;return(t||[]).map(Yu)},async getUnreadNotifications(e){try{const{data:t,error:r}=await fe.from("notifications").select("*").eq("user_id",e).eq("is_read",!1).order("timestamp",{ascending:!1});return r?(console.error("Erreur lors de la récupération des notifications non lues:",r),[]):(t||[]).map(Yu)}catch(t){return console.error("Erreur inattendue lors de la récupération des notifications non lues:",t),[]}},async createNotification(e){try{const{data:{session:t}}=await fe.auth.getSession();if(!t)throw new Error("Utilisateur non authentifié");const r=QF({...e,userId:t.user.id}),{data:A,error:s}=await fe.from("notifications").insert(r).select().single();if(s)throw console.error("Erreur lors de la création de la notification:",s),s;return Yu(A)}catch(t){throw console.error("Erreur lors de la création de la notification:",t),t}},async markAsRead(e){const{error:t}=await fe.from("notifications").update({is_read:!0}).eq("id",e);if(t)throw console.error(`Erreur lors du marquage de la notification ${e} comme lue:`,t),t},async markAllAsRead(e){const{error:t}=await fe.from("notifications").update({is_read:!0}).eq("user_id",e).eq("is_read",!1);if(t)throw console.error(`Erreur lors du marquage de toutes les notifications de l'utilisateur ${e} comme lues:`,t),t},async deleteNotification(e){const{error:t}=await fe.from("notifications").delete().eq("id",e);if(t)throw console.error(`Erreur lors de la suppression de la notification ${e}:`,t),t}},UA={async updateTypingStatus(e,t,r){try{const A=new Date().toISOString(),{error:s}=await fe.from("chat_typing_status").upsert({request_id:e,user_id:t,is_typing:r,timestamp:A});if(s)throw s;await fe.channel(`chat:${e}`).send({type:"broadcast",event:"typing",payload:{userId:t,isTyping:r,timestamp:A}})}catch(A){console.error("Erreur lors de la mise à jour du statut de frappe:",A)}},subscribeToTypingEvents(e,t){const r=fe.channel(`chat:${e}`);return r.on("broadcast",{event:"typing"},A=>{t({requestId:e,userId:A.payload.userId,isTyping:A.payload.isTyping,timestamp:A.payload.timestamp})}).subscribe(),()=>{fe.removeChannel(r)}},async getChatMessages(e){try{const{data:t,error:r}=await fe.from("chat_messages").select(`
          *,
          sender:profiles!sender_id(id, first_name, last_name)
        `).eq("request_id",e).order("timestamp",{ascending:!0});if(r)throw r;return(t||[]).map(A=>({id:A.id,requestId:A.request_id,senderId:A.sender_id,senderRole:A.sender_role,message:A.message,isAi:A.is_ai,timestamp:A.timestamp,senderName:A.sender?`${A.sender.first_name} ${A.sender.last_name}`:void 0}))}catch(t){throw console.error("Erreur lors de la récupération des messages de chat:",t),t}},async sendMessage(e,t){try{let r,A;if(t){const d=t.name.split(".").pop(),g=`chat-attachments/${`${e.requestId}/${e.senderId}_${Date.now()}.${d}`}`;t.type.startsWith("image/")?A="image":t.type==="application/pdf"||t.type.includes("document")||t.type.includes("sheet")?A="document":A="other";const{data:f,error:p}=await fe.storage.from("attachments").upload(g,t,{cacheControl:"3600",upsert:!1});if(p)throw p;const{data:w}=fe.storage.from("attachments").getPublicUrl(g);r=w.publicUrl}const{data:s,error:a}=await fe.from("chat_messages").insert({request_id:e.requestId,sender_id:e.senderId,sender_role:e.senderRole,message:e.message,is_ai:e.isAi,attachment_url:r,attachment_type:A,timestamp:new Date().toISOString()}).select().single();if(a)throw a;return{id:s.id,requestId:s.request_id,senderId:s.sender_id,senderRole:s.sender_role,message:s.message,isAi:s.is_ai,timestamp:s.timestamp,attachmentUrl:s.attachment_url,attachmentType:s.attachment_type}}catch(r){throw console.error("Erreur lors de l'envoi du message:",r),r}},subscribeToMessages(e,t){const r=fe.channel(`chat:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`request_id=eq.${e}`},async A=>{const{data:s}=await fe.from("profiles").select("first_name, last_name").eq("id",A.new.sender_id).single(),a={id:A.new.id,requestId:A.new.request_id,senderId:A.new.sender_id,senderRole:A.new.sender_role,message:A.new.message,isAi:A.new.is_ai,timestamp:A.new.timestamp,senderName:s?`${s.first_name} ${s.last_name}`:void 0,attachmentUrl:A.new.attachment_url,attachmentType:A.new.attachment_type};t(a)}).subscribe();return()=>{fe.removeChannel(r)}},async markMessagesAsRead(e,t){try{const{error:r}=await fe.from("chat_messages_read_status").upsert([{request_id:e,user_id:t,last_read:new Date().toISOString()}]);if(r)throw r}catch(r){throw console.error("Erreur lors du marquage des messages comme lus:",r),r}},async getUnreadMessagesCount(e){try{if(!e)return console.warn("getUnreadMessagesCount appelé sans userId valide"),0;const{data:t,error:r}=await fe.rpc("get_unread_messages_count",{user_id:e});if(r)throw console.error("Erreur RPC get_unread_messages_count:",r.message,r.details,r.hint),r;return t||0}catch(t){return console.error("Erreur lors de la vérification des messages non lus:",t),0}},async exportChatHistory(e){try{const{data:t,error:r}=await fe.rpc("export_chat_history_pdf",{request_id:e});if(r)throw r;return t}catch(t){throw console.error("Erreur lors de l'exportation de l'historique de chat:",t),t}}},DF=()=>{const{user:e}=ir(),[t,r]=G.useState(""),[A,s]=G.useState([]),[a,d]=G.useState([]),[x,g]=G.useState({}),[f,p]=G.useState(0),[w,y]=G.useState(!0),[E,F]=G.useState(null);G.useEffect(()=>{(async()=>{if(e)try{y(!0);try{const b=await Ko.getRepairStatuses(),S={};b.forEach(k=>{S[k.id]=k}),g(S)}catch(b){console.error("Erreur lors du chargement des statuts:",b)}try{const{data:b,error:S}=await fe.from("repair_requests").select("id, client_id, device_type_id, brand, model, problem_description, status_id, created_at, updated_at").eq("client_id",e.id).order("created_at",{ascending:!1});if(S)console.error("Erreur lors de la récupération des réparations:",S);else{const k=(b||[]).map(D=>({id:D.id,clientId:D.client_id,deviceType:D.device_type_id,brand:D.brand,model:D.model,problemDescription:D.problem_description,statusId:D.status_id,createdAt:D.created_at,updatedAt:D.updated_at}));s(k)}}catch(b){console.error("Exception lors du chargement des réparations:",b)}try{const b=await z1.getUnreadNotifications(e.id);d(b)}catch(b){console.error("Erreur lors du chargement des notifications:",b)}try{const b=await UA.getUnreadMessagesCount(e.id);p(b)}catch(b){console.error("Erreur lors du chargement des messages non lus:",b)}F(null)}catch(b){console.error("Erreur lors du chargement des données:",b),F("Impossible de charger les données. Veuillez réessayer plus tard.")}finally{y(!1)}})()},[e]);const I=A.filter(C=>{var S,k,D,O;const b=t.toLowerCase();return(((S=C.deviceType)==null?void 0:S.toLowerCase())||"").includes(b)||(((k=C.brand)==null?void 0:k.toLowerCase())||"").includes(b)||(((D=C.model)==null?void 0:D.toLowerCase())||"").includes(b)||(((O=C.id)==null?void 0:O.toLowerCase())||"").includes(b)}),U=C=>new Date(C).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),_=C=>{const b=x[C];if(!b)return c.jsx(Vr,{variant:"default",children:"Inconnu"});const S={pending:"warning",received:"warning",diagnosed:"warning",inRepair:"primary",repaired:"success",readyForPickup:"success",completed:"success",cancelled:"error"};return c.jsx(Vr,{variant:S[b.name]||"default",children:b.label})};return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de bord"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Consultez et gérez vos demandes de réparation"})]}),c.jsx("div",{className:"mt-4 md:mt-0",children:c.jsx(be,{to:"/request-repair",children:c.jsx(we,{variant:"primary",icon:c.jsx(aF,{className:"h-5 w-5"}),children:"Nouvelle réparation"})})})]}),E&&c.jsx("div",{className:"w-full p-4 mb-6 bg-error/10 border border-error/20 rounded-lg text-error",children:c.jsx("p",{children:E})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs(ce,{className:"lg:col-span-2",children:[c.jsxs(ce.Header,{className:"flex justify-between items-center",children:[c.jsx(ce.Title,{children:"Réparations récentes"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:"p-1.5 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:c.jsx(Zc,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-1.5 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:c.jsx(YB,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"px-6 py-4",children:c.jsx(nr,{placeholder:"Rechercher...",value:t,onChange:C=>r(C.target.value),leftIcon:c.jsx(j0,{className:"h-5 w-5"}),fullWidth:!0})}),c.jsx("div",{className:"overflow-x-auto",children:w?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("table",{className:"w-full min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Référence"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Appareil"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"Aucune réparation trouvée."})}):I.map(C=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.id}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[c.jsxs("div",{children:[C.brand," ",C.model]}),c.jsx("div",{className:"text-xs text-gray-500",children:C.deviceType})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:U(C.createdAt)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_(C.statusId)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx(be,{to:`/repair/${C.id}`,className:"text-primary hover:text-primary-dark",children:"Détails"})})]},C.id))})]})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(ce,{children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Statistiques"})}),c.jsx(ce.Content,{children:w?c.jsx("div",{className:"flex justify-center items-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[c.jsx(Zs,{className:"h-6 w-6 text-primary mx-auto mb-2"}),c.jsx("div",{className:"text-2xl font-semibold",children:A.filter(C=>{const b=x[C.statusId];return b&&b.name!=="completed"&&b.name!=="cancelled"}).length}),c.jsx("div",{className:"text-gray-500 text-sm",children:"En cours"})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[c.jsx(nA,{className:"h-6 w-6 text-success mx-auto mb-2"}),c.jsx("div",{className:"text-2xl font-semibold",children:A.filter(C=>{const b=x[C.statusId];return b&&b.name==="completed"}).length}),c.jsx("div",{className:"text-gray-500 text-sm",children:"Terminées"})]})]})})]}),c.jsxs(ce,{children:[c.jsxs(ce.Header,{className:"flex justify-between items-center",children:[c.jsx(ce.Title,{children:"Notifications"}),c.jsx(be,{to:"/notifications",className:"text-sm text-primary",children:"Voir tout"})]}),c.jsx(ce.Content,{className:"p-0",children:w?c.jsx("div",{className:"flex justify-center items-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):a.length===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucune notification non lue"}):c.jsx("div",{className:"divide-y divide-gray-100",children:a.map(C=>c.jsx("div",{className:`p-4 ${C.isRead?"":"bg-primary/5"}`,children:c.jsxs("div",{className:"flex items-start",children:[c.jsxs("div",{className:"flex-shrink-0 pt-0.5",children:[C.type==="info"&&c.jsx(vn,{className:"h-5 w-5 text-primary"}),C.type==="success"&&c.jsx(nA,{className:"h-5 w-5 text-success"}),C.type==="warning"&&c.jsx(Ws,{className:"h-5 w-5 text-warning"}),C.type==="error"&&c.jsx(Ws,{className:"h-5 w-5 text-error"})]}),c.jsxs("div",{className:"ml-3 flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.title}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:C.message}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(C.timestamp).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]})},C.id))})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs(ce,{children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Actions rapides"})}),c.jsxs(ce.Content,{className:"space-y-4",children:[c.jsxs(be,{to:"/request-repair",className:"flex items-center p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(ho,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:"Demander une réparation"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Faire réparer un nouvel appareil"})]})]}),c.jsxs(be,{to:"/find-relays",className:"flex items-center p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(bA,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:"Trouver un point relais"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Localiser le point relais le plus proche"})]})]}),c.jsxs(be,{to:"/appointments",className:"flex items-center p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(qc,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:"Rendez-vous"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Gérer vos rendez-vous"})]})]}),f>0&&c.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-primary/5 hover:bg-primary/10 transition-colors border border-primary/20",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(af,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsxs("div",{className:"font-medium flex items-center justify-between",children:[c.jsx("span",{children:"Messages non lus"}),c.jsx(Vr,{variant:"primary",className:"ml-2",children:f})]}),c.jsx("div",{className:"text-sm text-gray-500",children:"Vous avez des messages non lus"})]})]})]})]}),c.jsxs(ce,{children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Prochains rendez-vous"})}),c.jsx(ce.Content,{children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx(qc,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-gray-500",children:"Aucun rendez-vous à venir"}),c.jsx(be,{to:"/appointments",className:"mt-4 inline-block text-primary text-sm",children:"Planifier un rendez-vous"})]})})]}),c.jsxs(ce,{children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Besoin d'aide ?"})}),c.jsxs(ce.Content,{className:"space-y-4",children:[c.jsx("p",{className:"text-gray-600 text-sm",children:"Notre équipe et notre assistant IA sont là pour vous aider avec toutes vos questions."}),c.jsxs("div",{className:"space-y-2",children:[A.length>0&&c.jsx(be,{to:`/chat/${A[0].id}`,children:c.jsxs(we,{variant:"primary",fullWidth:!0,children:[c.jsx(af,{className:"h-4 w-4 mr-2"}),"Discuter avec le technicien",f>0&&c.jsx(Vr,{variant:"primary",className:"ml-2 bg-white text-primary",children:f})]})}),c.jsx(be,{to:"/support",children:c.jsx(we,{variant:"outline",fullWidth:!0,children:"Contacter le support"})}),c.jsx(be,{to:"/faq",children:c.jsx(we,{variant:"ghost",fullWidth:!0,children:"Consulter la FAQ"})})]})]})]})]})]})},Rl={async getRelayRepairs(e){try{const{data:t,error:r}=await fe.from("repair_requests").select(`
          *,
          status:repair_statuses(id, code, label),
          client:profiles!client_id(id, first_name, last_name, email, phone)
        `).eq("relay_point_id",e).order("updated_at",{ascending:!1});if(r)throw r;return t.map(A=>({id:A.id,clientId:A.client_id,clientName:`${A.client.first_name} ${A.client.last_name}`,deviceType:A.device_type,brand:A.brand,model:A.model,problemDescription:A.problem_description,statusId:A.status_id,statusName:A.status.code,statusLabel:A.status.label,createdAt:A.created_at,updatedAt:A.updated_at,relayPointId:A.relay_point_id,appointmentDate:A.drop_off_date||A.created_at,operation:["SUBMITTED","RECEIVED"].includes(A.status.code)?"dropOff":["READY_FOR_PICKUP","DELIVERED"].includes(A.status.code)?"pickup":"transit"}))}catch(t){throw console.error("Erreur lors de la récupération des réparations du point relais:",t),t}},async getPendingDropOffs(e){try{const{data:t,error:r}=await fe.from("repair_requests").select(`
          *,
          status:repair_statuses(id, code, label),
          client:profiles!client_id(id, first_name, last_name, email, phone)
        `).eq("relay_point_id",e).eq("status.code","SUBMITTED").order("created_at",{ascending:!0});if(r)throw r;return t.map(A=>({id:A.id,clientId:A.client_id,clientName:`${A.client.first_name} ${A.client.last_name}`,deviceType:A.device_type,brand:A.brand,model:A.model,problemDescription:A.problem_description,statusId:A.status_id,statusName:A.status.code,statusLabel:A.status.label,createdAt:A.created_at,updatedAt:A.updated_at,relayPointId:A.relay_point_id,appointmentDate:A.drop_off_date||A.created_at,operation:"dropOff",expectedArrival:A.drop_off_date||A.created_at}))}catch(t){throw console.error("Erreur lors de la récupération des dépôts à venir:",t),t}},async getReadyForPickup(e){try{const{data:t,error:r}=await fe.from("repair_requests").select(`
          *,
          status:repair_statuses(id, code, label),
          client:profiles!client_id(id, first_name, last_name, email, phone)
        `).eq("relay_point_id",e).eq("status.code","READY_FOR_PICKUP").order("updated_at",{ascending:!1});if(r)throw r;return t.map(A=>({id:A.id,clientId:A.client_id,clientName:`${A.client.first_name} ${A.client.last_name}`,deviceType:A.device_type,brand:A.brand,model:A.model,problemDescription:A.problem_description,statusId:A.status_id,statusName:A.status.code,statusLabel:A.status.label,createdAt:A.created_at,updatedAt:A.updated_at,relayPointId:A.relay_point_id,appointmentDate:A.drop_off_date||A.created_at,operation:"pickup"}))}catch(t){throw console.error("Erreur lors de la récupération des appareils prêts pour récupération:",t),t}},async getInTransit(e){try{const{data:t,error:r}=await fe.from("repair_requests").select(`
          *,
          status:repair_statuses(id, code, label),
          client:profiles!client_id(id, first_name, last_name, email, phone)
        `).eq("relay_point_id",e).eq("status.code","RECEIVED").order("updated_at",{ascending:!1});if(r)throw r;return t.map(A=>({id:A.id,clientId:A.client_id,clientName:`${A.client.first_name} ${A.client.last_name}`,deviceType:A.device_type,brand:A.brand,model:A.model,problemDescription:A.problem_description,statusId:A.status_id,statusName:A.status.code,statusLabel:A.status.label,createdAt:A.created_at,updatedAt:A.updated_at,relayPointId:A.relay_point_id,appointmentDate:A.drop_off_date||A.created_at,operation:"transit"}))}catch(t){throw console.error("Erreur lors de la récupération des appareils en transit:",t),t}},async getCompletedThisMonth(e){try{const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),{data:A,error:s}=await fe.from("repair_requests").select(`
          *,
          status:repair_statuses(id, code, label),
          client:profiles!client_id(id, first_name, last_name, email, phone)
        `).eq("relay_point_id",e).eq("status.code","DELIVERED").gte("updated_at",r.toISOString()).order("updated_at",{ascending:!1});if(s)throw s;return A.map(a=>({id:a.id,clientId:a.client_id,clientName:a.client?`${a.client.first_name} ${a.client.last_name}`:"",deviceType:a.device_type,brand:a.brand,model:a.model,problemDescription:a.problem_description,statusId:a.status_id,statusName:a.status.code,statusLabel:a.status.label,createdAt:a.created_at,updatedAt:a.updated_at,relayPointId:a.relay_point_id,operation:"completed"}))}catch(t){throw console.error("Erreur lors de la récupération des appareils traités ce mois:",t),t}},async processDropOff(e){try{const{data:t,error:r}=await fe.from("repair_statuses").select("id").eq("code","RECEIVED").single();if(r)throw r;const{error:A}=await fe.from("repair_requests").update({status_id:t.id,drop_off_date:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e);if(A)throw A}catch(t){throw console.error("Erreur lors du traitement du dépôt:",t),t}},async processPickup(e){try{const{data:t,error:r}=await fe.from("repair_statuses").select("id").eq("code","DELIVERED").single();if(r)throw r;const{error:A}=await fe.from("repair_requests").update({status_id:t.id,pickup_date:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e);if(A)throw A}catch(t){throw console.error("Erreur lors du traitement de la récupération:",t),t}},async getRelayStats(e){try{const t=await this.getPendingDropOffs(e),r=await this.getReadyForPickup(e),A=await this.getInTransit(e),s=await this.getCompletedThisMonth(e);return{pendingDropOffs:t.length,readyForPickup:r.length,inTransit:A.length,completedThisMonth:s.length}}catch(t){throw console.error("Erreur lors de la récupération des statistiques du point relais:",t),t}}},TF=({pendingDropOffs:e,readyForPickup:t,inTransit:r,completedThisMonth:A})=>c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Dépôts en attente"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),c.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:c.jsx(na,{className:"h-5 w-5 text-blue-500"})})]}),c.jsx("div",{className:"mt-2",children:c.jsx("span",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded-full",children:"À traiter aujourd'hui"})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Prêts pour récupération"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t})]}),c.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:c.jsx(nA,{className:"h-5 w-5 text-green-500"})})]}),c.jsx("div",{className:"mt-2",children:c.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full",children:"En attente de client"})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"En transit"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:r})]}),c.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:c.jsx(ey,{className:"h-5 w-5 text-amber-500"})})]}),c.jsx("div",{className:"mt-2",children:c.jsx("span",{className:"text-xs font-medium text-amber-600 bg-amber-50 px-2 py-1 rounded-full",children:"En cours de traitement"})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Complétés ce mois"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:A})]}),c.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:c.jsx(Vb,{className:"h-5 w-5 text-purple-500"})})]}),c.jsx("div",{className:"mt-2",children:c.jsxs("span",{className:"text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded-full",children:[c.jsx(wF,{className:"inline h-3 w-3 mr-1"})," Performance mensuelle"]})})]})]}),RF=()=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs(be,{to:"/relay/scan",className:"flex items-center bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mr-4",children:c.jsx(of,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Scanner un code QR"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Traiter rapidement un dépôt ou une récupération"})]}),c.jsx("div",{className:"ml-auto",children:c.jsx(Xu,{className:"h-5 w-5 text-blue-500"})})]}),c.jsxs(be,{to:"/relay/calendar",className:"flex items-center bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"p-3 bg-green-50 rounded-lg mr-4",children:c.jsx(qc,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Calendrier"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Voir les dépôts et récupérations à venir"})]}),c.jsx("div",{className:"ml-auto",children:c.jsx(Xu,{className:"h-5 w-5 text-green-500"})})]}),c.jsxs(be,{to:"/relay/stats",className:"flex items-center bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"p-3 bg-purple-50 rounded-lg mr-4",children:c.jsx(qB,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Statistiques"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Suivre vos commissions et activité"})]}),c.jsx("div",{className:"ml-auto",children:c.jsx(Xu,{className:"h-5 w-5 text-purple-500"})})]})]}),OF=({successMessage:e,errorMessage:t,onClearSuccess:r,onClearError:A})=>c.jsxs(c.Fragment,{children:[e&&c.jsxs("div",{className:"bg-white border-l-4 border-green-500 shadow-sm rounded-lg p-4 mb-6 flex items-start",role:"alert",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:c.jsx(nA,{className:"h-5 w-5 text-green-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-800",children:"Opération réussie"}),c.jsx("p",{className:"text-gray-600",children:e})]}),c.jsxs("button",{className:"ml-auto text-gray-400 hover:text-gray-500",onClick:r,children:[c.jsx("span",{className:"sr-only",children:"Fermer"}),c.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),t&&c.jsxs("div",{className:"bg-white border-l-4 border-red-500 shadow-sm rounded-lg p-4 mb-6 flex items-start",role:"alert",children:[c.jsx("div",{className:"bg-red-100 p-2 rounded-full mr-3",children:c.jsx(Ws,{className:"h-5 w-5 text-red-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-800",children:"Une erreur est survenue"}),c.jsx("p",{className:"text-gray-600",children:t})]}),c.jsxs("button",{className:"ml-auto text-gray-400 hover:text-gray-500",onClick:A,children:[c.jsx("span",{className:"sr-only",children:"Fermer"}),c.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})]}),kF=({searchTerm:e,activeTab:t,stats:r,onSearchChange:A,onTabChange:s})=>c.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"relative flex-grow max-w-md",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(j0,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Rechercher par nom, appareil, marque...",value:e,onChange:A,className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(we,{variant:t==="all"?"primary":"outline",size:"sm",onClick:()=>s("all"),className:"rounded-full",children:"Tous"}),c.jsxs(we,{variant:t==="dropOffs"?"primary":"outline",size:"sm",onClick:()=>s("dropOffs"),className:"rounded-full flex items-center gap-1",children:[c.jsx(na,{className:"h-4 w-4"})," Dépôts (",r.pendingDropOffs,")"]}),c.jsxs(we,{variant:t==="pickups"?"primary":"outline",size:"sm",onClick:()=>s("pickups"),className:"rounded-full flex items-center gap-1",children:[c.jsx(nA,{className:"h-4 w-4"})," Récupérations (",r.readyForPickup,")"]}),c.jsxs(we,{variant:t==="transit"?"primary":"outline",size:"sm",onClick:()=>s("transit"),className:"rounded-full flex items-center gap-1",children:[c.jsx(ey,{className:"h-4 w-4"})," En transit (",r.inTransit,")"]})]})]}),LF=()=>{const{user:e}=ir(),[t,r]=G.useState(""),[A,s]=G.useState([]),[a,d]=G.useState([]),[x,g]=G.useState(!0),[f,p]=G.useState(null),[w,y]=G.useState(null),[E,F]=G.useState(null),[I,U]=G.useState("all"),[_,C]=G.useState({pendingDropOffs:0,readyForPickup:0,inTransit:0,completedThisMonth:0});G.useEffect(()=>{(async()=>{if(e)try{g(!0);const q=await Rl.getRelayRepairs(e.id);s(q);const V=await Rl.getRelayStats(e.id);C(V);const Ae=await z1.getUnreadNotifications(e.id);d(Ae),p(null)}catch(q){console.error("Erreur lors du chargement des données:",q),p("Impossible de charger les données. Veuillez réessayer plus tard.")}finally{g(!1)}})()},[e]);const b=A.filter(K=>{var q,V,Ae,ae,Z;return((q=K.clientName)==null?void 0:q.toLowerCase().includes(t.toLowerCase()))||((V=K.deviceType)==null?void 0:V.toLowerCase().includes(t.toLowerCase()))||((Ae=K.brand)==null?void 0:Ae.toLowerCase().includes(t.toLowerCase()))||((ae=K.model)==null?void 0:ae.toLowerCase().includes(t.toLowerCase()))||((Z=K.id)==null?void 0:Z.toLowerCase().includes(t.toLowerCase()))}),S=K=>new Date(K).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),k=K=>K?new Date(K).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"",D=(K,q)=>{const V={pending:"warning",received:"primary",diagnosed:"warning",inRepair:"primary",repaired:"success",readyForPickup:"success",completed:"success",cancelled:"error"};return c.jsx(Vr,{variant:V[K]||"default",className:"whitespace-nowrap",children:q})},O=async K=>{if(e){y(K),p(null),F(null);try{await Rl.processDropOff(K);const q=A.map(V=>V.id===K?{...V,statusName:"received",statusLabel:"Reçu",operation:"transit"}:V);s(q),F("Dépôt traité avec succès. L'appareil a été marqué comme reçu."),C(V=>({...V,pendingDropOffs:V.pendingDropOffs-1,inTransit:V.inTransit+1}))}catch(q){console.error("Erreur lors du traitement du dépôt:",q),p(q.message||"Erreur lors du traitement du dépôt. Veuillez réessayer.")}finally{y(null)}}},H=async K=>{if(e){y(K),p(null),F(null);try{await Rl.processPickup(K);const q=A.map(V=>V.id===K?{...V,statusName:"completed",statusLabel:"Terminé",operation:void 0}:V);s(q),F("Récupération traitée avec succès. La réparation a été marquée comme terminée."),C(V=>({...V,readyForPickup:V.readyForPickup-1,completedThisMonth:V.completedThisMonth+1}))}catch(q){console.error("Erreur lors du traitement de la récupération:",q),p(q.message||"Erreur lors du traitement de la récupération. Veuillez réessayer.")}finally{y(null)}}},P=()=>{switch(I){case"dropOffs":return M();case"pickups":return z();case"transit":return Y();case"all":default:return c.jsxs(c.Fragment,{children:[M(),z(),Y()]})}},M=()=>{const K=b.filter(q=>q.operation==="dropOff");return K.length===0&&I==="dropOffs"?c.jsx("div",{className:"p-6 text-center text-gray-500",children:"Aucun dépôt en attente pour le moment."}):K.length===0?null:c.jsxs("div",{className:"overflow-hidden",children:[I==="all"&&c.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-100",children:c.jsxs("h3",{className:"text-md font-medium text-gray-700",children:["Dépôts en attente (",K.length,")"]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client / Appareil"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date prévue"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Actions"})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(q=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.clientName}),c.jsxs("div",{className:"text-sm text-gray-500",children:[q.brand," ",q.model]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex flex-col",children:[D(q.statusName||"",q.statusLabel||""),c.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Dépôt prévu"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:q.expectedArrival?k(q.expectedArrival):S(q.updatedAt)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(we,{variant:"primary",size:"sm",onClick:()=>O(q.id),disabled:w===q.id,className:"whitespace-nowrap",children:w===q.id?"Traitement...":"Traiter le dépôt"}),c.jsx(be,{to:`/relay/repair/${q.id}`,className:"text-primary hover:text-primary-dark inline-flex items-center",children:"Détails"})]})})]},q.id))})]})})]})},z=()=>{const K=b.filter(q=>q.operation==="pickup");return K.length===0&&I==="pickups"?c.jsx("div",{className:"p-6 text-center text-gray-500",children:"Aucun appareil prêt pour récupération pour le moment."}):K.length===0?null:c.jsxs("div",{className:"overflow-hidden",children:[I==="all"&&c.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-100",children:c.jsxs("h3",{className:"text-md font-medium text-gray-700",children:["Prêts pour récupération (",K.length,")"]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client / Appareil"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prêt depuis"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Actions"})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(q=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.clientName}),c.jsxs("div",{className:"text-sm text-gray-500",children:[q.brand," ",q.model]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex flex-col",children:[D(q.statusName||"",q.statusLabel||""),c.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"En attente de récupération"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:S(q.updatedAt)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(we,{variant:"success",size:"sm",onClick:()=>H(q.id),disabled:w===q.id,className:"whitespace-nowrap",children:w===q.id?"Traitement...":"Confirmer la récupération"}),c.jsx(be,{to:`/relay/repair/${q.id}`,className:"text-primary hover:text-primary-dark inline-flex items-center",children:"Détails"})]})})]},q.id))})]})})]})},Y=()=>{const K=b.filter(q=>q.operation==="transit");return K.length===0&&I==="transit"?c.jsx("div",{className:"p-6 text-center text-gray-500",children:"Aucun appareil en transit pour le moment."}):K.length===0?null:c.jsxs("div",{className:"overflow-hidden",children:[I==="all"&&c.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-100",children:c.jsxs("h3",{className:"text-md font-medium text-gray-700",children:["En transit (",K.length,")"]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client / Appareil"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reçu le"}),c.jsx("th",{scope:"col",className:"relative px-6 py-3",children:c.jsx("span",{className:"sr-only",children:"Actions"})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(q=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.clientName}),c.jsxs("div",{className:"text-sm text-gray-500",children:[q.brand," ",q.model]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex flex-col",children:[D(q.statusName||"",q.statusLabel||""),c.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"En cours de traitement"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:q.drop_off_date?k(q.drop_off_date):S(q.updatedAt)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx(be,{to:`/relay/repair/${q.id}`,className:"text-primary hover:text-primary-dark",children:"Détails"})})]},q.id))})]})})]})};return c.jsxs("div",{className:"container-app py-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tableau de bord du point relais"}),c.jsxs("p",{className:"text-gray-600",children:["Bienvenue, ",e==null?void 0:e.firstName,". Gérez vos opérations et suivez vos statistiques."]})]}),c.jsx(TF,{pendingDropOffs:_.pendingDropOffs,readyForPickup:_.readyForPickup,inTransit:_.inTransit,completedThisMonth:_.completedThisMonth}),c.jsx(RF,{}),c.jsx(OF,{successMessage:E,errorMessage:f,onClearSuccess:()=>F(null),onClearError:()=>p(null)}),c.jsx(kF,{searchTerm:t,activeTab:I,stats:_,onSearchChange:K=>r(K.target.value),onTabChange:K=>U(K)}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-100",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Opérations du point relais"})}),x?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-blue-600"}),c.jsx("p",{className:"mt-4 text-gray-500",children:"Chargement des données..."})]}):P()]})]})},jF={async getTechnicianRepairs(e){try{const{data:t,error:r}=await fe.from("repair_requests").select(`
          *,
          status:repair_statuses(id, name, label),
          client:profiles!client_id(id, first_name, last_name, email, phone_number),
          relay_point:relay_points!drop_off_relay_id(id, name, address)
        `).eq("technician_id",e).order("updated_at",{ascending:!1});if(r)throw r;return t.map(A=>{var s;return{id:A.id,clientId:A.client_id,clientName:`${A.client.first_name} ${A.client.last_name}`,deviceType:A.device_type,brand:A.brand,model:A.model,problemDescription:A.problem_description,statusId:A.status_id,statusName:A.status.name,statusLabel:A.status.label,createdAt:A.created_at,updatedAt:A.updated_at,estimatedCost:A.estimated_cost,priority:A.priority||"medium",relayName:((s=A.relay_point)==null?void 0:s.name)||"",technicianId:A.technician_id,technicianAssigned:!!A.technician_id,dropOffRelayId:A.drop_off_relay_id,pickupRelayId:A.pickup_relay_id,preDiagnosis:A.pre_diagnosis,technicianNotes:A.technician_notes,appointmentDate:A.appointment_date}})}catch(t){throw console.error("Erreur lors de la récupération des réparations du technicien:",t),t}},async getTodaysRepairs(e){try{const t=new Date;t.setHours(0,0,0,0);const{data:r,error:A}=await fe.from("repair_requests").select(`
          *,
          status:repair_statuses(id, name, label),
          client:profiles!client_id(id, first_name, last_name, email, phone_number),
          relay_point:relay_points!drop_off_relay_id(id, name, address)
        `).eq("technician_id",e).gte("updated_at",t.toISOString()).in("status_id",["2","3","4"]).order("priority",{ascending:!1});if(A)throw A;return r.map(s=>{var a;return{id:s.id,clientId:s.client_id,clientName:`${s.client.first_name} ${s.client.last_name}`,deviceType:s.device_type,brand:s.brand,model:s.model,problemDescription:s.problem_description,statusId:s.status_id,statusName:s.status.name,statusLabel:s.status.label,createdAt:s.created_at,updatedAt:s.updated_at,estimatedCost:s.estimated_cost,priority:s.priority||"medium",relayName:((a=s.relay_point)==null?void 0:a.name)||"",technicianId:s.technician_id,technicianAssigned:!!s.technician_id,dropOffRelayId:s.drop_off_relay_id,pickupRelayId:s.pickup_relay_id,preDiagnosis:s.pre_diagnosis,technicianNotes:s.technician_notes,appointmentDate:s.appointment_date}})}catch(t){throw console.error("Erreur lors de la récupération des réparations du jour:",t),t}},async getCompletedRepairs(e){try{const{data:t,error:r}=await fe.from("repair_requests").select(`
          *,
          status:repair_statuses(id, name, label),
          client:profiles!client_id(id, first_name, last_name, email, phone_number)
        `).eq("technician_id",e).in("status_id",["5","6"]).order("updated_at",{ascending:!1}).limit(10);if(r)throw r;return t.map(A=>({id:A.id,clientId:A.client_id,clientName:`${A.client.first_name} ${A.client.last_name}`,deviceType:A.device_type,brand:A.brand,model:A.model,problemDescription:A.problem_description,statusId:A.status_id,statusName:A.status.name,statusLabel:A.status.label,createdAt:A.created_at,updatedAt:A.updated_at,estimatedCost:A.estimated_cost,priority:A.priority||"medium",technicianId:A.technician_id,technicianAssigned:!!A.technician_id,dropOffRelayId:A.drop_off_relay_id,pickupRelayId:A.pickup_relay_id,preDiagnosis:A.pre_diagnosis,technicianNotes:A.technician_notes,appointmentDate:A.appointment_date}))}catch(t){throw console.error("Erreur lors de la récupération des réparations terminées:",t),t}},async updateRepairStatus(e,t){try{const{error:r}=await fe.from("repair_requests").update({status_id:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r}catch(r){throw console.error("Erreur lors de la mise à jour du statut de la réparation:",r),r}},async updateRepairDiagnostic(e,t){try{const r={updated_at:new Date().toISOString()};t.estimatedCost!==void 0&&(r.estimated_cost=t.estimatedCost),t.technicianNotes!==void 0&&(r.technician_notes=t.technicianNotes),t.statusId!==void 0&&(r.status_id=t.statusId),t.priority!==void 0&&(r.priority=t.priority);const{error:A}=await fe.from("repair_requests").update(r).eq("id",e);if(A)throw A}catch(r){throw console.error("Erreur lors de la mise à jour du diagnostic:",r),r}},async getTechnicianStats(e){try{const{data:t,error:r}=await fe.from("repair_requests").select("id, status_id, status:repair_statuses(name)").eq("technician_id",e);if(r)throw r;const A=t.filter(g=>g.status.name==="received").length,s=t.filter(g=>g.status.name==="inRepair").length,a=t.filter(g=>["repaired","readyForPickup","completed"].includes(g.status.name)).length,d=t.length,x=d>0?Math.round(a/d*100):0;return{todiagnose:A,inrepair:s,repaired:a,successRate:x}}catch(t){throw console.error("Erreur lors de la récupération des statistiques du technicien:",t),t}}},MF=()=>{const{user:e}=ir(),[t,r]=G.useState(""),[A,s]=G.useState([]),[a,d]=G.useState([]),[x,g]=G.useState(!0),[f,p]=G.useState(null),[w,y]=G.useState({totalRepairs:0,inProgressRepairs:0,completedRepairs:0,averageCompletionTime:0}),[E,F]=G.useState([]),[I,U]=G.useState([]);G.useEffect(()=>{(async()=>{g(!0),p(null);try{if(!(e!=null&&e.id))throw new Error("Utilisateur non authentifié");const O=await jF.getTechnicianRepairs(e.id),H=new Date().toISOString().split("T")[0],P=O.filter(K=>{const q=K.createdAt.split("T")[0]===H,V=String(K.statusId)==="2";return q||V}),M=O.filter(K=>String(K.statusId)==="3").slice(0,5),z={totalRepairs:O.length,inProgressRepairs:O.filter(K=>String(K.statusId)==="2").length,completedRepairs:O.filter(K=>String(K.statusId)==="3").length,averageCompletionTime:b(O)},Y=[{id:"1",title:"Nouvelle réparation assignée",message:"Une nouvelle réparation de MacBook Pro a été assignée à vous.",timestamp:new Date().toISOString(),isRead:!1,type:"info"},{id:"2",title:"Réparation terminée",message:"La réparation #1234 a été marquée comme terminée.",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),isRead:!0,type:"success"}];s(O),F(P),U(M),y(z),d(Y)}catch(O){console.error("Error fetching technician data:",O),p("Erreur lors du chargement des données. Veuillez réessayer.")}finally{g(!1)}})()},[e]);const _=A.filter(D=>{var O;return t===""||((O=D.clientName)==null?void 0:O.toLowerCase().includes(t.toLowerCase()))||D.brand.toLowerCase().includes(t.toLowerCase())||D.model.toLowerCase().includes(t.toLowerCase())||D.id.toLowerCase().includes(t.toLowerCase())}),C=D=>new Date(D).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),b=D=>{const O=D.filter(P=>P.statusId===3);if(O.length===0)return 0;const H=O.reduce((P,M)=>{const z=new Date(M.createdAt),Y=new Date(M.updatedAt),K=Math.ceil((Y.getTime()-z.getTime())/(1e3*60*60*24));return P+K},0);return Math.round(H/O.length)},S=(D,O)=>{switch(D){case"waiting_for_parts":return c.jsx(Vr,{variant:"warning",children:O||"En attente de pièces"});case"in_progress":return c.jsx(Vr,{variant:"primary",children:O||"En cours"});case"completed":return c.jsx(Vr,{variant:"success",children:O||"Terminée"});case"cancelled":return c.jsx(Vr,{variant:"error",children:O||"Annulée"});default:return c.jsx(Vr,{variant:"default",children:O||D})}},k=(D="medium")=>{const O={low:"default",medium:"warning",high:"error"},H={low:"Basse",medium:"Moyenne",high:"Haute"};return c.jsx(Vr,{variant:O[D],size:"sm",children:H[D]})};return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de bord Technicien"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Gérez vos réparations en cours et consultez les diagnostics"})]}),c.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-3",children:[c.jsx(be,{to:"/tech/work-orders",children:c.jsx(we,{variant:"outline",icon:c.jsx(Xb,{className:"h-5 w-5"}),children:"Ordres de travail"})}),c.jsx(be,{to:"/tech/repair-new",children:c.jsx(we,{variant:"primary",icon:c.jsx(ho,{className:"h-5 w-5"}),children:"Nouvelle réparation"})})]})]}),f&&c.jsx("div",{className:"w-full p-4 mb-6 bg-error/10 border border-error/20 rounded-lg text-error",children:c.jsx("p",{children:f})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(ce,{children:c.jsx(ce.Content,{className:"p-6 text-center",children:x?c.jsx("div",{className:"flex justify-center items-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-warning/10 text-warning mb-4",children:c.jsx(Zs,{className:"h-6 w-6"})}),c.jsx("div",{className:"text-2xl font-bold",children:w.totalRepairs-w.inProgressRepairs-w.completedRepairs}),c.jsx("div",{className:"text-gray-600 text-sm mt-1",children:"À diagnostiquer"})]})})}),c.jsx(ce,{children:c.jsx(ce.Content,{className:"p-6 text-center",children:x?c.jsx("div",{className:"flex justify-center items-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 text-primary mb-4",children:c.jsx(ho,{className:"h-6 w-6"})}),c.jsx("div",{className:"text-2xl font-bold",children:w.inProgressRepairs}),c.jsx("div",{className:"text-gray-600 text-sm mt-1",children:"En réparation"})]})})}),c.jsx(ce,{children:c.jsx(ce.Content,{className:"p-6 text-center",children:x?c.jsx("div",{className:"flex justify-center items-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-success/10 text-success mb-4",children:c.jsx(nA,{className:"h-6 w-6"})}),c.jsx("div",{className:"text-2xl font-bold",children:w.completedRepairs}),c.jsx("div",{className:"text-gray-600 text-sm mt-1",children:"Réparés"})]})})}),c.jsx(ce,{children:c.jsx(ce.Content,{className:"p-6 text-center",children:x?c.jsx("div",{className:"flex justify-center items-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-secondary/10 text-secondary mb-4",children:c.jsx(qB,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-2xl font-bold",children:[w.averageCompletionTime," jours"]}),c.jsx("div",{className:"text-gray-600 text-sm mt-1",children:"Temps moyen"})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs(ce,{className:"lg:col-span-2",children:[c.jsxs(ce.Header,{className:"flex justify-between items-center",children:[c.jsx(ce.Title,{children:"Réparations en cours"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:"p-1.5 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:c.jsx(Zc,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-1.5 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:c.jsx(YB,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"px-6 py-4",children:c.jsx(nr,{placeholder:"Rechercher un client ou un appareil...",value:t,onChange:D=>r(D.target.value),leftIcon:c.jsx(j0,{className:"h-5 w-5"}),fullWidth:!0})}),c.jsx("div",{className:"overflow-x-auto",children:x?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("table",{className:"w-full min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Réf."}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Appareil"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.filter(D=>D.technicianAssigned&&D.statusName!=="completed").length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"Aucune réparation trouvée."})}):_.filter(D=>D.technicianAssigned&&D.statusName!=="completed").map(D=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:c.jsx(na,{className:"h-5 w-5 text-gray-500"})}),c.jsxs("div",{className:"ml-4",children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[D.brand," ",D.model]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Appareil électronique"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:D.clientName||"Client inconnu"}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[c.jsxs("div",{children:[D.brand," ",D.model]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Appareil électronique"})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(D.statusName||"",D.statusLabel||"")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k("medium")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:C(D.updatedAt)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx(be,{to:`/tech/repair/${D.id}`,className:"text-primary hover:text-primary-dark",children:"Traiter"})})]},D.id))})]})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(ce,{children:[c.jsxs(ce.Header,{className:"flex justify-between items-center",children:[c.jsx(ce.Title,{children:"Notifications"}),c.jsx(be,{to:"/notifications",className:"text-sm text-primary",children:"Voir tout"})]}),c.jsx(ce.Content,{className:"p-0",children:x?c.jsx("div",{className:"flex justify-center items-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):a.length===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucune notification non lue"}):c.jsx("div",{className:"divide-y divide-gray-100",children:a.map(D=>c.jsx("div",{className:`p-4 ${D.isRead?"":"bg-primary/5"}`,children:c.jsxs("div",{className:"flex items-start",children:[c.jsxs("div",{className:"flex-shrink-0 pt-0.5",children:[D.type==="info"&&c.jsx(vn,{className:"h-5 w-5 text-primary"}),D.type==="success"&&c.jsx(nA,{className:"h-5 w-5 text-success"}),D.type==="warning"&&c.jsx(Ws,{className:"h-5 w-5 text-warning"}),D.type==="error"&&c.jsx(Ws,{className:"h-5 w-5 text-error"})]}),c.jsxs("div",{className:"ml-3 flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.title}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:D.message}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(D.timestamp).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]})},D.id))})})]}),c.jsxs(ce,{children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Actions rapides"})}),c.jsxs(ce.Content,{className:"space-y-4",children:[c.jsxs(be,{to:"/tech/repair-new",className:"flex items-center p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(ho,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:"Nouvelle réparation"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Créer un dossier de réparation"})]})]}),c.jsxs(be,{to:"/tech/inventory",className:"flex items-center p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(na,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:"Inventaire"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Gérer les pièces et composants"})]})]}),c.jsxs(be,{to:"/tech/chats",className:"flex items-center p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(fa,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:"Conversations clients"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Répondre aux messages"})]})]}),c.jsxs(be,{to:"/tech/settings",className:"flex items-center p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(JB,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:"Paramètres"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Configurer votre espace"})]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(ce,{children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Réparations pour aujourd'hui"})}),x?c.jsx(ce.Content,{className:"text-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})}):E.length===0?c.jsxs(ce.Content,{className:"text-center py-8",children:[c.jsx(qc,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-gray-500",children:"Aucune réparation prévue pour aujourd'hui"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Appareil"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Problème"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(D=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[D.brand," ",D.model]}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:c.jsx("div",{className:"truncate max-w-[200px]",children:D.problemDescription})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(D.statusName||"",D.statusLabel||"")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx(be,{to:`/tech/repair/${D.id}`,className:"text-primary hover:text-primary-dark",children:"Traiter"})})]},D.id))})]})})]}),c.jsxs(ce,{children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Réparations récemment terminées"})}),x?c.jsx(ce.Content,{className:"text-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})}):I.length===0?c.jsxs(ce.Content,{className:"text-center py-8",children:[c.jsx(nA,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-gray-500",children:"Aucune réparation terminée récemment"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Appareil"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coût"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(D=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[D.brand," ",D.model]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:D.clientName||"Client inconnu"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-right",children:D.estimatedCost?`${D.estimatedCost} €`:"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-right",children:C(D.updatedAt)})]},D.id))})]})})]})]})]})},HF=()=>{const{user:e}=ir(),t=FA(),[r,A]=G.useState({totalUsers:0,totalRepairs:0,totalRelayPoints:0,totalTechnicians:0,pendingRepairs:0}),[s,a]=G.useState(!0);G.useEffect(()=>{(async()=>{a(!0);try{const{count:g}=await fe.from("users").select("*",{count:"exact",head:!0}),{count:f}=await fe.from("repair_requests").select("*",{count:"exact",head:!0}),{count:p}=await fe.from("relay_points").select("*",{count:"exact",head:!0}),{count:w}=await fe.from("users").select("*",{count:"exact",head:!0}).eq("role","technician"),{count:y}=await fe.from("repair_requests").select("*",{count:"exact",head:!0}).eq("status_id","pending");A({totalUsers:g||0,totalRepairs:f||0,totalRelayPoints:p||0,totalTechnicians:w||0,pendingRepairs:y||0})}catch(g){console.error("Erreur lors de la récupération des statistiques:",g)}finally{a(!1)}})()},[]);const d=[{title:"Gestion des utilisateurs",description:"Gérer les comptes utilisateurs, les rôles et les permissions",icon:c.jsx(mc,{className:"h-8 w-8 text-primary"}),action:()=>t("/admin/users")},{title:"Gestion des réparations",description:"Suivre et gérer toutes les demandes de réparation",icon:c.jsx(G1,{className:"h-8 w-8 text-primary"}),action:()=>t("/admin/repairs")},{title:"Gestion des points relais",description:"Ajouter, modifier ou supprimer des points relais",icon:c.jsx(bA,{className:"h-8 w-8 text-primary"}),action:()=>t("/admin/relay-points")},{title:"Gestion des techniciens",description:"Gérer les techniciens et leurs spécialisations",icon:c.jsx(mc,{className:"h-8 w-8 text-primary"}),action:()=>t("/admin/technicians")},{title:"Paramètres du système",description:"Configurer les paramètres globaux de l'application",icon:c.jsx(JB,{className:"h-8 w-8 text-primary"}),action:()=>t("/admin/settings")},{title:"Rapports et statistiques",description:"Visualiser les statistiques et générer des rapports",icon:c.jsx(iF,{className:"h-8 w-8 text-primary"}),action:()=>t("/admin/reports")}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tableau de bord administrateur"}),c.jsxs("p",{className:"text-gray-600",children:["Bienvenue, ",e==null?void 0:e.firstName," ",e==null?void 0:e.lastName,". Gérez votre plateforme PC Relais."]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(ce,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-none",children:c.jsx(ce.Content,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total utilisateurs"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:s?"...":r.totalUsers})]}),c.jsx(mc,{className:"h-10 w-10 text-blue-500 opacity-80"})]})})}),c.jsx(ce,{className:"bg-gradient-to-br from-green-50 to-green-100 border-none",children:c.jsx(ce.Content,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total réparations"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:s?"...":r.totalRepairs})]}),c.jsx(na,{className:"h-10 w-10 text-green-500 opacity-80"})]})})}),c.jsx(ce,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-none",children:c.jsx(ce.Content,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Points relais"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:s?"...":r.totalRelayPoints})]}),c.jsx(bA,{className:"h-10 w-10 text-purple-500 opacity-80"})]})})})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Modules d'administration"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((x,g)=>c.jsx(ce,{className:"hover:shadow-md transition-shadow",children:c.jsx(ce.Content,{className:"p-6",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:x.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:x.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x.description}),c.jsx(we,{variant:"outline",onClick:x.action,className:"w-full",children:"Accéder"})]})]})})},g))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Réparations en attente"}),c.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[s?"...":r.pendingRepairs," en attente"]})]}),c.jsx(ce,{children:c.jsx(ce.Content,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[c.jsx(na,{className:"h-12 w-12 text-gray-400 mb-3"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Gérer les réparations"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Consultez et gérez toutes les demandes de réparation en cours."}),c.jsx(we,{variant:"primary",onClick:()=>t("/admin/repairs"),children:"Voir toutes les réparations"})]})})})]})]})},PF=()=>{const{user:e}=ir(),t=()=>{if(!e)return c.jsx("div",{children:"Chargement..."});switch(e.role){case"client":return c.jsx(DF,{});case"relayPoint":return c.jsx(LF,{});case"technician":return c.jsx(MF,{});case"admin":return c.jsx(HF,{});default:return c.jsx("div",{children:"Type d'utilisateur non reconnu"})}};return c.jsx(MA,{children:t()})},lf=G.forwardRef(({label:e,options:t,error:r,helperText:A,fullWidth:s=!1,className:a="",id:d,onChange:x,...g},f)=>{const p=d||`select-${(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"))||Math.random().toString(36).substr(2,9)}`,w="block w-full rounded-md border bg-white px-3 py-2 text-sm shadow-sm transition-colors appearance-none pr-10 focus:outline-none focus:ring-2 focus:ring-primary/20",y=r?"border-error focus:border-error":"border-gray-300 focus:border-primary",E=s?"w-full":"",F=I=>{x&&x(I.target.value)};return c.jsxs("div",{className:`${E} ${a}`,children:[e&&c.jsx("label",{htmlFor:p,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{ref:f,id:p,className:`${w} ${y}`,"aria-invalid":!!r,"aria-describedby":r?`${p}-error`:A?`${p}-helper`:void 0,onChange:F,...g,children:t.map(I=>c.jsx("option",{value:I.value,children:I.label},I.value))}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none text-gray-500",children:c.jsx(Wb,{className:"w-4 h-4"})})]}),r&&c.jsx("p",{id:`${p}-error`,className:"mt-1 text-xs text-error",children:r}),A&&!r&&c.jsx("p",{id:`${p}-helper`,className:"mt-1 text-xs text-gray-500",children:A})]})});lf.displayName="Select";function KF(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,[])).next())})}function VF(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var GF=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var A,s,a;if(Array.isArray(t)){if(A=t.length,A!=r.length)return!1;for(s=A;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),A=a.length,A!==Object.keys(r).length)return!1;for(s=A;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=A;s--!==0;){var d=a[s];if(!e(t[d],r[d]))return!1}return!0}return t!==t&&r!==r},zF=VF(GF);const Jx="__googleMapsScriptId";var ki;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(ki||(ki={}));class Us{constructor({apiKey:t,authReferrerPolicy:r,channel:A,client:s,id:a=Jx,language:d,libraries:x=[],mapIds:g,nonce:f,region:p,retries:w=3,url:y="https://maps.googleapis.com/maps/api/js",version:E}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=A,this.client=s,this.id=a||Jx,this.language=d,this.libraries=x,this.mapIds=g,this.nonce=f,this.region=p,this.retries=w,this.url=y,this.version=E,Us.instance){if(!zF(this.options,Us.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Us.instance.options)}`);return Us.instance}Us.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?ki.FAILURE:this.done?ki.SUCCESS:this.loading?ki.LOADING:ki.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(A=>{A?r(A.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,r;if(document.getElementById(this.id)){this.callback();return}const A={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(A).forEach(a=>!A[a]&&delete A[a]),!((r=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||r===void 0)&&r.importLibrary||(a=>{let d,x,g,f="The Google Maps JavaScript API",p="google",w="importLibrary",y="__ib__",E=document,F=window;F=F[p]||(F[p]={});const I=F.maps||(F.maps={}),U=new Set,_=new URLSearchParams,C=()=>d||(d=new Promise((b,S)=>KF(this,void 0,void 0,function*(){var k;yield x=E.createElement("script"),x.id=this.id,_.set("libraries",[...U]+"");for(g in a)_.set(g.replace(/[A-Z]/g,D=>"_"+D[0].toLowerCase()),a[g]);_.set("callback",p+".maps."+y),x.src=this.url+"?"+_,I[y]=b,x.onerror=()=>d=S(Error(f+" could not load.")),x.nonce=this.nonce||((k=E.querySelector("script[nonce]"))===null||k===void 0?void 0:k.nonce)||"",E.head.append(x)})));I[w]?console.warn(f+" only loads once. Ignoring:",a):I[w]=(b,...S)=>U.add(b)&&C().then(()=>I[w](b,...S))})(A);const s=this.libraries.map(a=>this.importLibrary(a));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),a=>{const d=new ErrorEvent("error",{error:a});this.loadErrorCallback(d)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const WF="AIzaSyAtcOpoqowe0yDQ_IxEGGldltimO09dwBY",XF=({onPlaceSelect:e,inputValue:t,onInputChange:r,placeholder:A,disabled:s})=>{const a=G.useRef(null),d=G.useRef(null);return G.useEffect(()=>{if(!(!a.current||!window.google||!window.google.maps||!window.google.maps.places)){try{d.current=new window.google.maps.places.Autocomplete(a.current,{componentRestrictions:{country:"fr"},types:["address"]}),d.current.addListener("place_changed",()=>{try{const x=d.current.getPlace();x&&x.formatted_address&&(r(x.formatted_address),e(x))}catch(x){console.error("Erreur lors de la récupération du lieu:",x)}})}catch(x){console.error("Erreur lors de l'initialisation de l'autocomplétion:",x)}return()=>{d.current&&window.google&&window.google.maps&&window.google.maps.event.clearInstanceListeners(d.current)}}},[e,r]),c.jsx("input",{ref:a,type:"text",value:t,onChange:x=>r(x.target.value),placeholder:A||"Entrez une adresse",disabled:s,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"})},ty=({label:e,placeholder:t="Entrez une adresse",value:r,onChange:A,disabled:s=!1,onPlaceSelect:a})=>{const[d,x]=G.useState(""),[g,f]=G.useState(!1),p=G.useRef(null),w=G.useCallback(y=>{a&&a(y)},[a]);return G.useEffect(()=>{new Us({apiKey:WF,version:"weekly",libraries:["places"]}).load().then(()=>{f(!0)}).catch(E=>{console.error("Erreur lors du chargement de l'API Google Maps:",E),x(E.message||"Erreur lors du chargement de l'API")})},[]),c.jsxs("div",{children:[c.jsxs("div",{className:"relative",children:[e&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:c.jsx(bA,{className:"h-5 w-5 text-gray-400"})}),g?c.jsx(XF,{onPlaceSelect:w,inputValue:r,onInputChange:A,placeholder:t,disabled:s}):c.jsx("input",{ref:p,type:"text",value:r,onChange:y=>A(y.target.value),placeholder:t,disabled:s,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"})]})]}),d&&c.jsx("div",{className:"text-red-500 text-sm mt-1",children:c.jsxs("p",{children:["Erreur lors du chargement de l'API Google Maps: ",d]})})]})},qu=e=>{let t;if(e.metadata&&e.metadata.coordinates)t=e.metadata.coordinates,console.log("Coordonnées trouvées dans metadata:",t);else if(e.coordinates)if(typeof e.coordinates=="string"){const[r,A]=e.coordinates.split(",").map(parseFloat);t={latitude:r,longitude:A}}else typeof e.coordinates=="object"&&(t=e.coordinates);else t={latitude:0,longitude:0};return{id:e.id,email:e.email,phoneNumber:e.phone||"",firstName:"",lastName:"",role:"relayPoint",createdAt:new Date().toISOString(),businessName:e.name,address:e.address,openingHours:e.opening_hours,coordinates:t,commission:0}},fo={async getAllRelayPoints(){try{console.log("Récupération des points relais depuis la base de données...");const{data:e,error:t}=await fe.from("relay_points").select("*").order("name");if(t)throw console.error("Erreur lors de la récupération des points relais:",t),t;return console.log("Points relais récupérés:",(e==null?void 0:e.length)||0),(e||[]).map(qu)}catch(e){throw console.error("Erreur lors de la récupération des points relais:",e),e}},async getNearbyRelayPoints(e,t=25){try{console.log("Recherche de points relais pour l'adresse:",e,"avec un rayon de",t,"km");let r,A;const s="AIzaSyAtcOpoqowe0yDQ_IxEGGldltimO09dwBY";console.log("Appel de l'API Google Geocoding...");const a=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=${s}`,d=await fetch(a);if(!d.ok)throw console.error("Erreur de réponse de l'API Geocoding:",d.status,d.statusText),new Error("Erreur lors de la géolocalisation de l'adresse");const x=await d.json();if(console.log("Réponse de l'API Geocoding:",x),!x||x.status!=="OK"||!x.results||x.results.length===0){console.error("Aucun résultat trouvé pour l'adresse:",e);const y={Paris:{lat:48.8566,lng:2.3522},Lyon:{lat:45.764,lng:4.8357},Marseille:{lat:43.2965,lng:5.3698},Bordeaux:{lat:44.8378,lng:-.5792},Lille:{lat:50.6292,lng:3.0573},Toulouse:{lat:43.6047,lng:1.4442},Nice:{lat:43.7102,lng:7.262},Nantes:{lat:47.2184,lng:-1.5536},Strasbourg:{lat:48.5734,lng:7.7521},Montpellier:{lat:43.6108,lng:3.8767}};let E="";for(const F of Object.keys(y))if(e.toLowerCase().includes(F.toLowerCase())){E=F;break}E?(r=y[E].lat,A=y[E].lng,console.log(`Utilisation des coordonnées de ${E} trouvée dans l'adresse:`,{lat:r,lng:A})):(r=46.603354,A=1.888334,console.log("Utilisation des coordonnées du centre de la France:",{lat:r,lng:A}))}else{const y=x.results[0].geometry.location;r=y.lat,A=y.lng,console.log("Coordonnées extraites pour l'adresse:",{lat:r,lng:A})}const g=await this.getAllRelayPoints();console.log("Nombre total de points relais récupérés:",g.length);const f={Paris:{lat:48.8566,lng:2.3522},Lyon:{lat:45.764,lng:4.8357},Marseille:{lat:43.2965,lng:5.3698},Bordeaux:{lat:44.8378,lng:-.5792},Lille:{lat:50.6292,lng:3.0573},Toulouse:{lat:43.6047,lng:1.4442},Nice:{lat:43.7102,lng:7.262},Nantes:{lat:47.2184,lng:-1.5536},Strasbourg:{lat:48.5734,lng:7.7521},Montpellier:{lat:43.6108,lng:3.8767}},w=g.map(y=>{if(!y.coordinates||y.coordinates.latitude===0&&y.coordinates.longitude===0){const E=y.businessName||"",F=y.address||"";let I="";for(const D of Object.keys(f))if(E.includes(D)||F.includes(D)){I=D;break}if(I&&f[I]){const D=f[I];return console.log(`Utilisation des coordonnées réelles de ${I} pour ${y.businessName}:`,D),{...y,coordinates:{latitude:D.lat,longitude:D.lng}}}const U=5+Math.random()*15,_=Math.random()*2*Math.PI,C=U/111*Math.cos(_),b=U/(111*Math.cos(this.deg2rad(r)))*Math.sin(_),S=r+C,k=A+b;return console.log(`Ajout de coordonnées proches pour ${y.businessName}:`,{lat:S,lng:k,distance:`~${Math.round(U)} km`}),{...y,coordinates:{latitude:S,longitude:k}}}return y}).map(y=>{const E=y.coordinates.latitude,F=y.coordinates.longitude,I=this.calculateDistance(r,A,E,F);return console.log(`Distance entre l'utilisateur et ${y.businessName}: ${I.toFixed(2)} km`),{...y,distance:I}}).filter(y=>y.distance<=t).sort((y,E)=>y.distance-E.distance);return console.log("Nombre de points relais dans le rayon de recherche:",w.length),w}catch(r){throw console.error("Erreur lors de la recherche de points relais à proximité:",r),r}},async getRelayPointById(e){try{const{data:t,error:r}=await fe.from("relay_points").select("*").eq("id",e).single();return r?(console.error(`Erreur lors de la récupération du point relais ${e}:`,r),null):t?qu(t):null}catch(t){return console.error(`Erreur lors de la récupération du point relais ${e}:`,t),null}},calculateDistance(e,t,r,A){const a=this.deg2rad(r-e),d=this.deg2rad(A-t),x=Math.sin(a/2)*Math.sin(a/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(r))*Math.sin(d/2)*Math.sin(d/2),f=6371*(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)));return Math.round(f*10)/10},deg2rad(e){return e*(Math.PI/180)},async geocodeAddress(e){try{const t="AIzaSyAtcOpoqowe0yDQ_IxEGGldltimO09dwBY";if(!e||e.trim()==="")return console.warn("Adresse vide fournie pour le géocodage"),null;const r=e.replace(/Cr /g,"Cours ");console.log("Géocodage de l'adresse:",r);const A=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(r)}&region=fr&key=${t}`,s=await fetch(A);if(!s.ok)return console.error("Erreur lors du géocodage:",s.status,s.statusText),null;const a=await s.json();if(console.log("Réponse de l'API de géocodage:",a.status),a.status!=="OK"){if(console.error(`Erreur de géocodage: ${a.status} - ${a.error_message||"Pas de message d'erreur"}`),a.status==="ZERO_RESULTS"){const d=e.match(/(\d{5})\s+([^,]+)/);if(d){const[,x,g]=d,f=`${x} ${g}, France`;console.log("Tentative avec adresse simplifiée:",f);const p=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(f)}&region=fr&key=${t}`,y=await(await fetch(p)).json();if(y.status==="OK"&&y.results&&y.results.length>0){const E=y.results[0].geometry.location;return console.log("Coordonnées obtenues via adresse simplifiée:",E),{latitude:E.lat,longitude:E.lng}}}}return null}if(a.results&&a.results.length>0){const d=a.results[0].geometry.location;return console.log("Coordonnées obtenues:",d),{latitude:d.lat,longitude:d.lng}}return console.error("Aucun résultat trouvé pour l'adresse:",e),null}catch(t){return console.error("Erreur lors du géocodage:",t),null}},async createOrUpdateRelayPoint(e){var t,r;try{let A=e.coordinates;if(A)console.log("Utilisation des coordonnées fournies:",A);else{console.log("Coordonnées non fournies, tentative de géocodage...");const d=await this.geocodeAddress(e.address);d&&(A=d)}const s={name:e.businessName,email:e.email,phone:e.phoneNumber,address:e.address,city:((t=e.address.split(",").slice(-2,-1)[0])==null?void 0:t.trim())||"",postal_code:((r=e.address.match(/\d{5}/))==null?void 0:r.toString())||"",opening_hours:e.openingHours,coordinates:A};let a;if(e.id){const{data:d,error:x}=await fe.from("relay_points").update(s).eq("id",e.id).select("*").single();if(x)throw console.error("Erreur lors de la mise à jour du point relais:",x),x;a=d}else{const{data:d,error:x}=await fe.from("relay_points").insert(s).select("*").single();if(x)throw console.error("Erreur lors de la création du point relais:",x),x;a=d}return a?qu(a):null}catch(A){return console.error("Erreur lors de la création/mise à jour du point relais:",A),null}},async getAddressSuggestions(e){if(!e||e.length<3)return[];try{const t=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}&limit=5`,r=await fetch(t,{headers:{"User-Agent":"PC-Relais-App/1.0"}});if(!r.ok)throw new Error("Erreur lors de la récupération des suggestions d'adresses");return(await r.json()).map(s=>({display_name:s.display_name,place_id:s.place_id,original_name:s.display_name}))}catch(t){return console.error("Erreur lors de la récupération des suggestions d'adresses:",t),[]}}};var ry={exports:{}};function YF(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $u={exports:{}};const qF={},$F=Object.freeze(Object.defineProperty({__proto__:null,default:qF},Symbol.toStringTag,{value:"Module"})),ZF=Jm($F);var ep;function Ye(){return ep||(ep=1,function(e,t){(function(r,A){e.exports=A()})(Qe,function(){var r=r||function(A,s){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Qe<"u"&&Qe.crypto&&(a=Qe.crypto),!a&&typeof YF=="function")try{a=ZF}catch{}var d=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},x=Object.create||function(){function C(){}return function(b){var S;return C.prototype=b,S=new C,C.prototype=null,S}}(),g={},f=g.lib={},p=f.Base=function(){return{extend:function(C){var b=x(this);return C&&b.mixIn(C),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var b in C)C.hasOwnProperty(b)&&(this[b]=C[b]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),w=f.WordArray=p.extend({init:function(C,b){C=this.words=C||[],b!=s?this.sigBytes=b:this.sigBytes=C.length*4},toString:function(C){return(C||E).stringify(this)},concat:function(C){var b=this.words,S=C.words,k=this.sigBytes,D=C.sigBytes;if(this.clamp(),k%4)for(var O=0;O<D;O++){var H=S[O>>>2]>>>24-O%4*8&255;b[k+O>>>2]|=H<<24-(k+O)%4*8}else for(var P=0;P<D;P+=4)b[k+P>>>2]=S[P>>>2];return this.sigBytes+=D,this},clamp:function(){var C=this.words,b=this.sigBytes;C[b>>>2]&=4294967295<<32-b%4*8,C.length=A.ceil(b/4)},clone:function(){var C=p.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var b=[],S=0;S<C;S+=4)b.push(d());return new w.init(b,C)}}),y=g.enc={},E=y.Hex={stringify:function(C){for(var b=C.words,S=C.sigBytes,k=[],D=0;D<S;D++){var O=b[D>>>2]>>>24-D%4*8&255;k.push((O>>>4).toString(16)),k.push((O&15).toString(16))}return k.join("")},parse:function(C){for(var b=C.length,S=[],k=0;k<b;k+=2)S[k>>>3]|=parseInt(C.substr(k,2),16)<<24-k%8*4;return new w.init(S,b/2)}},F=y.Latin1={stringify:function(C){for(var b=C.words,S=C.sigBytes,k=[],D=0;D<S;D++){var O=b[D>>>2]>>>24-D%4*8&255;k.push(String.fromCharCode(O))}return k.join("")},parse:function(C){for(var b=C.length,S=[],k=0;k<b;k++)S[k>>>2]|=(C.charCodeAt(k)&255)<<24-k%4*8;return new w.init(S,b)}},I=y.Utf8={stringify:function(C){try{return decodeURIComponent(escape(F.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return F.parse(unescape(encodeURIComponent(C)))}},U=f.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=I.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var b,S=this._data,k=S.words,D=S.sigBytes,O=this.blockSize,H=O*4,P=D/H;C?P=A.ceil(P):P=A.max((P|0)-this._minBufferSize,0);var M=P*O,z=A.min(M*4,D);if(M){for(var Y=0;Y<M;Y+=O)this._doProcessBlock(k,Y);b=k.splice(0,M),S.sigBytes-=z}return new w.init(b,z)},clone:function(){var C=p.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});f.Hasher=U.extend({cfg:p.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){U.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(C){return function(b,S){return new C.init(S).finalize(b)}},_createHmacHelper:function(C){return function(b,S){return new _.HMAC.init(C,S).finalize(b)}}});var _=g.algo={};return g}(Math);return r})}($u)),$u.exports}var Zu={exports:{}},tp;function M0(){return tp||(tp=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){return function(A){var s=r,a=s.lib,d=a.Base,x=a.WordArray,g=s.x64={};g.Word=d.extend({init:function(f,p){this.high=f,this.low=p}}),g.WordArray=d.extend({init:function(f,p){f=this.words=f||[],p!=A?this.sigBytes=p:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,p=f.length,w=[],y=0;y<p;y++){var E=f[y];w.push(E.high),w.push(E.low)}return x.create(w,this.sigBytes)},clone:function(){for(var f=d.clone.call(this),p=f.words=this.words.slice(0),w=p.length,y=0;y<w;y++)p[y]=p[y].clone();return f}})}(),r})}(Zu)),Zu.exports}var Ju={exports:{}},rp;function JF(){return rp||(rp=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){return function(){if(typeof ArrayBuffer=="function"){var A=r,s=A.lib,a=s.WordArray,d=a.init,x=a.init=function(g){if(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),(g instanceof Int8Array||typeof Uint8ClampedArray<"u"&&g instanceof Uint8ClampedArray||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array)&&(g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)),g instanceof Uint8Array){for(var f=g.byteLength,p=[],w=0;w<f;w++)p[w>>>2]|=g[w]<<24-w%4*8;d.call(this,p,f)}else d.apply(this,arguments)};x.prototype=a}}(),r.lib.WordArray})}(Ju)),Ju.exports}var ed={exports:{}},Ap;function e6(){return Ap||(Ap=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.WordArray,d=A.enc;d.Utf16=d.Utf16BE={stringify:function(g){for(var f=g.words,p=g.sigBytes,w=[],y=0;y<p;y+=2){var E=f[y>>>2]>>>16-y%4*8&65535;w.push(String.fromCharCode(E))}return w.join("")},parse:function(g){for(var f=g.length,p=[],w=0;w<f;w++)p[w>>>1]|=g.charCodeAt(w)<<16-w%2*16;return a.create(p,f*2)}},d.Utf16LE={stringify:function(g){for(var f=g.words,p=g.sigBytes,w=[],y=0;y<p;y+=2){var E=x(f[y>>>2]>>>16-y%4*8&65535);w.push(String.fromCharCode(E))}return w.join("")},parse:function(g){for(var f=g.length,p=[],w=0;w<f;w++)p[w>>>1]|=x(g.charCodeAt(w)<<16-w%2*16);return a.create(p,f*2)}};function x(g){return g<<8&4278255360|g>>>8&16711935}}(),r.enc.Utf16})}(ed)),ed.exports}var td={exports:{}},np;function Js(){return np||(np=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.WordArray,d=A.enc;d.Base64={stringify:function(g){var f=g.words,p=g.sigBytes,w=this._map;g.clamp();for(var y=[],E=0;E<p;E+=3)for(var F=f[E>>>2]>>>24-E%4*8&255,I=f[E+1>>>2]>>>24-(E+1)%4*8&255,U=f[E+2>>>2]>>>24-(E+2)%4*8&255,_=F<<16|I<<8|U,C=0;C<4&&E+C*.75<p;C++)y.push(w.charAt(_>>>6*(3-C)&63));var b=w.charAt(64);if(b)for(;y.length%4;)y.push(b);return y.join("")},parse:function(g){var f=g.length,p=this._map,w=this._reverseMap;if(!w){w=this._reverseMap=[];for(var y=0;y<p.length;y++)w[p.charCodeAt(y)]=y}var E=p.charAt(64);if(E){var F=g.indexOf(E);F!==-1&&(f=F)}return x(g,f,w)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function x(g,f,p){for(var w=[],y=0,E=0;E<f;E++)if(E%4){var F=p[g.charCodeAt(E-1)]<<E%4*2,I=p[g.charCodeAt(E)]>>>6-E%4*2,U=F|I;w[y>>>2]|=U<<24-y%4*8,y++}return a.create(w,y)}}(),r.enc.Base64})}(td)),td.exports}var rd={exports:{}},sp;function t6(){return sp||(sp=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.WordArray,d=A.enc;d.Base64url={stringify:function(g,f){f===void 0&&(f=!0);var p=g.words,w=g.sigBytes,y=f?this._safe_map:this._map;g.clamp();for(var E=[],F=0;F<w;F+=3)for(var I=p[F>>>2]>>>24-F%4*8&255,U=p[F+1>>>2]>>>24-(F+1)%4*8&255,_=p[F+2>>>2]>>>24-(F+2)%4*8&255,C=I<<16|U<<8|_,b=0;b<4&&F+b*.75<w;b++)E.push(y.charAt(C>>>6*(3-b)&63));var S=y.charAt(64);if(S)for(;E.length%4;)E.push(S);return E.join("")},parse:function(g,f){f===void 0&&(f=!0);var p=g.length,w=f?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var E=0;E<w.length;E++)y[w.charCodeAt(E)]=E}var F=w.charAt(64);if(F){var I=g.indexOf(F);I!==-1&&(p=I)}return x(g,p,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function x(g,f,p){for(var w=[],y=0,E=0;E<f;E++)if(E%4){var F=p[g.charCodeAt(E-1)]<<E%4*2,I=p[g.charCodeAt(E)]>>>6-E%4*2,U=F|I;w[y>>>2]|=U<<24-y%4*8,y++}return a.create(w,y)}}(),r.enc.Base64url})}(rd)),rd.exports}var Ad={exports:{}},ip;function ei(){return ip||(ip=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){return function(A){var s=r,a=s.lib,d=a.WordArray,x=a.Hasher,g=s.algo,f=[];(function(){for(var I=0;I<64;I++)f[I]=A.abs(A.sin(I+1))*4294967296|0})();var p=g.MD5=x.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(I,U){for(var _=0;_<16;_++){var C=U+_,b=I[C];I[C]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var S=this._hash.words,k=I[U+0],D=I[U+1],O=I[U+2],H=I[U+3],P=I[U+4],M=I[U+5],z=I[U+6],Y=I[U+7],K=I[U+8],q=I[U+9],V=I[U+10],Ae=I[U+11],ae=I[U+12],Z=I[U+13],ee=I[U+14],le=I[U+15],te=S[0],re=S[1],oe=S[2],ie=S[3];te=w(te,re,oe,ie,k,7,f[0]),ie=w(ie,te,re,oe,D,12,f[1]),oe=w(oe,ie,te,re,O,17,f[2]),re=w(re,oe,ie,te,H,22,f[3]),te=w(te,re,oe,ie,P,7,f[4]),ie=w(ie,te,re,oe,M,12,f[5]),oe=w(oe,ie,te,re,z,17,f[6]),re=w(re,oe,ie,te,Y,22,f[7]),te=w(te,re,oe,ie,K,7,f[8]),ie=w(ie,te,re,oe,q,12,f[9]),oe=w(oe,ie,te,re,V,17,f[10]),re=w(re,oe,ie,te,Ae,22,f[11]),te=w(te,re,oe,ie,ae,7,f[12]),ie=w(ie,te,re,oe,Z,12,f[13]),oe=w(oe,ie,te,re,ee,17,f[14]),re=w(re,oe,ie,te,le,22,f[15]),te=y(te,re,oe,ie,D,5,f[16]),ie=y(ie,te,re,oe,z,9,f[17]),oe=y(oe,ie,te,re,Ae,14,f[18]),re=y(re,oe,ie,te,k,20,f[19]),te=y(te,re,oe,ie,M,5,f[20]),ie=y(ie,te,re,oe,V,9,f[21]),oe=y(oe,ie,te,re,le,14,f[22]),re=y(re,oe,ie,te,P,20,f[23]),te=y(te,re,oe,ie,q,5,f[24]),ie=y(ie,te,re,oe,ee,9,f[25]),oe=y(oe,ie,te,re,H,14,f[26]),re=y(re,oe,ie,te,K,20,f[27]),te=y(te,re,oe,ie,Z,5,f[28]),ie=y(ie,te,re,oe,O,9,f[29]),oe=y(oe,ie,te,re,Y,14,f[30]),re=y(re,oe,ie,te,ae,20,f[31]),te=E(te,re,oe,ie,M,4,f[32]),ie=E(ie,te,re,oe,K,11,f[33]),oe=E(oe,ie,te,re,Ae,16,f[34]),re=E(re,oe,ie,te,ee,23,f[35]),te=E(te,re,oe,ie,D,4,f[36]),ie=E(ie,te,re,oe,P,11,f[37]),oe=E(oe,ie,te,re,Y,16,f[38]),re=E(re,oe,ie,te,V,23,f[39]),te=E(te,re,oe,ie,Z,4,f[40]),ie=E(ie,te,re,oe,k,11,f[41]),oe=E(oe,ie,te,re,H,16,f[42]),re=E(re,oe,ie,te,z,23,f[43]),te=E(te,re,oe,ie,q,4,f[44]),ie=E(ie,te,re,oe,ae,11,f[45]),oe=E(oe,ie,te,re,le,16,f[46]),re=E(re,oe,ie,te,O,23,f[47]),te=F(te,re,oe,ie,k,6,f[48]),ie=F(ie,te,re,oe,Y,10,f[49]),oe=F(oe,ie,te,re,ee,15,f[50]),re=F(re,oe,ie,te,M,21,f[51]),te=F(te,re,oe,ie,ae,6,f[52]),ie=F(ie,te,re,oe,H,10,f[53]),oe=F(oe,ie,te,re,V,15,f[54]),re=F(re,oe,ie,te,D,21,f[55]),te=F(te,re,oe,ie,K,6,f[56]),ie=F(ie,te,re,oe,le,10,f[57]),oe=F(oe,ie,te,re,z,15,f[58]),re=F(re,oe,ie,te,Z,21,f[59]),te=F(te,re,oe,ie,P,6,f[60]),ie=F(ie,te,re,oe,Ae,10,f[61]),oe=F(oe,ie,te,re,O,15,f[62]),re=F(re,oe,ie,te,q,21,f[63]),S[0]=S[0]+te|0,S[1]=S[1]+re|0,S[2]=S[2]+oe|0,S[3]=S[3]+ie|0},_doFinalize:function(){var I=this._data,U=I.words,_=this._nDataBytes*8,C=I.sigBytes*8;U[C>>>5]|=128<<24-C%32;var b=A.floor(_/4294967296),S=_;U[(C+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,U[(C+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,I.sigBytes=(U.length+1)*4,this._process();for(var k=this._hash,D=k.words,O=0;O<4;O++){var H=D[O];D[O]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}return k},clone:function(){var I=x.clone.call(this);return I._hash=this._hash.clone(),I}});function w(I,U,_,C,b,S,k){var D=I+(U&_|~U&C)+b+k;return(D<<S|D>>>32-S)+U}function y(I,U,_,C,b,S,k){var D=I+(U&C|_&~C)+b+k;return(D<<S|D>>>32-S)+U}function E(I,U,_,C,b,S,k){var D=I+(U^_^C)+b+k;return(D<<S|D>>>32-S)+U}function F(I,U,_,C,b,S,k){var D=I+(_^(U|~C))+b+k;return(D<<S|D>>>32-S)+U}s.MD5=x._createHelper(p),s.HmacMD5=x._createHmacHelper(p)}(Math),r.MD5})}(Ad)),Ad.exports}var nd={exports:{}},ap;function Ay(){return ap||(ap=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.WordArray,d=s.Hasher,x=A.algo,g=[],f=x.SHA1=d.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,w){for(var y=this._hash.words,E=y[0],F=y[1],I=y[2],U=y[3],_=y[4],C=0;C<80;C++){if(C<16)g[C]=p[w+C]|0;else{var b=g[C-3]^g[C-8]^g[C-14]^g[C-16];g[C]=b<<1|b>>>31}var S=(E<<5|E>>>27)+_+g[C];C<20?S+=(F&I|~F&U)+1518500249:C<40?S+=(F^I^U)+1859775393:C<60?S+=(F&I|F&U|I&U)-1894007588:S+=(F^I^U)-899497514,_=U,U=I,I=F<<30|F>>>2,F=E,E=S}y[0]=y[0]+E|0,y[1]=y[1]+F|0,y[2]=y[2]+I|0,y[3]=y[3]+U|0,y[4]=y[4]+_|0},_doFinalize:function(){var p=this._data,w=p.words,y=this._nDataBytes*8,E=p.sigBytes*8;return w[E>>>5]|=128<<24-E%32,w[(E+64>>>9<<4)+14]=Math.floor(y/4294967296),w[(E+64>>>9<<4)+15]=y,p.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var p=d.clone.call(this);return p._hash=this._hash.clone(),p}});A.SHA1=d._createHelper(f),A.HmacSHA1=d._createHmacHelper(f)}(),r.SHA1})}(nd)),nd.exports}var sd={exports:{}},op;function W1(){return op||(op=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){return function(A){var s=r,a=s.lib,d=a.WordArray,x=a.Hasher,g=s.algo,f=[],p=[];(function(){function E(_){for(var C=A.sqrt(_),b=2;b<=C;b++)if(!(_%b))return!1;return!0}function F(_){return(_-(_|0))*4294967296|0}for(var I=2,U=0;U<64;)E(I)&&(U<8&&(f[U]=F(A.pow(I,1/2))),p[U]=F(A.pow(I,1/3)),U++),I++})();var w=[],y=g.SHA256=x.extend({_doReset:function(){this._hash=new d.init(f.slice(0))},_doProcessBlock:function(E,F){for(var I=this._hash.words,U=I[0],_=I[1],C=I[2],b=I[3],S=I[4],k=I[5],D=I[6],O=I[7],H=0;H<64;H++){if(H<16)w[H]=E[F+H]|0;else{var P=w[H-15],M=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,z=w[H-2],Y=(z<<15|z>>>17)^(z<<13|z>>>19)^z>>>10;w[H]=M+w[H-7]+Y+w[H-16]}var K=S&k^~S&D,q=U&_^U&C^_&C,V=(U<<30|U>>>2)^(U<<19|U>>>13)^(U<<10|U>>>22),Ae=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),ae=O+Ae+K+p[H]+w[H],Z=V+q;O=D,D=k,k=S,S=b+ae|0,b=C,C=_,_=U,U=ae+Z|0}I[0]=I[0]+U|0,I[1]=I[1]+_|0,I[2]=I[2]+C|0,I[3]=I[3]+b|0,I[4]=I[4]+S|0,I[5]=I[5]+k|0,I[6]=I[6]+D|0,I[7]=I[7]+O|0},_doFinalize:function(){var E=this._data,F=E.words,I=this._nDataBytes*8,U=E.sigBytes*8;return F[U>>>5]|=128<<24-U%32,F[(U+64>>>9<<4)+14]=A.floor(I/4294967296),F[(U+64>>>9<<4)+15]=I,E.sigBytes=F.length*4,this._process(),this._hash},clone:function(){var E=x.clone.call(this);return E._hash=this._hash.clone(),E}});s.SHA256=x._createHelper(y),s.HmacSHA256=x._createHmacHelper(y)}(Math),r.SHA256})}(sd)),sd.exports}var id={exports:{}},lp;function r6(){return lp||(lp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),W1())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.WordArray,d=A.algo,x=d.SHA256,g=d.SHA224=x.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=x._doFinalize.call(this);return f.sigBytes-=4,f}});A.SHA224=x._createHelper(g),A.HmacSHA224=x._createHmacHelper(g)}(),r.SHA224})}(id)),id.exports}var ad={exports:{}},cp;function ny(){return cp||(cp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),M0())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.Hasher,d=A.x64,x=d.Word,g=d.WordArray,f=A.algo;function p(){return x.create.apply(x,arguments)}var w=[p(1116352408,3609767458),p(1899447441,602891725),p(3049323471,3964484399),p(3921009573,2173295548),p(961987163,4081628472),p(1508970993,3053834265),p(2453635748,2937671579),p(2870763221,3664609560),p(3624381080,2734883394),p(310598401,1164996542),p(607225278,1323610764),p(1426881987,3590304994),p(1925078388,4068182383),p(2162078206,991336113),p(2614888103,633803317),p(3248222580,3479774868),p(3835390401,2666613458),p(4022224774,944711139),p(264347078,2341262773),p(604807628,2007800933),p(770255983,1495990901),p(1249150122,1856431235),p(1555081692,3175218132),p(1996064986,2198950837),p(2554220882,3999719339),p(2821834349,766784016),p(2952996808,2566594879),p(3210313671,3203337956),p(3336571891,1034457026),p(3584528711,2466948901),p(113926993,3758326383),p(338241895,168717936),p(666307205,1188179964),p(773529912,1546045734),p(1294757372,1522805485),p(1396182291,2643833823),p(1695183700,2343527390),p(1986661051,1014477480),p(2177026350,1206759142),p(2456956037,344077627),p(2730485921,1290863460),p(2820302411,3158454273),p(3259730800,3505952657),p(3345764771,106217008),p(3516065817,3606008344),p(3600352804,1432725776),p(4094571909,1467031594),p(275423344,851169720),p(430227734,3100823752),p(506948616,1363258195),p(659060556,3750685593),p(883997877,3785050280),p(958139571,3318307427),p(1322822218,3812723403),p(1537002063,2003034995),p(1747873779,3602036899),p(1955562222,1575990012),p(2024104815,1125592928),p(2227730452,2716904306),p(2361852424,442776044),p(2428436474,593698344),p(2756734187,3733110249),p(3204031479,2999351573),p(3329325298,3815920427),p(3391569614,3928383900),p(3515267271,566280711),p(3940187606,3454069534),p(4118630271,4000239992),p(116418474,1914138554),p(174292421,2731055270),p(289380356,3203993006),p(460393269,320620315),p(685471733,587496836),p(852142971,1086792851),p(1017036298,365543100),p(1126000580,2618297676),p(1288033470,3409855158),p(1501505948,4234509866),p(1607167915,987167468),p(1816402316,1246189591)],y=[];(function(){for(var F=0;F<80;F++)y[F]=p()})();var E=f.SHA512=a.extend({_doReset:function(){this._hash=new g.init([new x.init(1779033703,4089235720),new x.init(3144134277,2227873595),new x.init(1013904242,4271175723),new x.init(2773480762,1595750129),new x.init(1359893119,2917565137),new x.init(2600822924,725511199),new x.init(528734635,4215389547),new x.init(1541459225,327033209)])},_doProcessBlock:function(F,I){for(var U=this._hash.words,_=U[0],C=U[1],b=U[2],S=U[3],k=U[4],D=U[5],O=U[6],H=U[7],P=_.high,M=_.low,z=C.high,Y=C.low,K=b.high,q=b.low,V=S.high,Ae=S.low,ae=k.high,Z=k.low,ee=D.high,le=D.low,te=O.high,re=O.low,oe=H.high,ie=H.low,Oe=P,he=M,et=z,Ne=Y,Yr=K,Ir=q,Rt=V,Se=Ae,ve=ae,qe=Z,nt=ee,Tr=le,gt=te,We=re,He=oe,PA=ie,Be=0;Be<80;Be++){var or,IA,Rr=y[Be];if(Be<16)IA=Rr.high=F[I+Be*2]|0,or=Rr.low=F[I+Be*2+1]|0;else{var ti=y[Be-15],qt=ti.high,Fn=ti.low,KA=(qt>>>1|Fn<<31)^(qt>>>8|Fn<<24)^qt>>>7,$t=(Fn>>>1|qt<<31)^(Fn>>>8|qt<<24)^(Fn>>>7|qt<<25),xa=y[Be-2],_A=xa.high,Bs=xa.low,_t=(_A>>>19|Bs<<13)^(_A<<3|Bs>>>29)^_A>>>6,me=(Bs>>>19|_A<<13)^(Bs<<3|_A>>>29)^(Bs>>>6|_A<<26),Nt=y[Be-7],st=Nt.high,Bt=Nt.low,In=y[Be-16],pa=In.high,ma=In.low;or=$t+Bt,IA=KA+st+(or>>>0<$t>>>0?1:0),or=or+me,IA=IA+_t+(or>>>0<me>>>0?1:0),or=or+ma,IA=IA+pa+(or>>>0<ma>>>0?1:0),Rr.high=IA,Rr.low=or}var $e=ve&nt^~ve&gt,VA=qe&Tr^~qe&We,Al=Oe&et^Oe&Yr^et&Yr,nl=he&Ne^he&Ir^Ne&Ir,qr=(Oe>>>28|he<<4)^(Oe<<30|he>>>2)^(Oe<<25|he>>>7),ri=(he>>>28|Oe<<4)^(he<<30|Oe>>>2)^(he<<25|Oe>>>7),Zt=(ve>>>14|qe<<18)^(ve>>>18|qe<<14)^(ve<<23|qe>>>9),_n=(qe>>>14|ve<<18)^(qe>>>18|ve<<14)^(qe<<23|ve>>>9),ys=w[Be],oA=ys.high,sl=ys.low,Ot=PA+_n,lA=He+Zt+(Ot>>>0<PA>>>0?1:0),Ot=Ot+VA,lA=lA+$e+(Ot>>>0<VA>>>0?1:0),Ot=Ot+sl,lA=lA+oA+(Ot>>>0<sl>>>0?1:0),Ot=Ot+or,lA=lA+IA+(Ot>>>0<or>>>0?1:0),lr=ri+nl,an=qr+Al+(lr>>>0<ri>>>0?1:0);He=gt,PA=We,gt=nt,We=Tr,nt=ve,Tr=qe,qe=Se+Ot|0,ve=Rt+lA+(qe>>>0<Se>>>0?1:0)|0,Rt=Yr,Se=Ir,Yr=et,Ir=Ne,et=Oe,Ne=he,he=Ot+lr|0,Oe=lA+an+(he>>>0<Ot>>>0?1:0)|0}M=_.low=M+he,_.high=P+Oe+(M>>>0<he>>>0?1:0),Y=C.low=Y+Ne,C.high=z+et+(Y>>>0<Ne>>>0?1:0),q=b.low=q+Ir,b.high=K+Yr+(q>>>0<Ir>>>0?1:0),Ae=S.low=Ae+Se,S.high=V+Rt+(Ae>>>0<Se>>>0?1:0),Z=k.low=Z+qe,k.high=ae+ve+(Z>>>0<qe>>>0?1:0),le=D.low=le+Tr,D.high=ee+nt+(le>>>0<Tr>>>0?1:0),re=O.low=re+We,O.high=te+gt+(re>>>0<We>>>0?1:0),ie=H.low=ie+PA,H.high=oe+He+(ie>>>0<PA>>>0?1:0)},_doFinalize:function(){var F=this._data,I=F.words,U=this._nDataBytes*8,_=F.sigBytes*8;I[_>>>5]|=128<<24-_%32,I[(_+128>>>10<<5)+30]=Math.floor(U/4294967296),I[(_+128>>>10<<5)+31]=U,F.sigBytes=I.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var F=a.clone.call(this);return F._hash=this._hash.clone(),F},blockSize:1024/32});A.SHA512=a._createHelper(E),A.HmacSHA512=a._createHmacHelper(E)}(),r.SHA512})}(ad)),ad.exports}var od={exports:{}},up;function A6(){return up||(up=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),M0(),ny())})(Qe,function(r){return function(){var A=r,s=A.x64,a=s.Word,d=s.WordArray,x=A.algo,g=x.SHA512,f=x.SHA384=g.extend({_doReset:function(){this._hash=new d.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var p=g._doFinalize.call(this);return p.sigBytes-=16,p}});A.SHA384=g._createHelper(f),A.HmacSHA384=g._createHmacHelper(f)}(),r.SHA384})}(od)),od.exports}var ld={exports:{}},dp;function n6(){return dp||(dp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),M0())})(Qe,function(r){return function(A){var s=r,a=s.lib,d=a.WordArray,x=a.Hasher,g=s.x64,f=g.Word,p=s.algo,w=[],y=[],E=[];(function(){for(var U=1,_=0,C=0;C<24;C++){w[U+5*_]=(C+1)*(C+2)/2%64;var b=_%5,S=(2*U+3*_)%5;U=b,_=S}for(var U=0;U<5;U++)for(var _=0;_<5;_++)y[U+5*_]=_+(2*U+3*_)%5*5;for(var k=1,D=0;D<24;D++){for(var O=0,H=0,P=0;P<7;P++){if(k&1){var M=(1<<P)-1;M<32?H^=1<<M:O^=1<<M-32}k&128?k=k<<1^113:k<<=1}E[D]=f.create(O,H)}})();var F=[];(function(){for(var U=0;U<25;U++)F[U]=f.create()})();var I=p.SHA3=x.extend({cfg:x.cfg.extend({outputLength:512}),_doReset:function(){for(var U=this._state=[],_=0;_<25;_++)U[_]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(U,_){for(var C=this._state,b=this.blockSize/2,S=0;S<b;S++){var k=U[_+2*S],D=U[_+2*S+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var O=C[S];O.high^=D,O.low^=k}for(var H=0;H<24;H++){for(var P=0;P<5;P++){for(var M=0,z=0,Y=0;Y<5;Y++){var O=C[P+5*Y];M^=O.high,z^=O.low}var K=F[P];K.high=M,K.low=z}for(var P=0;P<5;P++)for(var q=F[(P+4)%5],V=F[(P+1)%5],Ae=V.high,ae=V.low,M=q.high^(Ae<<1|ae>>>31),z=q.low^(ae<<1|Ae>>>31),Y=0;Y<5;Y++){var O=C[P+5*Y];O.high^=M,O.low^=z}for(var Z=1;Z<25;Z++){var M,z,O=C[Z],ee=O.high,le=O.low,te=w[Z];te<32?(M=ee<<te|le>>>32-te,z=le<<te|ee>>>32-te):(M=le<<te-32|ee>>>64-te,z=ee<<te-32|le>>>64-te);var re=F[y[Z]];re.high=M,re.low=z}var oe=F[0],ie=C[0];oe.high=ie.high,oe.low=ie.low;for(var P=0;P<5;P++)for(var Y=0;Y<5;Y++){var Z=P+5*Y,O=C[Z],Oe=F[Z],he=F[(P+1)%5+5*Y],et=F[(P+2)%5+5*Y];O.high=Oe.high^~he.high&et.high,O.low=Oe.low^~he.low&et.low}var O=C[0],Ne=E[H];O.high^=Ne.high,O.low^=Ne.low}},_doFinalize:function(){var U=this._data,_=U.words;this._nDataBytes*8;var C=U.sigBytes*8,b=this.blockSize*32;_[C>>>5]|=1<<24-C%32,_[(A.ceil((C+1)/b)*b>>>5)-1]|=128,U.sigBytes=_.length*4,this._process();for(var S=this._state,k=this.cfg.outputLength/8,D=k/8,O=[],H=0;H<D;H++){var P=S[H],M=P.high,z=P.low;M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,O.push(z),O.push(M)}return new d.init(O,k)},clone:function(){for(var U=x.clone.call(this),_=U._state=this._state.slice(0),C=0;C<25;C++)_[C]=_[C].clone();return U}});s.SHA3=x._createHelper(I),s.HmacSHA3=x._createHmacHelper(I)}(Math),r.SHA3})}(ld)),ld.exports}var cd={exports:{}},hp;function s6(){return hp||(hp=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(A){var s=r,a=s.lib,d=a.WordArray,x=a.Hasher,g=s.algo,f=d.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=d.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),w=d.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=d.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),E=d.create([0,1518500249,1859775393,2400959708,2840853838]),F=d.create([1352829926,1548603684,1836072691,2053994217,0]),I=g.RIPEMD160=x.extend({_doReset:function(){this._hash=d.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,O){for(var H=0;H<16;H++){var P=O+H,M=D[P];D[P]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var z=this._hash.words,Y=E.words,K=F.words,q=f.words,V=p.words,Ae=w.words,ae=y.words,Z,ee,le,te,re,oe,ie,Oe,he,et;oe=Z=z[0],ie=ee=z[1],Oe=le=z[2],he=te=z[3],et=re=z[4];for(var Ne,H=0;H<80;H+=1)Ne=Z+D[O+q[H]]|0,H<16?Ne+=U(ee,le,te)+Y[0]:H<32?Ne+=_(ee,le,te)+Y[1]:H<48?Ne+=C(ee,le,te)+Y[2]:H<64?Ne+=b(ee,le,te)+Y[3]:Ne+=S(ee,le,te)+Y[4],Ne=Ne|0,Ne=k(Ne,Ae[H]),Ne=Ne+re|0,Z=re,re=te,te=k(le,10),le=ee,ee=Ne,Ne=oe+D[O+V[H]]|0,H<16?Ne+=S(ie,Oe,he)+K[0]:H<32?Ne+=b(ie,Oe,he)+K[1]:H<48?Ne+=C(ie,Oe,he)+K[2]:H<64?Ne+=_(ie,Oe,he)+K[3]:Ne+=U(ie,Oe,he)+K[4],Ne=Ne|0,Ne=k(Ne,ae[H]),Ne=Ne+et|0,oe=et,et=he,he=k(Oe,10),Oe=ie,ie=Ne;Ne=z[1]+le+he|0,z[1]=z[2]+te+et|0,z[2]=z[3]+re+oe|0,z[3]=z[4]+Z+ie|0,z[4]=z[0]+ee+Oe|0,z[0]=Ne},_doFinalize:function(){var D=this._data,O=D.words,H=this._nDataBytes*8,P=D.sigBytes*8;O[P>>>5]|=128<<24-P%32,O[(P+64>>>9<<4)+14]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,D.sigBytes=(O.length+1)*4,this._process();for(var M=this._hash,z=M.words,Y=0;Y<5;Y++){var K=z[Y];z[Y]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}return M},clone:function(){var D=x.clone.call(this);return D._hash=this._hash.clone(),D}});function U(D,O,H){return D^O^H}function _(D,O,H){return D&O|~D&H}function C(D,O,H){return(D|~O)^H}function b(D,O,H){return D&H|O&~H}function S(D,O,H){return D^(O|~H)}function k(D,O){return D<<O|D>>>32-O}s.RIPEMD160=x._createHelper(I),s.HmacRIPEMD160=x._createHmacHelper(I)}(),r.RIPEMD160})}(cd)),cd.exports}var ud={exports:{}},fp;function X1(){return fp||(fp=1,function(e,t){(function(r,A){e.exports=A(Ye())})(Qe,function(r){(function(){var A=r,s=A.lib,a=s.Base,d=A.enc,x=d.Utf8,g=A.algo;g.HMAC=a.extend({init:function(f,p){f=this._hasher=new f.init,typeof p=="string"&&(p=x.parse(p));var w=f.blockSize,y=w*4;p.sigBytes>y&&(p=f.finalize(p)),p.clamp();for(var E=this._oKey=p.clone(),F=this._iKey=p.clone(),I=E.words,U=F.words,_=0;_<w;_++)I[_]^=1549556828,U[_]^=909522486;E.sigBytes=F.sigBytes=y,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var p=this._hasher,w=p.finalize(f);p.reset();var y=p.finalize(this._oKey.clone().concat(w));return y}})})()})}(ud)),ud.exports}var dd={exports:{}},gp;function i6(){return gp||(gp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),W1(),X1())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.Base,d=s.WordArray,x=A.algo,g=x.SHA256,f=x.HMAC,p=x.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:g,iterations:25e4}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,y){for(var E=this.cfg,F=f.create(E.hasher,w),I=d.create(),U=d.create([1]),_=I.words,C=U.words,b=E.keySize,S=E.iterations;_.length<b;){var k=F.update(y).finalize(U);F.reset();for(var D=k.words,O=D.length,H=k,P=1;P<S;P++){H=F.finalize(H),F.reset();for(var M=H.words,z=0;z<O;z++)D[z]^=M[z]}I.concat(k),C[0]++}return I.sigBytes=b*4,I}});A.PBKDF2=function(w,y,E){return p.create(E).compute(w,y)}}(),r.PBKDF2})}(dd)),dd.exports}var hd={exports:{}},xp;function ws(){return xp||(xp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),Ay(),X1())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.Base,d=s.WordArray,x=A.algo,g=x.MD5,f=x.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:g,iterations:1}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,w){for(var y,E=this.cfg,F=E.hasher.create(),I=d.create(),U=I.words,_=E.keySize,C=E.iterations;U.length<_;){y&&F.update(y),y=F.update(p).finalize(w),F.reset();for(var b=1;b<C;b++)y=F.finalize(y),F.reset();I.concat(y)}return I.sigBytes=_*4,I}});A.EvpKDF=function(p,w,y){return f.create(y).compute(p,w)}}(),r.EvpKDF})}(hd)),hd.exports}var fd={exports:{}},pp;function ar(){return pp||(pp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ws())})(Qe,function(r){r.lib.Cipher||function(A){var s=r,a=s.lib,d=a.Base,x=a.WordArray,g=a.BufferedBlockAlgorithm,f=s.enc;f.Utf8;var p=f.Base64,w=s.algo,y=w.EvpKDF,E=a.Cipher=g.extend({cfg:d.extend(),createEncryptor:function(M,z){return this.create(this._ENC_XFORM_MODE,M,z)},createDecryptor:function(M,z){return this.create(this._DEC_XFORM_MODE,M,z)},init:function(M,z,Y){this.cfg=this.cfg.extend(Y),this._xformMode=M,this._key=z,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(M){return this._append(M),this._process()},finalize:function(M){M&&this._append(M);var z=this._doFinalize();return z},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function M(z){return typeof z=="string"?P:D}return function(z){return{encrypt:function(Y,K,q){return M(K).encrypt(z,Y,K,q)},decrypt:function(Y,K,q){return M(K).decrypt(z,Y,K,q)}}}}()});a.StreamCipher=E.extend({_doFinalize:function(){var M=this._process(!0);return M},blockSize:1});var F=s.mode={},I=a.BlockCipherMode=d.extend({createEncryptor:function(M,z){return this.Encryptor.create(M,z)},createDecryptor:function(M,z){return this.Decryptor.create(M,z)},init:function(M,z){this._cipher=M,this._iv=z}}),U=F.CBC=function(){var M=I.extend();M.Encryptor=M.extend({processBlock:function(Y,K){var q=this._cipher,V=q.blockSize;z.call(this,Y,K,V),q.encryptBlock(Y,K),this._prevBlock=Y.slice(K,K+V)}}),M.Decryptor=M.extend({processBlock:function(Y,K){var q=this._cipher,V=q.blockSize,Ae=Y.slice(K,K+V);q.decryptBlock(Y,K),z.call(this,Y,K,V),this._prevBlock=Ae}});function z(Y,K,q){var V,Ae=this._iv;Ae?(V=Ae,this._iv=A):V=this._prevBlock;for(var ae=0;ae<q;ae++)Y[K+ae]^=V[ae]}return M}(),_=s.pad={},C=_.Pkcs7={pad:function(M,z){for(var Y=z*4,K=Y-M.sigBytes%Y,q=K<<24|K<<16|K<<8|K,V=[],Ae=0;Ae<K;Ae+=4)V.push(q);var ae=x.create(V,K);M.concat(ae)},unpad:function(M){var z=M.words[M.sigBytes-1>>>2]&255;M.sigBytes-=z}};a.BlockCipher=E.extend({cfg:E.cfg.extend({mode:U,padding:C}),reset:function(){var M;E.reset.call(this);var z=this.cfg,Y=z.iv,K=z.mode;this._xformMode==this._ENC_XFORM_MODE?M=K.createEncryptor:(M=K.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==M?this._mode.init(this,Y&&Y.words):(this._mode=M.call(K,this,Y&&Y.words),this._mode.__creator=M)},_doProcessBlock:function(M,z){this._mode.processBlock(M,z)},_doFinalize:function(){var M,z=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(z.pad(this._data,this.blockSize),M=this._process(!0)):(M=this._process(!0),z.unpad(M)),M},blockSize:128/32});var b=a.CipherParams=d.extend({init:function(M){this.mixIn(M)},toString:function(M){return(M||this.formatter).stringify(this)}}),S=s.format={},k=S.OpenSSL={stringify:function(M){var z,Y=M.ciphertext,K=M.salt;return K?z=x.create([1398893684,1701076831]).concat(K).concat(Y):z=Y,z.toString(p)},parse:function(M){var z,Y=p.parse(M),K=Y.words;return K[0]==1398893684&&K[1]==1701076831&&(z=x.create(K.slice(2,4)),K.splice(0,4),Y.sigBytes-=16),b.create({ciphertext:Y,salt:z})}},D=a.SerializableCipher=d.extend({cfg:d.extend({format:k}),encrypt:function(M,z,Y,K){K=this.cfg.extend(K);var q=M.createEncryptor(Y,K),V=q.finalize(z),Ae=q.cfg;return b.create({ciphertext:V,key:Y,iv:Ae.iv,algorithm:M,mode:Ae.mode,padding:Ae.padding,blockSize:M.blockSize,formatter:K.format})},decrypt:function(M,z,Y,K){K=this.cfg.extend(K),z=this._parse(z,K.format);var q=M.createDecryptor(Y,K).finalize(z.ciphertext);return q},_parse:function(M,z){return typeof M=="string"?z.parse(M,this):M}}),O=s.kdf={},H=O.OpenSSL={execute:function(M,z,Y,K,q){if(K||(K=x.random(64/8)),q)var V=y.create({keySize:z+Y,hasher:q}).compute(M,K);else var V=y.create({keySize:z+Y}).compute(M,K);var Ae=x.create(V.words.slice(z),Y*4);return V.sigBytes=z*4,b.create({key:V,iv:Ae,salt:K})}},P=a.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:H}),encrypt:function(M,z,Y,K){K=this.cfg.extend(K);var q=K.kdf.execute(Y,M.keySize,M.ivSize,K.salt,K.hasher);K.iv=q.iv;var V=D.encrypt.call(this,M,z,q.key,K);return V.mixIn(q),V},decrypt:function(M,z,Y,K){K=this.cfg.extend(K),z=this._parse(z,K.format);var q=K.kdf.execute(Y,M.keySize,M.ivSize,z.salt,K.hasher);K.iv=q.iv;var V=D.decrypt.call(this,M,z,q.key,K);return V}})}()})}(fd)),fd.exports}var gd={exports:{}},mp;function a6(){return mp||(mp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.mode.CFB=function(){var A=r.lib.BlockCipherMode.extend();A.Encryptor=A.extend({processBlock:function(a,d){var x=this._cipher,g=x.blockSize;s.call(this,a,d,g,x),this._prevBlock=a.slice(d,d+g)}}),A.Decryptor=A.extend({processBlock:function(a,d){var x=this._cipher,g=x.blockSize,f=a.slice(d,d+g);s.call(this,a,d,g,x),this._prevBlock=f}});function s(a,d,x,g){var f,p=this._iv;p?(f=p.slice(0),this._iv=void 0):f=this._prevBlock,g.encryptBlock(f,0);for(var w=0;w<x;w++)a[d+w]^=f[w]}return A}(),r.mode.CFB})}(gd)),gd.exports}var xd={exports:{}},wp;function o6(){return wp||(wp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.mode.CTR=function(){var A=r.lib.BlockCipherMode.extend(),s=A.Encryptor=A.extend({processBlock:function(a,d){var x=this._cipher,g=x.blockSize,f=this._iv,p=this._counter;f&&(p=this._counter=f.slice(0),this._iv=void 0);var w=p.slice(0);x.encryptBlock(w,0),p[g-1]=p[g-1]+1|0;for(var y=0;y<g;y++)a[d+y]^=w[y]}});return A.Decryptor=s,A}(),r.mode.CTR})}(xd)),xd.exports}var pd={exports:{}},Bp;function l6(){return Bp||(Bp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var A=r.lib.BlockCipherMode.extend();function s(x){if((x>>24&255)===255){var g=x>>16&255,f=x>>8&255,p=x&255;g===255?(g=0,f===255?(f=0,p===255?p=0:++p):++f):++g,x=0,x+=g<<16,x+=f<<8,x+=p}else x+=1<<24;return x}function a(x){return(x[0]=s(x[0]))===0&&(x[1]=s(x[1])),x}var d=A.Encryptor=A.extend({processBlock:function(x,g){var f=this._cipher,p=f.blockSize,w=this._iv,y=this._counter;w&&(y=this._counter=w.slice(0),this._iv=void 0),a(y);var E=y.slice(0);f.encryptBlock(E,0);for(var F=0;F<p;F++)x[g+F]^=E[F]}});return A.Decryptor=d,A}(),r.mode.CTRGladman})}(pd)),pd.exports}var md={exports:{}},yp;function c6(){return yp||(yp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.mode.OFB=function(){var A=r.lib.BlockCipherMode.extend(),s=A.Encryptor=A.extend({processBlock:function(a,d){var x=this._cipher,g=x.blockSize,f=this._iv,p=this._keystream;f&&(p=this._keystream=f.slice(0),this._iv=void 0),x.encryptBlock(p,0);for(var w=0;w<g;w++)a[d+w]^=p[w]}});return A.Decryptor=s,A}(),r.mode.OFB})}(md)),md.exports}var wd={exports:{}},vp;function u6(){return vp||(vp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.mode.ECB=function(){var A=r.lib.BlockCipherMode.extend();return A.Encryptor=A.extend({processBlock:function(s,a){this._cipher.encryptBlock(s,a)}}),A.Decryptor=A.extend({processBlock:function(s,a){this._cipher.decryptBlock(s,a)}}),A}(),r.mode.ECB})}(wd)),wd.exports}var Bd={exports:{}},Cp;function d6(){return Cp||(Cp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.pad.AnsiX923={pad:function(A,s){var a=A.sigBytes,d=s*4,x=d-a%d,g=a+x-1;A.clamp(),A.words[g>>>2]|=x<<24-g%4*8,A.sigBytes+=x},unpad:function(A){var s=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=s}},r.pad.Ansix923})}(Bd)),Bd.exports}var yd={exports:{}},Ep;function h6(){return Ep||(Ep=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.pad.Iso10126={pad:function(A,s){var a=s*4,d=a-A.sigBytes%a;A.concat(r.lib.WordArray.random(d-1)).concat(r.lib.WordArray.create([d<<24],1))},unpad:function(A){var s=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=s}},r.pad.Iso10126})}(yd)),yd.exports}var vd={exports:{}},bp;function f6(){return bp||(bp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.pad.Iso97971={pad:function(A,s){A.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(A,s)},unpad:function(A){r.pad.ZeroPadding.unpad(A),A.sigBytes--}},r.pad.Iso97971})}(vd)),vd.exports}var Cd={exports:{}},Fp;function g6(){return Fp||(Fp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.pad.ZeroPadding={pad:function(A,s){var a=s*4;A.clamp(),A.sigBytes+=a-(A.sigBytes%a||a)},unpad:function(A){for(var s=A.words,a=A.sigBytes-1,a=A.sigBytes-1;a>=0;a--)if(s[a>>>2]>>>24-a%4*8&255){A.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(Cd)),Cd.exports}var Ed={exports:{}},Ip;function x6(){return Ip||(Ip=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Ed)),Ed.exports}var bd={exports:{}},_p;function p6(){return _p||(_p=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),ar())})(Qe,function(r){return function(A){var s=r,a=s.lib,d=a.CipherParams,x=s.enc,g=x.Hex,f=s.format;f.Hex={stringify:function(p){return p.ciphertext.toString(g)},parse:function(p){var w=g.parse(p);return d.create({ciphertext:w})}}}(),r.format.Hex})}(bd)),bd.exports}var Fd={exports:{}},Np;function m6(){return Np||(Np=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),Js(),ei(),ws(),ar())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.BlockCipher,d=A.algo,x=[],g=[],f=[],p=[],w=[],y=[],E=[],F=[],I=[],U=[];(function(){for(var b=[],S=0;S<256;S++)S<128?b[S]=S<<1:b[S]=S<<1^283;for(var k=0,D=0,S=0;S<256;S++){var O=D^D<<1^D<<2^D<<3^D<<4;O=O>>>8^O&255^99,x[k]=O,g[O]=k;var H=b[k],P=b[H],M=b[P],z=b[O]*257^O*16843008;f[k]=z<<24|z>>>8,p[k]=z<<16|z>>>16,w[k]=z<<8|z>>>24,y[k]=z;var z=M*16843009^P*65537^H*257^k*16843008;E[O]=z<<24|z>>>8,F[O]=z<<16|z>>>16,I[O]=z<<8|z>>>24,U[O]=z,k?(k=H^b[b[b[M^H]]],D^=b[b[D]]):k=D=1}})();var _=[0,1,2,4,8,16,32,64,128,27,54],C=d.AES=a.extend({_doReset:function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,k=S.words,D=S.sigBytes/4,O=this._nRounds=D+6,H=(O+1)*4,P=this._keySchedule=[],M=0;M<H;M++)M<D?P[M]=k[M]:(b=P[M-1],M%D?D>6&&M%D==4&&(b=x[b>>>24]<<24|x[b>>>16&255]<<16|x[b>>>8&255]<<8|x[b&255]):(b=b<<8|b>>>24,b=x[b>>>24]<<24|x[b>>>16&255]<<16|x[b>>>8&255]<<8|x[b&255],b^=_[M/D|0]<<24),P[M]=P[M-D]^b);for(var z=this._invKeySchedule=[],Y=0;Y<H;Y++){var M=H-Y;if(Y%4)var b=P[M];else var b=P[M-4];Y<4||M<=4?z[Y]=b:z[Y]=E[x[b>>>24]]^F[x[b>>>16&255]]^I[x[b>>>8&255]]^U[x[b&255]]}}},encryptBlock:function(b,S){this._doCryptBlock(b,S,this._keySchedule,f,p,w,y,x)},decryptBlock:function(b,S){var k=b[S+1];b[S+1]=b[S+3],b[S+3]=k,this._doCryptBlock(b,S,this._invKeySchedule,E,F,I,U,g);var k=b[S+1];b[S+1]=b[S+3],b[S+3]=k},_doCryptBlock:function(b,S,k,D,O,H,P,M){for(var z=this._nRounds,Y=b[S]^k[0],K=b[S+1]^k[1],q=b[S+2]^k[2],V=b[S+3]^k[3],Ae=4,ae=1;ae<z;ae++){var Z=D[Y>>>24]^O[K>>>16&255]^H[q>>>8&255]^P[V&255]^k[Ae++],ee=D[K>>>24]^O[q>>>16&255]^H[V>>>8&255]^P[Y&255]^k[Ae++],le=D[q>>>24]^O[V>>>16&255]^H[Y>>>8&255]^P[K&255]^k[Ae++],te=D[V>>>24]^O[Y>>>16&255]^H[K>>>8&255]^P[q&255]^k[Ae++];Y=Z,K=ee,q=le,V=te}var Z=(M[Y>>>24]<<24|M[K>>>16&255]<<16|M[q>>>8&255]<<8|M[V&255])^k[Ae++],ee=(M[K>>>24]<<24|M[q>>>16&255]<<16|M[V>>>8&255]<<8|M[Y&255])^k[Ae++],le=(M[q>>>24]<<24|M[V>>>16&255]<<16|M[Y>>>8&255]<<8|M[K&255])^k[Ae++],te=(M[V>>>24]<<24|M[Y>>>16&255]<<16|M[K>>>8&255]<<8|M[q&255])^k[Ae++];b[S]=Z,b[S+1]=ee,b[S+2]=le,b[S+3]=te},keySize:256/32});A.AES=a._createHelper(C)}(),r.AES})}(Fd)),Fd.exports}var Id={exports:{}},Sp;function w6(){return Sp||(Sp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),Js(),ei(),ws(),ar())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.WordArray,d=s.BlockCipher,x=A.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],p=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],w=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],E=x.DES=d.extend({_doReset:function(){for(var _=this._key,C=_.words,b=[],S=0;S<56;S++){var k=g[S]-1;b[S]=C[k>>>5]>>>31-k%32&1}for(var D=this._subKeys=[],O=0;O<16;O++){for(var H=D[O]=[],P=p[O],S=0;S<24;S++)H[S/6|0]|=b[(f[S]-1+P)%28]<<31-S%6,H[4+(S/6|0)]|=b[28+(f[S+24]-1+P)%28]<<31-S%6;H[0]=H[0]<<1|H[0]>>>31;for(var S=1;S<7;S++)H[S]=H[S]>>>(S-1)*4+3;H[7]=H[7]<<5|H[7]>>>27}for(var M=this._invSubKeys=[],S=0;S<16;S++)M[S]=D[15-S]},encryptBlock:function(_,C){this._doCryptBlock(_,C,this._subKeys)},decryptBlock:function(_,C){this._doCryptBlock(_,C,this._invSubKeys)},_doCryptBlock:function(_,C,b){this._lBlock=_[C],this._rBlock=_[C+1],F.call(this,4,252645135),F.call(this,16,65535),I.call(this,2,858993459),I.call(this,8,16711935),F.call(this,1,1431655765);for(var S=0;S<16;S++){for(var k=b[S],D=this._lBlock,O=this._rBlock,H=0,P=0;P<8;P++)H|=w[P][((O^k[P])&y[P])>>>0];this._lBlock=O,this._rBlock=D^H}var M=this._lBlock;this._lBlock=this._rBlock,this._rBlock=M,F.call(this,1,1431655765),I.call(this,8,16711935),I.call(this,2,858993459),F.call(this,16,65535),F.call(this,4,252645135),_[C]=this._lBlock,_[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function F(_,C){var b=(this._lBlock>>>_^this._rBlock)&C;this._rBlock^=b,this._lBlock^=b<<_}function I(_,C){var b=(this._rBlock>>>_^this._lBlock)&C;this._lBlock^=b,this._rBlock^=b<<_}A.DES=d._createHelper(E);var U=x.TripleDES=d.extend({_doReset:function(){var _=this._key,C=_.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=C.slice(0,2),S=C.length<4?C.slice(0,2):C.slice(2,4),k=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=E.createEncryptor(a.create(b)),this._des2=E.createEncryptor(a.create(S)),this._des3=E.createEncryptor(a.create(k))},encryptBlock:function(_,C){this._des1.encryptBlock(_,C),this._des2.decryptBlock(_,C),this._des3.encryptBlock(_,C)},decryptBlock:function(_,C){this._des3.decryptBlock(_,C),this._des2.encryptBlock(_,C),this._des1.decryptBlock(_,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});A.TripleDES=d._createHelper(U)}(),r.TripleDES})}(Id)),Id.exports}var _d={exports:{}},Up;function B6(){return Up||(Up=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),Js(),ei(),ws(),ar())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.StreamCipher,d=A.algo,x=d.RC4=a.extend({_doReset:function(){for(var p=this._key,w=p.words,y=p.sigBytes,E=this._S=[],F=0;F<256;F++)E[F]=F;for(var F=0,I=0;F<256;F++){var U=F%y,_=w[U>>>2]>>>24-U%4*8&255;I=(I+E[F]+_)%256;var C=E[F];E[F]=E[I],E[I]=C}this._i=this._j=0},_doProcessBlock:function(p,w){p[w]^=g.call(this)},keySize:256/32,ivSize:0});function g(){for(var p=this._S,w=this._i,y=this._j,E=0,F=0;F<4;F++){w=(w+1)%256,y=(y+p[w])%256;var I=p[w];p[w]=p[y],p[y]=I,E|=p[(p[w]+p[y])%256]<<24-F*8}return this._i=w,this._j=y,E}A.RC4=a._createHelper(x);var f=d.RC4Drop=x.extend({cfg:x.cfg.extend({drop:192}),_doReset:function(){x._doReset.call(this);for(var p=this.cfg.drop;p>0;p--)g.call(this)}});A.RC4Drop=a._createHelper(f)}(),r.RC4})}(_d)),_d.exports}var Nd={exports:{}},Qp;function y6(){return Qp||(Qp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),Js(),ei(),ws(),ar())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.StreamCipher,d=A.algo,x=[],g=[],f=[],p=d.Rabbit=a.extend({_doReset:function(){for(var y=this._key.words,E=this.cfg.iv,F=0;F<4;F++)y[F]=(y[F]<<8|y[F]>>>24)&16711935|(y[F]<<24|y[F]>>>8)&4278255360;var I=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],U=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var F=0;F<4;F++)w.call(this);for(var F=0;F<8;F++)U[F]^=I[F+4&7];if(E){var _=E.words,C=_[0],b=_[1],S=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,D=S>>>16|k&4294901760,O=k<<16|S&65535;U[0]^=S,U[1]^=D,U[2]^=k,U[3]^=O,U[4]^=S,U[5]^=D,U[6]^=k,U[7]^=O;for(var F=0;F<4;F++)w.call(this)}},_doProcessBlock:function(y,E){var F=this._X;w.call(this),x[0]=F[0]^F[5]>>>16^F[3]<<16,x[1]=F[2]^F[7]>>>16^F[5]<<16,x[2]=F[4]^F[1]>>>16^F[7]<<16,x[3]=F[6]^F[3]>>>16^F[1]<<16;for(var I=0;I<4;I++)x[I]=(x[I]<<8|x[I]>>>24)&16711935|(x[I]<<24|x[I]>>>8)&4278255360,y[E+I]^=x[I]},blockSize:128/32,ivSize:64/32});function w(){for(var y=this._X,E=this._C,F=0;F<8;F++)g[F]=E[F];E[0]=E[0]+1295307597+this._b|0,E[1]=E[1]+3545052371+(E[0]>>>0<g[0]>>>0?1:0)|0,E[2]=E[2]+886263092+(E[1]>>>0<g[1]>>>0?1:0)|0,E[3]=E[3]+1295307597+(E[2]>>>0<g[2]>>>0?1:0)|0,E[4]=E[4]+3545052371+(E[3]>>>0<g[3]>>>0?1:0)|0,E[5]=E[5]+886263092+(E[4]>>>0<g[4]>>>0?1:0)|0,E[6]=E[6]+1295307597+(E[5]>>>0<g[5]>>>0?1:0)|0,E[7]=E[7]+3545052371+(E[6]>>>0<g[6]>>>0?1:0)|0,this._b=E[7]>>>0<g[7]>>>0?1:0;for(var F=0;F<8;F++){var I=y[F]+E[F],U=I&65535,_=I>>>16,C=((U*U>>>17)+U*_>>>15)+_*_,b=((I&4294901760)*I|0)+((I&65535)*I|0);f[F]=C^b}y[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,y[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,y[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,y[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,y[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,y[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,y[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,y[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}A.Rabbit=a._createHelper(p)}(),r.Rabbit})}(Nd)),Nd.exports}var Sd={exports:{}},Dp;function v6(){return Dp||(Dp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),Js(),ei(),ws(),ar())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.StreamCipher,d=A.algo,x=[],g=[],f=[],p=d.RabbitLegacy=a.extend({_doReset:function(){var y=this._key.words,E=this.cfg.iv,F=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],I=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var U=0;U<4;U++)w.call(this);for(var U=0;U<8;U++)I[U]^=F[U+4&7];if(E){var _=E.words,C=_[0],b=_[1],S=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,D=S>>>16|k&4294901760,O=k<<16|S&65535;I[0]^=S,I[1]^=D,I[2]^=k,I[3]^=O,I[4]^=S,I[5]^=D,I[6]^=k,I[7]^=O;for(var U=0;U<4;U++)w.call(this)}},_doProcessBlock:function(y,E){var F=this._X;w.call(this),x[0]=F[0]^F[5]>>>16^F[3]<<16,x[1]=F[2]^F[7]>>>16^F[5]<<16,x[2]=F[4]^F[1]>>>16^F[7]<<16,x[3]=F[6]^F[3]>>>16^F[1]<<16;for(var I=0;I<4;I++)x[I]=(x[I]<<8|x[I]>>>24)&16711935|(x[I]<<24|x[I]>>>8)&4278255360,y[E+I]^=x[I]},blockSize:128/32,ivSize:64/32});function w(){for(var y=this._X,E=this._C,F=0;F<8;F++)g[F]=E[F];E[0]=E[0]+1295307597+this._b|0,E[1]=E[1]+3545052371+(E[0]>>>0<g[0]>>>0?1:0)|0,E[2]=E[2]+886263092+(E[1]>>>0<g[1]>>>0?1:0)|0,E[3]=E[3]+1295307597+(E[2]>>>0<g[2]>>>0?1:0)|0,E[4]=E[4]+3545052371+(E[3]>>>0<g[3]>>>0?1:0)|0,E[5]=E[5]+886263092+(E[4]>>>0<g[4]>>>0?1:0)|0,E[6]=E[6]+1295307597+(E[5]>>>0<g[5]>>>0?1:0)|0,E[7]=E[7]+3545052371+(E[6]>>>0<g[6]>>>0?1:0)|0,this._b=E[7]>>>0<g[7]>>>0?1:0;for(var F=0;F<8;F++){var I=y[F]+E[F],U=I&65535,_=I>>>16,C=((U*U>>>17)+U*_>>>15)+_*_,b=((I&4294901760)*I|0)+((I&65535)*I|0);f[F]=C^b}y[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,y[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,y[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,y[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,y[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,y[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,y[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,y[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}A.RabbitLegacy=a._createHelper(p)}(),r.RabbitLegacy})}(Sd)),Sd.exports}var Ud={exports:{}},Tp;function C6(){return Tp||(Tp=1,function(e,t){(function(r,A,s){e.exports=A(Ye(),Js(),ei(),ws(),ar())})(Qe,function(r){return function(){var A=r,s=A.lib,a=s.BlockCipher,d=A.algo;const x=16,g=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var p={pbox:[],sbox:[]};function w(U,_){let C=_>>24&255,b=_>>16&255,S=_>>8&255,k=_&255,D=U.sbox[0][C]+U.sbox[1][b];return D=D^U.sbox[2][S],D=D+U.sbox[3][k],D}function y(U,_,C){let b=_,S=C,k;for(let D=0;D<x;++D)b=b^U.pbox[D],S=w(U,b)^S,k=b,b=S,S=k;return k=b,b=S,S=k,S=S^U.pbox[x],b=b^U.pbox[x+1],{left:b,right:S}}function E(U,_,C){let b=_,S=C,k;for(let D=x+1;D>1;--D)b=b^U.pbox[D],S=w(U,b)^S,k=b,b=S,S=k;return k=b,b=S,S=k,S=S^U.pbox[1],b=b^U.pbox[0],{left:b,right:S}}function F(U,_,C){for(let O=0;O<4;O++){U.sbox[O]=[];for(let H=0;H<256;H++)U.sbox[O][H]=f[O][H]}let b=0;for(let O=0;O<x+2;O++)U.pbox[O]=g[O]^_[b],b++,b>=C&&(b=0);let S=0,k=0,D=0;for(let O=0;O<x+2;O+=2)D=y(U,S,k),S=D.left,k=D.right,U.pbox[O]=S,U.pbox[O+1]=k;for(let O=0;O<4;O++)for(let H=0;H<256;H+=2)D=y(U,S,k),S=D.left,k=D.right,U.sbox[O][H]=S,U.sbox[O][H+1]=k;return!0}var I=d.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var U=this._keyPriorReset=this._key,_=U.words,C=U.sigBytes/4;F(p,_,C)}},encryptBlock:function(U,_){var C=y(p,U[_],U[_+1]);U[_]=C.left,U[_+1]=C.right},decryptBlock:function(U,_){var C=E(p,U[_],U[_+1]);U[_]=C.left,U[_+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});A.Blowfish=a._createHelper(I)}(),r.Blowfish})}(Ud)),Ud.exports}(function(e,t){(function(r,A,s){e.exports=A(Ye(),M0(),JF(),e6(),Js(),t6(),ei(),Ay(),W1(),r6(),ny(),A6(),n6(),s6(),X1(),i6(),ws(),ar(),a6(),o6(),l6(),c6(),u6(),d6(),h6(),f6(),g6(),x6(),p6(),m6(),w6(),B6(),y6(),v6(),C6())})(Qe,function(r){return r})})(ry);var Qd=ry.exports;const Ga={generateRepairCode(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<6;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},generateQRCodeData(e,t,r){const A=this.generateRepairCode(),s={repairId:e,relayPointId:t,clientId:r,timestamp:Date.now(),code:A},d=Qd.AES.encrypt(JSON.stringify(s),"PCRelais-SecretKey-2025").toString();return this.saveRepairCode(e,A,t),{qrData:d,repairCode:A}},async saveRepairCode(e,t,r){const{error:A}=await fe.from("repair_codes").insert({repair_id:e,code:t,relay_point_id:r,created_at:new Date().toISOString(),is_used:!1});if(A)throw console.error("Erreur lors de la sauvegarde du code de réparation:",A),A},async validateQRCode(e,t){try{const A=Qd.AES.decrypt(e,"PCRelais-SecretKey-2025"),s=JSON.parse(A.toString(Qd.enc.Utf8));if(s.relayPointId!==t)return{valid:!1,message:"Ce QR code n'est pas destiné à ce point relais."};const a=24*60*60*1e3;if(Date.now()-s.timestamp>a)return{valid:!1,message:"Ce QR code a expiré."};const{data:d,error:x}=await fe.from("repair_codes").select("is_used").eq("repair_id",s.repairId).eq("code",s.code).single();return x||!d?{valid:!1,message:"Code de réparation invalide ou inexistant."}:d.is_used?{valid:!1,message:"Ce code a déjà été utilisé."}:{valid:!0,repairId:s.repairId}}catch(r){return console.error("Erreur lors de la validation du QR code:",r),{valid:!1,message:"QR code invalide ou corrompu."}}},async validateRepairCode(e,t){try{const{data:r,error:A}=await fe.from("repair_codes").select("repair_id, is_used, created_at").eq("code",e).eq("relay_point_id",t).single();if(A||!r)return{valid:!1,message:"Code de réparation invalide ou inexistant pour ce point relais."};if(r.is_used)return{valid:!1,message:"Ce code a déjà été utilisé."};const s=new Date(r.created_at).getTime(),a=24*60*60*1e3;return Date.now()-s>a?{valid:!1,message:"Ce code a expiré."}:{valid:!0,repairId:r.repair_id}}catch(r){return console.error("Erreur lors de la validation du code de réparation:",r),{valid:!1,message:"Une erreur est survenue lors de la validation du code."}}},async markCodeAsUsed(e,t){const{error:r}=await fe.from("repair_codes").update({is_used:!0,used_at:new Date().toISOString()}).eq("repair_id",e).eq("code",t);if(r)throw console.error("Erreur lors du marquage du code comme utilisé:",r),r}};var E6=Object.defineProperty,Jc=Object.getOwnPropertySymbols,sy=Object.prototype.hasOwnProperty,iy=Object.prototype.propertyIsEnumerable,Rp=(e,t,r)=>t in e?E6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cf=(e,t)=>{for(var r in t||(t={}))sy.call(t,r)&&Rp(e,r,t[r]);if(Jc)for(var r of Jc(t))iy.call(t,r)&&Rp(e,r,t[r]);return e},uf=(e,t)=>{var r={};for(var A in e)sy.call(e,A)&&t.indexOf(A)<0&&(r[A]=e[A]);if(e!=null&&Jc)for(var A of Jc(e))t.indexOf(A)<0&&iy.call(e,A)&&(r[A]=e[A]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Xs;(e=>{const t=class Pe{constructor(g,f,p,w){if(this.version=g,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],g<Pe.MIN_VERSION||g>Pe.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=g*4+17;let y=[];for(let F=0;F<this.size;F++)y.push(!1);for(let F=0;F<this.size;F++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(p);if(this.drawCodewords(E),w==-1){let F=1e9;for(let I=0;I<8;I++){this.applyMask(I),this.drawFormatBits(I);const U=this.getPenaltyScore();U<F&&(w=I,F=U),this.applyMask(I)}}s(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(g,f){const p=e.QrSegment.makeSegments(g);return Pe.encodeSegments(p,f)}static encodeBinary(g,f){const p=e.QrSegment.makeBytes(g);return Pe.encodeSegments([p],f)}static encodeSegments(g,f,p=1,w=40,y=-1,E=!0){if(!(Pe.MIN_VERSION<=p&&p<=w&&w<=Pe.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let F,I;for(F=p;;F++){const b=Pe.getNumDataCodewords(F,f)*8,S=d.getTotalBits(g,F);if(S<=b){I=S;break}if(F>=w)throw new RangeError("Data too long")}for(const b of[Pe.Ecc.MEDIUM,Pe.Ecc.QUARTILE,Pe.Ecc.HIGH])E&&I<=Pe.getNumDataCodewords(F,b)*8&&(f=b);let U=[];for(const b of g){r(b.mode.modeBits,4,U),r(b.numChars,b.mode.numCharCountBits(F),U);for(const S of b.getData())U.push(S)}s(U.length==I);const _=Pe.getNumDataCodewords(F,f)*8;s(U.length<=_),r(0,Math.min(4,_-U.length),U),r(0,(8-U.length%8)%8,U),s(U.length%8==0);for(let b=236;U.length<_;b^=253)r(b,8,U);let C=[];for(;C.length*8<U.length;)C.push(0);return U.forEach((b,S)=>C[S>>>3]|=b<<7-(S&7)),new Pe(F,f,C,y)}getModule(g,f){return 0<=g&&g<this.size&&0<=f&&f<this.size&&this.modules[f][g]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const g=this.getAlignmentPatternPositions(),f=g.length;for(let p=0;p<f;p++)for(let w=0;w<f;w++)p==0&&w==0||p==0&&w==f-1||p==f-1&&w==0||this.drawAlignmentPattern(g[p],g[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(g){const f=this.errorCorrectionLevel.formatBits<<3|g;let p=f;for(let y=0;y<10;y++)p=p<<1^(p>>>9)*1335;const w=(f<<10|p)^21522;s(w>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,A(w,y));this.setFunctionModule(8,7,A(w,6)),this.setFunctionModule(8,8,A(w,7)),this.setFunctionModule(7,8,A(w,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,A(w,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,A(w,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,A(w,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let g=this.version;for(let p=0;p<12;p++)g=g<<1^(g>>>11)*7973;const f=this.version<<12|g;s(f>>>18==0);for(let p=0;p<18;p++){const w=A(f,p),y=this.size-11+p%3,E=Math.floor(p/3);this.setFunctionModule(y,E,w),this.setFunctionModule(E,y,w)}}drawFinderPattern(g,f){for(let p=-4;p<=4;p++)for(let w=-4;w<=4;w++){const y=Math.max(Math.abs(w),Math.abs(p)),E=g+w,F=f+p;0<=E&&E<this.size&&0<=F&&F<this.size&&this.setFunctionModule(E,F,y!=2&&y!=4)}}drawAlignmentPattern(g,f){for(let p=-2;p<=2;p++)for(let w=-2;w<=2;w++)this.setFunctionModule(g+w,f+p,Math.max(Math.abs(w),Math.abs(p))!=1)}setFunctionModule(g,f,p){this.modules[f][g]=p,this.isFunction[f][g]=!0}addEccAndInterleave(g){const f=this.version,p=this.errorCorrectionLevel;if(g.length!=Pe.getNumDataCodewords(f,p))throw new RangeError("Invalid argument");const w=Pe.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f],y=Pe.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f],E=Math.floor(Pe.getNumRawDataModules(f)/8),F=w-E%w,I=Math.floor(E/w);let U=[];const _=Pe.reedSolomonComputeDivisor(y);for(let b=0,S=0;b<w;b++){let k=g.slice(S,S+I-y+(b<F?0:1));S+=k.length;const D=Pe.reedSolomonComputeRemainder(k,_);b<F&&k.push(0),U.push(k.concat(D))}let C=[];for(let b=0;b<U[0].length;b++)U.forEach((S,k)=>{(b!=I-y||k>=F)&&C.push(S[b])});return s(C.length==E),C}drawCodewords(g){if(g.length!=Math.floor(Pe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let w=0;w<this.size;w++)for(let y=0;y<2;y++){const E=p-y,I=(p+1&2)==0?this.size-1-w:w;!this.isFunction[I][E]&&f<g.length*8&&(this.modules[I][E]=A(g[f>>>3],7-(f&7)),f++)}}s(f==g.length*8)}applyMask(g){if(g<0||g>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let p=0;p<this.size;p++){let w;switch(g){case 0:w=(p+f)%2==0;break;case 1:w=f%2==0;break;case 2:w=p%3==0;break;case 3:w=(p+f)%3==0;break;case 4:w=(Math.floor(p/3)+Math.floor(f/2))%2==0;break;case 5:w=p*f%2+p*f%3==0;break;case 6:w=(p*f%2+p*f%3)%2==0;break;case 7:w=((p+f)%2+p*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][p]&&w&&(this.modules[f][p]=!this.modules[f][p])}}getPenaltyScore(){let g=0;for(let y=0;y<this.size;y++){let E=!1,F=0,I=[0,0,0,0,0,0,0];for(let U=0;U<this.size;U++)this.modules[y][U]==E?(F++,F==5?g+=Pe.PENALTY_N1:F>5&&g++):(this.finderPenaltyAddHistory(F,I),E||(g+=this.finderPenaltyCountPatterns(I)*Pe.PENALTY_N3),E=this.modules[y][U],F=1);g+=this.finderPenaltyTerminateAndCount(E,F,I)*Pe.PENALTY_N3}for(let y=0;y<this.size;y++){let E=!1,F=0,I=[0,0,0,0,0,0,0];for(let U=0;U<this.size;U++)this.modules[U][y]==E?(F++,F==5?g+=Pe.PENALTY_N1:F>5&&g++):(this.finderPenaltyAddHistory(F,I),E||(g+=this.finderPenaltyCountPatterns(I)*Pe.PENALTY_N3),E=this.modules[U][y],F=1);g+=this.finderPenaltyTerminateAndCount(E,F,I)*Pe.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let E=0;E<this.size-1;E++){const F=this.modules[y][E];F==this.modules[y][E+1]&&F==this.modules[y+1][E]&&F==this.modules[y+1][E+1]&&(g+=Pe.PENALTY_N2)}let f=0;for(const y of this.modules)f=y.reduce((E,F)=>E+(F?1:0),f);const p=this.size*this.size,w=Math.ceil(Math.abs(f*20-p*10)/p)-1;return s(0<=w&&w<=9),g+=w*Pe.PENALTY_N4,s(0<=g&&g<=2568888),g}getAlignmentPatternPositions(){if(this.version==1)return[];{const g=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(g*2-2))*2;let p=[6];for(let w=this.size-7;p.length<g;w-=f)p.splice(1,0,w);return p}}static getNumRawDataModules(g){if(g<Pe.MIN_VERSION||g>Pe.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*g+128)*g+64;if(g>=2){const p=Math.floor(g/7)+2;f-=(25*p-10)*p-55,g>=7&&(f-=36)}return s(208<=f&&f<=29648),f}static getNumDataCodewords(g,f){return Math.floor(Pe.getNumRawDataModules(g)/8)-Pe.ECC_CODEWORDS_PER_BLOCK[f.ordinal][g]*Pe.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][g]}static reedSolomonComputeDivisor(g){if(g<1||g>255)throw new RangeError("Degree out of range");let f=[];for(let w=0;w<g-1;w++)f.push(0);f.push(1);let p=1;for(let w=0;w<g;w++){for(let y=0;y<f.length;y++)f[y]=Pe.reedSolomonMultiply(f[y],p),y+1<f.length&&(f[y]^=f[y+1]);p=Pe.reedSolomonMultiply(p,2)}return f}static reedSolomonComputeRemainder(g,f){let p=f.map(w=>0);for(const w of g){const y=w^p.shift();p.push(0),f.forEach((E,F)=>p[F]^=Pe.reedSolomonMultiply(E,y))}return p}static reedSolomonMultiply(g,f){if(g>>>8||f>>>8)throw new RangeError("Byte out of range");let p=0;for(let w=7;w>=0;w--)p=p<<1^(p>>>7)*285,p^=(f>>>w&1)*g;return s(p>>>8==0),p}finderPenaltyCountPatterns(g){const f=g[1];s(f<=this.size*3);const p=f>0&&g[2]==f&&g[3]==f*3&&g[4]==f&&g[5]==f;return(p&&g[0]>=f*4&&g[6]>=f?1:0)+(p&&g[6]>=f*4&&g[0]>=f?1:0)}finderPenaltyTerminateAndCount(g,f,p){return g&&(this.finderPenaltyAddHistory(f,p),f=0),f+=this.size,this.finderPenaltyAddHistory(f,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(g,f){f[0]==0&&(g+=this.size),f.pop(),f.unshift(g)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(x,g,f){if(g<0||g>31||x>>>g)throw new RangeError("Value out of range");for(let p=g-1;p>=0;p--)f.push(x>>>p&1)}function A(x,g){return(x>>>g&1)!=0}function s(x){if(!x)throw new Error("Assertion error")}const a=class Qt{constructor(g,f,p){if(this.mode=g,this.numChars=f,this.bitData=p,f<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(g){let f=[];for(const p of g)r(p,8,f);return new Qt(Qt.Mode.BYTE,g.length,f)}static makeNumeric(g){if(!Qt.isNumeric(g))throw new RangeError("String contains non-numeric characters");let f=[];for(let p=0;p<g.length;){const w=Math.min(g.length-p,3);r(parseInt(g.substring(p,p+w),10),w*3+1,f),p+=w}return new Qt(Qt.Mode.NUMERIC,g.length,f)}static makeAlphanumeric(g){if(!Qt.isAlphanumeric(g))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],p;for(p=0;p+2<=g.length;p+=2){let w=Qt.ALPHANUMERIC_CHARSET.indexOf(g.charAt(p))*45;w+=Qt.ALPHANUMERIC_CHARSET.indexOf(g.charAt(p+1)),r(w,11,f)}return p<g.length&&r(Qt.ALPHANUMERIC_CHARSET.indexOf(g.charAt(p)),6,f),new Qt(Qt.Mode.ALPHANUMERIC,g.length,f)}static makeSegments(g){return g==""?[]:Qt.isNumeric(g)?[Qt.makeNumeric(g)]:Qt.isAlphanumeric(g)?[Qt.makeAlphanumeric(g)]:[Qt.makeBytes(Qt.toUtf8ByteArray(g))]}static makeEci(g){let f=[];if(g<0)throw new RangeError("ECI assignment value out of range");if(g<128)r(g,8,f);else if(g<16384)r(2,2,f),r(g,14,f);else if(g<1e6)r(6,3,f),r(g,21,f);else throw new RangeError("ECI assignment value out of range");return new Qt(Qt.Mode.ECI,0,f)}static isNumeric(g){return Qt.NUMERIC_REGEX.test(g)}static isAlphanumeric(g){return Qt.ALPHANUMERIC_REGEX.test(g)}getData(){return this.bitData.slice()}static getTotalBits(g,f){let p=0;for(const w of g){const y=w.mode.numCharCountBits(f);if(w.numChars>=1<<y)return 1/0;p+=4+y+w.bitData.length}return p}static toUtf8ByteArray(g){g=encodeURI(g);let f=[];for(let p=0;p<g.length;p++)g.charAt(p)!="%"?f.push(g.charCodeAt(p)):(f.push(parseInt(g.substring(p+1,p+3),16)),p+=2);return f}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=a;e.QrSegment=a})(Xs||(Xs={}));(e=>{(t=>{const r=class{constructor(s,a){this.ordinal=s,this.formatBits=a}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Xs||(Xs={}));(e=>{(t=>{const r=class{constructor(s,a){this.modeBits=s,this.numBitsCharCount=a}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Xs||(Xs={}));var Li=Xs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var b6={L:Li.QrCode.Ecc.LOW,M:Li.QrCode.Ecc.MEDIUM,Q:Li.QrCode.Ecc.QUARTILE,H:Li.QrCode.Ecc.HIGH},ay=128,oy="L",ly="#FFFFFF",cy="#000000",uy=!1,dy=1,F6=4,I6=0,_6=.1;function hy(e,t=0){const r=[];return e.forEach(function(A,s){let a=null;A.forEach(function(d,x){if(!d&&a!==null){r.push(`M${a+t} ${s+t}h${x-a}v1H${a+t}z`),a=null;return}if(x===A.length-1){if(!d)return;a===null?r.push(`M${x+t},${s+t} h1v1H${x+t}z`):r.push(`M${a+t},${s+t} h${x+1-a}v1H${a+t}z`);return}d&&a===null&&(a=x)})}),r.join("")}function fy(e,t){return e.slice().map((r,A)=>A<t.y||A>=t.y+t.h?r:r.map((s,a)=>a<t.x||a>=t.x+t.w?s:!1))}function N6(e,t,r,A){if(A==null)return null;const s=e.length+r*2,a=Math.floor(t*_6),d=s/t,x=(A.width||a)*d,g=(A.height||a)*d,f=A.x==null?e.length/2-x/2:A.x*d,p=A.y==null?e.length/2-g/2:A.y*d,w=A.opacity==null?1:A.opacity;let y=null;if(A.excavate){let F=Math.floor(f),I=Math.floor(p),U=Math.ceil(x+f-F),_=Math.ceil(g+p-I);y={x:F,y:I,w:U,h:_}}const E=A.crossOrigin;return{x:f,y:p,h:g,w:x,excavation:y,opacity:w,crossOrigin:E}}function S6(e,t){return t!=null?Math.max(Math.floor(t),0):e?F6:I6}function gy({value:e,level:t,minVersion:r,includeMargin:A,marginSize:s,imageSettings:a,size:d,boostLevel:x}){let g=Mt.useMemo(()=>{const F=(Array.isArray(e)?e:[e]).reduce((I,U)=>(I.push(...Li.QrSegment.makeSegments(U)),I),[]);return Li.QrCode.encodeSegments(F,b6[t],r,void 0,void 0,x)},[e,t,r,x]);const{cells:f,margin:p,numCells:w,calculatedImageSettings:y}=Mt.useMemo(()=>{let E=g.getModules();const F=S6(A,s),I=E.length+F*2,U=N6(E,d,F,a);return{cells:E,margin:F,numCells:I,calculatedImageSettings:U}},[g,d,a,A,s]);return{qrcode:g,margin:p,cells:f,numCells:w,calculatedImageSettings:y}}var U6=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Q6=Mt.forwardRef(function(t,r){const A=t,{value:s,size:a=ay,level:d=oy,bgColor:x=ly,fgColor:g=cy,includeMargin:f=uy,minVersion:p=dy,boostLevel:w,marginSize:y,imageSettings:E}=A,I=uf(A,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:U}=I,_=uf(I,["style"]),C=E==null?void 0:E.src,b=Mt.useRef(null),S=Mt.useRef(null),k=Mt.useCallback(q=>{b.current=q,typeof r=="function"?r(q):r&&(r.current=q)},[r]),[D,O]=Mt.useState(!1),{margin:H,cells:P,numCells:M,calculatedImageSettings:z}=gy({value:s,level:d,minVersion:p,boostLevel:w,includeMargin:f,marginSize:y,imageSettings:E,size:a});Mt.useEffect(()=>{if(b.current!=null){const q=b.current,V=q.getContext("2d");if(!V)return;let Ae=P;const ae=S.current,Z=z!=null&&ae!==null&&ae.complete&&ae.naturalHeight!==0&&ae.naturalWidth!==0;Z&&z.excavation!=null&&(Ae=fy(P,z.excavation));const ee=window.devicePixelRatio||1;q.height=q.width=a*ee;const le=a/M*ee;V.scale(le,le),V.fillStyle=x,V.fillRect(0,0,M,M),V.fillStyle=g,U6?V.fill(new Path2D(hy(Ae,H))):P.forEach(function(te,re){te.forEach(function(oe,ie){oe&&V.fillRect(ie+H,re+H,1,1)})}),z&&(V.globalAlpha=z.opacity),Z&&V.drawImage(ae,z.x+H,z.y+H,z.w,z.h)}}),Mt.useEffect(()=>{O(!1)},[C]);const Y=cf({height:a,width:a},U);let K=null;return C!=null&&(K=Mt.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{O(!0)},ref:S,crossOrigin:z==null?void 0:z.crossOrigin})),Mt.createElement(Mt.Fragment,null,Mt.createElement("canvas",cf({style:Y,height:a,width:a,ref:k,role:"img"},_)),K)});Q6.displayName="QRCodeCanvas";var xy=Mt.forwardRef(function(t,r){const A=t,{value:s,size:a=ay,level:d=oy,bgColor:x=ly,fgColor:g=cy,includeMargin:f=uy,minVersion:p=dy,boostLevel:w,title:y,marginSize:E,imageSettings:F}=A,I=uf(A,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:U,cells:_,numCells:C,calculatedImageSettings:b}=gy({value:s,level:d,minVersion:p,boostLevel:w,includeMargin:f,marginSize:E,imageSettings:F,size:a});let S=_,k=null;F!=null&&b!=null&&(b.excavation!=null&&(S=fy(_,b.excavation)),k=Mt.createElement("image",{href:F.src,height:b.h,width:b.w,x:b.x+U,y:b.y+U,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const D=hy(S,U);return Mt.createElement("svg",cf({height:a,width:a,viewBox:`0 0 ${C} ${C}`,ref:r,role:"img"},I),!!y&&Mt.createElement("title",null,y),Mt.createElement("path",{fill:x,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),Mt.createElement("path",{fill:g,d:D,shapeRendering:"crispEdges"}),k)});xy.displayName="QRCodeSVG";/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var df=function(e,t){return df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,A){r.__proto__=A}||function(r,A){for(var s in A)Object.prototype.hasOwnProperty.call(A,s)&&(r[s]=A[s])},df(e,t)};function HA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");df(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var hf=function(){return hf=Object.assign||function(t){for(var r,A=1,s=arguments.length;A<s;A++){r=arguments[A];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},hf.apply(this,arguments)};function Nr(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,[])).next())})}function Cr(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},A,s,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(f){return function(p){return g([f,p])}}function g(f){if(A)throw new TypeError("Generator is already executing.");for(;r;)try{if(A=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],s=0}finally{A=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ol(e,t,r){if(arguments.length===2)for(var A=0,s=t.length,a;A<s;A++)(a||!(A in t))&&(a||(a=Array.prototype.slice.call(t,0,A)),a[A]=t[A]);return e.concat(a||t)}var Cn=function(){function e(t,r,A,s){this.left=t,this.top=r,this.width=A,this.height=s}return e.prototype.add=function(t,r,A,s){return new e(this.left+t,this.top+r,this.width+A,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var A=Array.from(r).find(function(s){return s.width!==0});return A?new e(A.left+t.windowBounds.left,A.top+t.windowBounds.top,A.width,A.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),H0=function(e,t){return Cn.fromClientRect(e,t.getBoundingClientRect())},D6=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var A=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Cn(0,0,A,s)},P0=function(e){for(var t=[],r=0,A=e.length;r<A;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<A){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},jt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var A=[],s=-1,a="";++s<r;){var d=e[s];d<=65535?A.push(d):(d-=65536,A.push((d>>10)+55296,d%1024+56320)),(s+1===r||A.length>16384)&&(a+=String.fromCharCode.apply(String,A),A.length=0)}return a},Op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kl=0;kl<Op.length;kl++)T6[Op.charCodeAt(kl)]=kl;var kp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",za=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ll=0;Ll<kp.length;Ll++)za[kp.charCodeAt(Ll)]=Ll;var R6=function(e){var t=e.length*.75,r=e.length,A,s=0,a,d,x,g;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),p=Array.isArray(f)?f:new Uint8Array(f);for(A=0;A<r;A+=4)a=za[e.charCodeAt(A)],d=za[e.charCodeAt(A+1)],x=za[e.charCodeAt(A+2)],g=za[e.charCodeAt(A+3)],p[s++]=a<<2|d>>4,p[s++]=(d&15)<<4|x>>2,p[s++]=(x&3)<<6|g&63;return f},O6=function(e){for(var t=e.length,r=[],A=0;A<t;A+=2)r.push(e[A+1]<<8|e[A]);return r},k6=function(e){for(var t=e.length,r=[],A=0;A<t;A+=4)r.push(e[A+3]<<24|e[A+2]<<16|e[A+1]<<8|e[A]);return r},Ms=5,Y1=11,Dd=2,L6=Y1-Ms,py=65536>>Ms,j6=1<<Ms,Td=j6-1,M6=1024>>Ms,H6=py+M6,P6=H6,K6=32,V6=P6+K6,G6=65536>>Y1,z6=1<<L6,W6=z6-1,Lp=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},X6=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Y6=function(e,t){var r=R6(e),A=Array.isArray(r)?k6(r):new Uint32Array(r),s=Array.isArray(r)?O6(r):new Uint16Array(r),a=24,d=Lp(s,a/2,A[4]/2),x=A[5]===2?Lp(s,(a+A[4])/2):X6(A,Math.ceil((a+A[4])/4));return new q6(A[0],A[1],A[2],A[3],d,x)},q6=function(){function e(t,r,A,s,a,d){this.initialValue=t,this.errorValue=r,this.highStart=A,this.highValueIndex=s,this.index=a,this.data=d}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ms],r=(r<<Dd)+(t&Td),this.data[r];if(t<=65535)return r=this.index[py+(t-55296>>Ms)],r=(r<<Dd)+(t&Td),this.data[r];if(t<this.highStart)return r=V6-G6+(t>>Y1),r=this.index[r],r+=t>>Ms&W6,r=this.index[r],r=(r<<Dd)+(t&Td),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),jp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jl=0;jl<jp.length;jl++)$6[jp.charCodeAt(jl)]=jl;var Z6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Mp=50,J6=1,my=2,wy=3,eI=4,tI=5,Hp=7,By=8,Pp=9,$n=10,ff=11,Kp=12,gf=13,rI=14,Wa=15,xf=16,Ml=17,Oa=18,AI=19,Vp=20,pf=21,ka=22,Rd=23,xi=24,Zr=25,Xa=26,Ya=27,pi=28,nI=29,Qs=30,sI=31,Hl=32,Pl=33,mf=34,wf=35,Bf=36,Vo=37,yf=38,wc=39,Bc=40,Od=41,yy=42,iI=43,aI=[9001,65288],vy="!",Ge="×",Kl="÷",vf=Y6(Z6),on=[Qs,Bf],Cf=[J6,my,wy,tI],Cy=[$n,By],Gp=[Ya,Xa],oI=Cf.concat(Cy),zp=[yf,wc,Bc,mf,wf],lI=[Wa,gf],cI=function(e,t){t===void 0&&(t="strict");var r=[],A=[],s=[];return e.forEach(function(a,d){var x=vf.get(a);if(x>Mp?(s.push(!0),x-=Mp):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return A.push(d),r.push(xf);if(x===eI||x===ff){if(d===0)return A.push(d),r.push(Qs);var g=r[d-1];return oI.indexOf(g)===-1?(A.push(A[d-1]),r.push(g)):(A.push(d),r.push(Qs))}if(A.push(d),x===sI)return r.push(t==="strict"?pf:Vo);if(x===yy||x===nI)return r.push(Qs);if(x===iI)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Vo):r.push(Qs);r.push(x)}),[A,r,s]},kd=function(e,t,r,A){var s=A[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var a=r;a<=A.length;){a++;var d=A[a];if(d===t)return!0;if(d!==$n)break}if(s===$n)for(var a=r;a>0;){a--;var x=A[a];if(Array.isArray(e)?e.indexOf(x)!==-1:e===x)for(var g=r;g<=A.length;){g++;var d=A[g];if(d===t)return!0;if(d!==$n)break}if(x!==$n)break}return!1},Wp=function(e,t){for(var r=e;r>=0;){var A=t[r];if(A===$n)r--;else return A}return 0},uI=function(e,t,r,A,s){if(r[A]===0)return Ge;var a=A-1;if(Array.isArray(s)&&s[a]===!0)return Ge;var d=a-1,x=a+1,g=t[a],f=d>=0?t[d]:0,p=t[x];if(g===my&&p===wy)return Ge;if(Cf.indexOf(g)!==-1)return vy;if(Cf.indexOf(p)!==-1||Cy.indexOf(p)!==-1)return Ge;if(Wp(a,t)===By)return Kl;if(vf.get(e[a])===ff||(g===Hl||g===Pl)&&vf.get(e[x])===ff||g===Hp||p===Hp||g===Pp||[$n,gf,Wa].indexOf(g)===-1&&p===Pp||[Ml,Oa,AI,xi,pi].indexOf(p)!==-1||Wp(a,t)===ka||kd(Rd,ka,a,t)||kd([Ml,Oa],pf,a,t)||kd(Kp,Kp,a,t))return Ge;if(g===$n)return Kl;if(g===Rd||p===Rd)return Ge;if(p===xf||g===xf)return Kl;if([gf,Wa,pf].indexOf(p)!==-1||g===rI||f===Bf&&lI.indexOf(g)!==-1||g===pi&&p===Bf||p===Vp||on.indexOf(p)!==-1&&g===Zr||on.indexOf(g)!==-1&&p===Zr||g===Ya&&[Vo,Hl,Pl].indexOf(p)!==-1||[Vo,Hl,Pl].indexOf(g)!==-1&&p===Xa||on.indexOf(g)!==-1&&Gp.indexOf(p)!==-1||Gp.indexOf(g)!==-1&&on.indexOf(p)!==-1||[Ya,Xa].indexOf(g)!==-1&&(p===Zr||[ka,Wa].indexOf(p)!==-1&&t[x+1]===Zr)||[ka,Wa].indexOf(g)!==-1&&p===Zr||g===Zr&&[Zr,pi,xi].indexOf(p)!==-1)return Ge;if([Zr,pi,xi,Ml,Oa].indexOf(p)!==-1)for(var w=a;w>=0;){var y=t[w];if(y===Zr)return Ge;if([pi,xi].indexOf(y)!==-1)w--;else break}if([Ya,Xa].indexOf(p)!==-1)for(var w=[Ml,Oa].indexOf(g)!==-1?d:a;w>=0;){var y=t[w];if(y===Zr)return Ge;if([pi,xi].indexOf(y)!==-1)w--;else break}if(yf===g&&[yf,wc,mf,wf].indexOf(p)!==-1||[wc,mf].indexOf(g)!==-1&&[wc,Bc].indexOf(p)!==-1||[Bc,wf].indexOf(g)!==-1&&p===Bc||zp.indexOf(g)!==-1&&[Vp,Xa].indexOf(p)!==-1||zp.indexOf(p)!==-1&&g===Ya||on.indexOf(g)!==-1&&on.indexOf(p)!==-1||g===xi&&on.indexOf(p)!==-1||on.concat(Zr).indexOf(g)!==-1&&p===ka&&aI.indexOf(e[x])===-1||on.concat(Zr).indexOf(p)!==-1&&g===Oa)return Ge;if(g===Od&&p===Od){for(var E=r[a],F=1;E>0&&(E--,t[E]===Od);)F++;if(F%2!==0)return Ge}return g===Hl&&p===Pl?Ge:Kl},dI=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=cI(e,t.lineBreak),A=r[0],s=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(x){return[Zr,Qs,yy].indexOf(x)!==-1?Vo:x}));var d=t.wordBreak==="keep-all"?a.map(function(x,g){return x&&e[g]>=19968&&e[g]<=40959}):void 0;return[A,s,d]},hI=function(){function e(t,r,A,s){this.codePoints=t,this.required=r===vy,this.start=A,this.end=s}return e.prototype.slice=function(){return jt.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),fI=function(e,t){var r=P0(e),A=dI(r,t),s=A[0],a=A[1],d=A[2],x=r.length,g=0,f=0;return{next:function(){if(f>=x)return{done:!0,value:null};for(var p=Ge;f<x&&(p=uI(r,a,s,++f,d))===Ge;);if(p!==Ge||f===x){var w=new hI(r,p,g,f);return g=f,{value:w,done:!1}}return{done:!0,value:null}}}},gI=1,xI=2,tl=4,Xp=8,e0=10,Yp=47,go=92,pI=9,mI=32,Vl=34,La=61,wI=35,BI=36,yI=37,Gl=39,zl=40,ja=41,vI=95,Hr=45,CI=33,EI=60,bI=62,FI=64,II=91,_I=93,NI=61,SI=123,Wl=63,UI=125,qp=124,QI=126,DI=128,$p=65533,Ld=42,Os=43,TI=44,RI=58,OI=59,Go=46,kI=0,LI=8,jI=11,MI=14,HI=31,PI=127,$A=-1,Ey=48,by=97,Fy=101,KI=102,VI=117,GI=122,Iy=65,_y=69,Ny=70,zI=85,WI=90,Er=function(e){return e>=Ey&&e<=57},XI=function(e){return e>=55296&&e<=57343},mi=function(e){return Er(e)||e>=Iy&&e<=Ny||e>=by&&e<=KI},YI=function(e){return e>=by&&e<=GI},qI=function(e){return e>=Iy&&e<=WI},$I=function(e){return YI(e)||qI(e)},ZI=function(e){return e>=DI},Xl=function(e){return e===e0||e===pI||e===mI},t0=function(e){return $I(e)||ZI(e)||e===vI},Zp=function(e){return t0(e)||Er(e)||e===Hr},JI=function(e){return e>=kI&&e<=LI||e===jI||e>=MI&&e<=HI||e===PI},Kn=function(e,t){return e!==go?!1:t!==e0},Yl=function(e,t,r){return e===Hr?t0(t)||Kn(t,r):t0(e)?!0:!!(e===go&&Kn(e,t))},jd=function(e,t,r){return e===Os||e===Hr?Er(t)?!0:t===Go&&Er(r):Er(e===Go?t:e)},e_=function(e){var t=0,r=1;(e[t]===Os||e[t]===Hr)&&(e[t]===Hr&&(r=-1),t++);for(var A=[];Er(e[t]);)A.push(e[t++]);var s=A.length?parseInt(jt.apply(void 0,A),10):0;e[t]===Go&&t++;for(var a=[];Er(e[t]);)a.push(e[t++]);var d=a.length,x=d?parseInt(jt.apply(void 0,a),10):0;(e[t]===_y||e[t]===Fy)&&t++;var g=1;(e[t]===Os||e[t]===Hr)&&(e[t]===Hr&&(g=-1),t++);for(var f=[];Er(e[t]);)f.push(e[t++]);var p=f.length?parseInt(jt.apply(void 0,f),10):0;return r*(s+x*Math.pow(10,-d))*Math.pow(10,g*p)},t_={type:2},r_={type:3},A_={type:4},n_={type:13},s_={type:8},i_={type:21},a_={type:9},o_={type:10},l_={type:11},c_={type:12},u_={type:14},ql={type:23},d_={type:1},h_={type:25},f_={type:24},g_={type:26},x_={type:27},p_={type:28},m_={type:29},w_={type:31},Ef={type:32},Sy=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(P0(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==Ef;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Vl:return this.consumeStringToken(Vl);case wI:var r=this.peekCodePoint(0),A=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Zp(r)||Kn(A,s)){var a=Yl(r,A,s)?xI:gI,d=this.consumeName();return{type:5,value:d,flags:a}}break;case BI:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),n_;break;case Gl:return this.consumeStringToken(Gl);case zl:return t_;case ja:return r_;case Ld:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),u_;break;case Os:if(jd(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case TI:return A_;case Hr:var x=t,g=this.peekCodePoint(0),f=this.peekCodePoint(1);if(jd(x,g,f))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Yl(x,g,f))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(g===Hr&&f===bI)return this.consumeCodePoint(),this.consumeCodePoint(),f_;break;case Go:if(jd(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Yp:if(this.peekCodePoint(0)===Ld)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===Ld&&(p=this.consumeCodePoint(),p===Yp))return this.consumeToken();if(p===$A)return this.consumeToken()}break;case RI:return g_;case OI:return x_;case EI:if(this.peekCodePoint(0)===CI&&this.peekCodePoint(1)===Hr&&this.peekCodePoint(2)===Hr)return this.consumeCodePoint(),this.consumeCodePoint(),h_;break;case FI:var w=this.peekCodePoint(0),y=this.peekCodePoint(1),E=this.peekCodePoint(2);if(Yl(w,y,E)){var d=this.consumeName();return{type:7,value:d}}break;case II:return p_;case go:if(Kn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case _I:return m_;case NI:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),s_;break;case SI:return l_;case UI:return c_;case VI:case zI:var F=this.peekCodePoint(0),I=this.peekCodePoint(1);return F===Os&&(mi(I)||I===Wl)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case qp:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),a_;if(this.peekCodePoint(0)===qp)return this.consumeCodePoint(),i_;break;case QI:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),o_;break;case $A:return Ef}return Xl(t)?(this.consumeWhiteSpace(),w_):Er(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):t0(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:jt(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();mi(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var A=!1;r===Wl&&t.length<6;)t.push(r),r=this.consumeCodePoint(),A=!0;if(A){var s=parseInt(jt.apply(void 0,t.map(function(g){return g===Wl?Ey:g})),16),a=parseInt(jt.apply(void 0,t.map(function(g){return g===Wl?Ny:g})),16);return{type:30,start:s,end:a}}var d=parseInt(jt.apply(void 0,t),16);if(this.peekCodePoint(0)===Hr&&mi(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var x=[];mi(r)&&x.length<6;)x.push(r),r=this.consumeCodePoint();var a=parseInt(jt.apply(void 0,x),16);return{type:30,start:d,end:a}}else return{type:30,start:d,end:d}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===zl?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zl?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===$A)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Gl||r===Vl){var A=this.consumeStringToken(this.consumeCodePoint());return A.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===$A||this.peekCodePoint(0)===ja)?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),ql)}for(;;){var s=this.consumeCodePoint();if(s===$A||s===ja)return{type:22,value:jt.apply(void 0,t)};if(Xl(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===$A||this.peekCodePoint(0)===ja?(this.consumeCodePoint(),{type:22,value:jt.apply(void 0,t)}):(this.consumeBadUrlRemnants(),ql);if(s===Vl||s===Gl||s===zl||JI(s))return this.consumeBadUrlRemnants(),ql;if(s===go)if(Kn(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ql;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;Xl(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===ja||t===$A)return;Kn(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,A="";t>0;){var s=Math.min(r,t);A+=jt.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),A},e.prototype.consumeStringToken=function(t){var r="",A=0;do{var s=this._value[A];if(s===$A||s===void 0||s===t)return r+=this.consumeStringSlice(A),{type:0,value:r};if(s===e0)return this._value.splice(0,A),d_;if(s===go){var a=this._value[A+1];a!==$A&&a!==void 0&&(a===e0?(r+=this.consumeStringSlice(A),A=-1,this._value.shift()):Kn(s,a)&&(r+=this.consumeStringSlice(A),r+=jt(this.consumeEscapedCodePoint()),A=-1))}A++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=tl,A=this.peekCodePoint(0);for((A===Os||A===Hr)&&t.push(this.consumeCodePoint());Er(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(A===Go&&Er(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Xp;Er(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((A===_y||A===Fy)&&((s===Os||s===Hr)&&Er(a)||Er(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Xp;Er(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[e_(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],A=t[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Yl(s,a,d)){var x=this.consumeName();return{type:15,number:r,flags:A,unit:x}}return s===yI?(this.consumeCodePoint(),{type:16,number:r,flags:A}):{type:17,number:r,flags:A}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(mi(t)){for(var r=jt(t);mi(this.peekCodePoint(0))&&r.length<6;)r+=jt(this.consumeCodePoint());Xl(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(r,16);return A===0||XI(A)||A>1114111?$p:A}return t===$A?$p:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(Zp(r))t+=jt(r);else if(Kn(r,this.peekCodePoint(0)))t+=jt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Uy=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new Sy;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},A=this.consumeToken();;){if(A.type===32||y_(A,t))return r;this.reconsumeToken(A),r.values.push(this.consumeComponentValue()),A=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var A=this.consumeToken();if(A.type===32||A.type===3)return r;this.reconsumeToken(A),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Ef:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),rl=function(e){return e.type===15},ga=function(e){return e.type===17},ot=function(e){return e.type===20},B_=function(e){return e.type===0},bf=function(e,t){return ot(e)&&e.value===t},Qy=function(e){return e.type!==31},ia=function(e){return e.type!==31&&e.type!==4},nn=function(e){var t=[],r=[];return e.forEach(function(A){if(A.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}A.type!==31&&r.push(A)}),r.length&&t.push(r),t},y_=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},hs=function(e){return e.type===17||e.type===15},Kt=function(e){return e.type===16||hs(e)},Dy=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},xr={type:17,number:0,flags:tl},q1={type:16,number:50,flags:tl},Zn={type:16,number:100,flags:tl},qa=function(e,t,r){var A=e[0],s=e[1];return[ht(A,t),ht(typeof s<"u"?s:A,r)]},ht=function(e,t){if(e.type===16)return e.number/100*t;if(rl(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Ty="deg",Ry="grad",Oy="rad",ky="turn",K0={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Ty:return Math.PI*t.number/180;case Ry:return Math.PI/200*t.number;case Oy:return t.number;case ky:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Ly=function(e){return e.type===15&&(e.unit===Ty||e.unit===Ry||e.unit===Oy||e.unit===ky)},jy=function(e){var t=e.filter(ot).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xr,xr];case"to top":case"bottom":return BA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xr,Zn];case"to right":case"left":return BA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zn,Zn];case"to bottom":case"top":return BA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zn,xr];case"to left":case"right":return BA(270)}return 0},BA=function(e){return Math.PI*e/180},ls={name:"color",parse:function(e,t){if(t.type===18){var r=v_[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var A=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return Jn(parseInt(A+A,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(t.value.length===4){var A=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3),d=t.value.substring(3,4);return Jn(parseInt(A+A,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(d+d,16)/255)}if(t.value.length===6){var A=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6);return Jn(parseInt(A,16),parseInt(s,16),parseInt(a,16),1)}if(t.value.length===8){var A=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),d=t.value.substring(6,8);return Jn(parseInt(A,16),parseInt(s,16),parseInt(a,16),parseInt(d,16)/255)}}if(t.type===20){var x=pn[t.value.toUpperCase()];if(typeof x<"u")return x}return pn.TRANSPARENT}},cs=function(e){return(255&e)===0},tr=function(e){var t=255&e,r=255&e>>8,A=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+A+","+r+","+t/255+")":"rgb("+s+","+A+","+r+")"},Jn=function(e,t,r,A){return(e<<24|t<<16|r<<8|Math.round(A*255)<<0)>>>0},Jp=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},em=function(e,t){var r=t.filter(ia);if(r.length===3){var A=r.map(Jp),s=A[0],a=A[1],d=A[2];return Jn(s,a,d,1)}if(r.length===4){var x=r.map(Jp),s=x[0],a=x[1],d=x[2],g=x[3];return Jn(s,a,d,g)}return 0};function Md(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var tm=function(e,t){var r=t.filter(ia),A=r[0],s=r[1],a=r[2],d=r[3],x=(A.type===17?BA(A.number):K0.parse(e,A))/(Math.PI*2),g=Kt(s)?s.number/100:0,f=Kt(a)?a.number/100:0,p=typeof d<"u"&&Kt(d)?ht(d,1):1;if(g===0)return Jn(f*255,f*255,f*255,1);var w=f<=.5?f*(g+1):f+g-f*g,y=f*2-w,E=Md(y,w,x+1/3),F=Md(y,w,x),I=Md(y,w,x-1/3);return Jn(E*255,F*255,I*255,p)},v_={hsl:tm,hsla:tm,rgb:em,rgba:em},xo=function(e,t){return ls.parse(e,Uy.create(t).parseComponentValue())},pn={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},C_={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(ot(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},E_={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},V0=function(e,t){var r=ls.parse(e,t[0]),A=t[1];return A&&Kt(A)?{color:r,stop:A}:{color:r,stop:null}},rm=function(e,t){var r=e[0],A=e[e.length-1];r.stop===null&&(r.stop=xr),A.stop===null&&(A.stop=Zn);for(var s=[],a=0,d=0;d<e.length;d++){var x=e[d].stop;if(x!==null){var g=ht(x,t);g>a?s.push(g):s.push(a),a=g}else s.push(null)}for(var f=null,d=0;d<s.length;d++){var p=s[d];if(p===null)f===null&&(f=d);else if(f!==null){for(var w=d-f,y=s[f-1],E=(p-y)/(w+1),F=1;F<=w;F++)s[f+F-1]=E*F;f=null}}return e.map(function(I,U){var _=I.color;return{color:_,stop:Math.max(Math.min(1,s[U]/t),0)}})},b_=function(e,t,r){var A=t/2,s=r/2,a=ht(e[0],t)-A,d=s-ht(e[1],r);return(Math.atan2(d,a)+Math.PI*2)%(Math.PI*2)},F_=function(e,t,r){var A=typeof e=="number"?e:b_(e,t,r),s=Math.abs(t*Math.sin(A))+Math.abs(r*Math.cos(A)),a=t/2,d=r/2,x=s/2,g=Math.sin(A-Math.PI/2)*x,f=Math.cos(A-Math.PI/2)*x;return[s,a-f,a+f,d-g,d+g]},QA=function(e,t){return Math.sqrt(e*e+t*t)},Am=function(e,t,r,A,s){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(d,x){var g=x[0],f=x[1],p=QA(r-g,A-f);return(s?p<d.optimumDistance:p>d.optimumDistance)?{optimumCorner:x,optimumDistance:p}:d},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},I_=function(e,t,r,A,s){var a=0,d=0;switch(e.size){case 0:e.shape===0?a=d=Math.min(Math.abs(t),Math.abs(t-A),Math.abs(r),Math.abs(r-s)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-A)),d=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)a=d=Math.min(QA(t,r),QA(t,r-s),QA(t-A,r),QA(t-A,r-s));else if(e.shape===1){var x=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-A)),g=Am(A,s,t,r,!0),f=g[0],p=g[1];a=QA(f-t,(p-r)/x),d=x*a}break;case 1:e.shape===0?a=d=Math.max(Math.abs(t),Math.abs(t-A),Math.abs(r),Math.abs(r-s)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-A)),d=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)a=d=Math.max(QA(t,r),QA(t,r-s),QA(t-A,r),QA(t-A,r-s));else if(e.shape===1){var x=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-A)),w=Am(A,s,t,r,!1),f=w[0],p=w[1];a=QA(f-t,(p-r)/x),d=x*a}break}return Array.isArray(e.size)&&(a=ht(e.size[0],A),d=e.size.length===2?ht(e.size[1],s):a),[a,d]},__=function(e,t){var r=BA(180),A=[];return nn(t).forEach(function(s,a){if(a===0){var d=s[0];if(d.type===20&&d.value==="to"){r=jy(s);return}else if(Ly(d)){r=K0.parse(e,d);return}}var x=V0(e,s);A.push(x)}),{angle:r,stops:A,type:1}},$l=function(e,t){var r=BA(180),A=[];return nn(t).forEach(function(s,a){if(a===0){var d=s[0];if(d.type===20&&["top","left","right","bottom"].indexOf(d.value)!==-1){r=jy(s);return}else if(Ly(d)){r=(K0.parse(e,d)+BA(270))%BA(360);return}}var x=V0(e,s);A.push(x)}),{angle:r,stops:A,type:1}},N_=function(e,t){var r=BA(180),A=[],s=1,a=0,d=3,x=[];return nn(t).forEach(function(g,f){var p=g[0];if(f===0){if(ot(p)&&p.value==="linear"){s=1;return}else if(ot(p)&&p.value==="radial"){s=2;return}}if(p.type===18){if(p.name==="from"){var w=ls.parse(e,p.values[0]);A.push({stop:xr,color:w})}else if(p.name==="to"){var w=ls.parse(e,p.values[0]);A.push({stop:Zn,color:w})}else if(p.name==="color-stop"){var y=p.values.filter(ia);if(y.length===2){var w=ls.parse(e,y[1]),E=y[0];ga(E)&&A.push({stop:{type:16,number:E.number*100,flags:E.flags},color:w})}}}}),s===1?{angle:(r+BA(180))%BA(360),stops:A,type:s}:{size:d,shape:a,stops:A,position:x,type:s}},My="closest-side",Hy="farthest-side",Py="closest-corner",Ky="farthest-corner",Vy="circle",Gy="ellipse",zy="cover",Wy="contain",S_=function(e,t){var r=0,A=3,s=[],a=[];return nn(t).forEach(function(d,x){var g=!0;if(x===0){var f=!1;g=d.reduce(function(w,y){if(f)if(ot(y))switch(y.value){case"center":return a.push(q1),w;case"top":case"left":return a.push(xr),w;case"right":case"bottom":return a.push(Zn),w}else(Kt(y)||hs(y))&&a.push(y);else if(ot(y))switch(y.value){case Vy:return r=0,!1;case Gy:return r=1,!1;case"at":return f=!0,!1;case My:return A=0,!1;case zy:case Hy:return A=1,!1;case Wy:case Py:return A=2,!1;case Ky:return A=3,!1}else if(hs(y)||Kt(y))return Array.isArray(A)||(A=[]),A.push(y),!1;return w},g)}if(g){var p=V0(e,d);s.push(p)}}),{size:A,shape:r,stops:s,position:a,type:2}},Zl=function(e,t){var r=0,A=3,s=[],a=[];return nn(t).forEach(function(d,x){var g=!0;if(x===0?g=d.reduce(function(p,w){if(ot(w))switch(w.value){case"center":return a.push(q1),!1;case"top":case"left":return a.push(xr),!1;case"right":case"bottom":return a.push(Zn),!1}else if(Kt(w)||hs(w))return a.push(w),!1;return p},g):x===1&&(g=d.reduce(function(p,w){if(ot(w))switch(w.value){case Vy:return r=0,!1;case Gy:return r=1,!1;case Wy:case My:return A=0,!1;case Hy:return A=1,!1;case Py:return A=2,!1;case zy:case Ky:return A=3,!1}else if(hs(w)||Kt(w))return Array.isArray(A)||(A=[]),A.push(w),!1;return p},g)),g){var f=V0(e,d);s.push(f)}}),{size:A,shape:r,stops:s,position:a,type:2}},U_=function(e){return e.type===1},Q_=function(e){return e.type===2},$1={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var A=Xy[t.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return A(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function D_(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Xy[e.name])}var Xy={"linear-gradient":__,"-moz-linear-gradient":$l,"-ms-linear-gradient":$l,"-o-linear-gradient":$l,"-webkit-linear-gradient":$l,"radial-gradient":S_,"-moz-radial-gradient":Zl,"-ms-radial-gradient":Zl,"-o-radial-gradient":Zl,"-webkit-radial-gradient":Zl,"-webkit-gradient":N_},T_={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(A){return ia(A)&&D_(A)}).map(function(A){return $1.parse(e,A)})}},R_={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(ot(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},O_={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return nn(t).map(function(r){return r.filter(Kt)}).map(Dy)}},k_={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return nn(t).map(function(r){return r.filter(ot).map(function(A){return A.value}).join(" ")}).map(L_)}},L_=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Xi;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Xi||(Xi={}));var j_={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return nn(t).map(function(r){return r.filter(M_)})}},M_=function(e){return ot(e)||Kt(e)},G0=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},H_=G0("top"),P_=G0("right"),K_=G0("bottom"),V_=G0("left"),z0=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Dy(r.filter(Kt))}}},G_=z0("top-left"),z_=z0("top-right"),W_=z0("bottom-right"),X_=z0("bottom-left"),W0=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Y_=W0("top"),q_=W0("right"),$_=W0("bottom"),Z_=W0("left"),X0=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return rl(r)?r.number:0}}},J_=X0("top"),eN=X0("right"),tN=X0("bottom"),rN=X0("left"),AN={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nN={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},sN={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(ot).reduce(function(r,A){return r|iN(A.value)},0)}},iN=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},aN={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},oN={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},r0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(r0||(r0={}));var lN={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return r0.STRICT;case"normal":default:return r0.NORMAL}}},cN={name:"line-height",initialValue:"normal",prefix:!1,type:4},nm=function(e,t){return ot(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Kt(e)?ht(e,t):t},uN={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:$1.parse(e,t)}},dN={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Ff={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Y0=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},hN=Y0("top"),fN=Y0("right"),gN=Y0("bottom"),xN=Y0("left"),pN={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(ot).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},mN={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},q0=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},wN=q0("top"),BN=q0("right"),yN=q0("bottom"),vN=q0("left"),CN={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},EN={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},bN={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&bf(t[0],"none")?[]:nn(t).map(function(r){for(var A={color:pn.TRANSPARENT,offsetX:xr,offsetY:xr,blur:xr},s=0,a=0;a<r.length;a++){var d=r[a];hs(d)?(s===0?A.offsetX=d:s===1?A.offsetY=d:A.blur=d,s++):A.color=ls.parse(e,d)}return A})}},FN={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},IN={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=SN[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},_N=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},NN=function(e){var t=e.filter(function(g){return g.type===17}).map(function(g){return g.number}),r=t[0],A=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var d=t[12],x=t[13];return t[14],t[15],t.length===16?[r,A,s,a,d,x]:null},SN={matrix:_N,matrix3d:NN},sm={type:16,number:50,flags:tl},UN=[sm,sm],QN={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Kt);return r.length!==2?UN:[r[0],r[1]]}},DN={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},po;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(po||(po={}));var TN={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return po.BREAK_ALL;case"keep-all":return po.KEEP_ALL;case"normal":default:return po.NORMAL}}},RN={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(ga(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Yy={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},ON={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return ga(t)?t.number:1}},kN={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},LN={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(ot).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},jN={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],A=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:A.push(r.join(" ")),r.length=0;break}}),r.length&&A.push(r.join(" ")),A.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},MN={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},HN={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(ga(t))return t.number;if(ot(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},PN={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(ot).map(function(r){return r.value})}},KN={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Xt=function(e,t){return(e&t)!==0},VN={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},GN={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var A=[],s=t.filter(Qy),a=0;a<s.length;a++){var d=s[a],x=s[a+1];if(d.type===20){var g=x&&ga(x)?x.number:1;A.push({counter:d.value,increment:g})}}return A}},zN={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],A=t.filter(Qy),s=0;s<A.length;s++){var a=A[s],d=A[s+1];if(ot(a)&&a.value!=="none"){var x=d&&ga(d)?d.number:0;r.push({counter:a.value,reset:x})}}return r}},WN={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(rl).map(function(r){return Yy.parse(e,r)})}},XN={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var A=[],s=t.filter(B_);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var d=s[a].value,x=s[a+1].value;A.push({open:d,close:x})}return A}},im=function(e,t,r){if(!e)return"";var A=e[Math.min(t,e.length-1)];return A?r?A.open:A.close:""},YN={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&bf(t[0],"none")?[]:nn(t).map(function(r){for(var A={color:255,offsetX:xr,offsetY:xr,blur:xr,spread:xr,inset:!1},s=0,a=0;a<r.length;a++){var d=r[a];bf(d,"inset")?A.inset=!0:hs(d)?(s===0?A.offsetX=d:s===1?A.offsetY=d:s===2?A.blur=d:A.spread=d,s++):A.color=ls.parse(e,d)}return A})}},qN={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],A=[];return t.filter(ot).forEach(function(s){switch(s.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2);break}}),r.forEach(function(s){A.indexOf(s)===-1&&A.push(s)}),A}},$N={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ZN={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return rl(t)?t.number:0}},JN=function(){function e(t,r){var A,s;this.animationDuration=Ee(t,WN,r.animationDuration),this.backgroundClip=Ee(t,C_,r.backgroundClip),this.backgroundColor=Ee(t,E_,r.backgroundColor),this.backgroundImage=Ee(t,T_,r.backgroundImage),this.backgroundOrigin=Ee(t,R_,r.backgroundOrigin),this.backgroundPosition=Ee(t,O_,r.backgroundPosition),this.backgroundRepeat=Ee(t,k_,r.backgroundRepeat),this.backgroundSize=Ee(t,j_,r.backgroundSize),this.borderTopColor=Ee(t,H_,r.borderTopColor),this.borderRightColor=Ee(t,P_,r.borderRightColor),this.borderBottomColor=Ee(t,K_,r.borderBottomColor),this.borderLeftColor=Ee(t,V_,r.borderLeftColor),this.borderTopLeftRadius=Ee(t,G_,r.borderTopLeftRadius),this.borderTopRightRadius=Ee(t,z_,r.borderTopRightRadius),this.borderBottomRightRadius=Ee(t,W_,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ee(t,X_,r.borderBottomLeftRadius),this.borderTopStyle=Ee(t,Y_,r.borderTopStyle),this.borderRightStyle=Ee(t,q_,r.borderRightStyle),this.borderBottomStyle=Ee(t,$_,r.borderBottomStyle),this.borderLeftStyle=Ee(t,Z_,r.borderLeftStyle),this.borderTopWidth=Ee(t,J_,r.borderTopWidth),this.borderRightWidth=Ee(t,eN,r.borderRightWidth),this.borderBottomWidth=Ee(t,tN,r.borderBottomWidth),this.borderLeftWidth=Ee(t,rN,r.borderLeftWidth),this.boxShadow=Ee(t,YN,r.boxShadow),this.color=Ee(t,AN,r.color),this.direction=Ee(t,nN,r.direction),this.display=Ee(t,sN,r.display),this.float=Ee(t,aN,r.cssFloat),this.fontFamily=Ee(t,jN,r.fontFamily),this.fontSize=Ee(t,MN,r.fontSize),this.fontStyle=Ee(t,KN,r.fontStyle),this.fontVariant=Ee(t,PN,r.fontVariant),this.fontWeight=Ee(t,HN,r.fontWeight),this.letterSpacing=Ee(t,oN,r.letterSpacing),this.lineBreak=Ee(t,lN,r.lineBreak),this.lineHeight=Ee(t,cN,r.lineHeight),this.listStyleImage=Ee(t,uN,r.listStyleImage),this.listStylePosition=Ee(t,dN,r.listStylePosition),this.listStyleType=Ee(t,Ff,r.listStyleType),this.marginTop=Ee(t,hN,r.marginTop),this.marginRight=Ee(t,fN,r.marginRight),this.marginBottom=Ee(t,gN,r.marginBottom),this.marginLeft=Ee(t,xN,r.marginLeft),this.opacity=Ee(t,ON,r.opacity);var a=Ee(t,pN,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Ee(t,mN,r.overflowWrap),this.paddingTop=Ee(t,wN,r.paddingTop),this.paddingRight=Ee(t,BN,r.paddingRight),this.paddingBottom=Ee(t,yN,r.paddingBottom),this.paddingLeft=Ee(t,vN,r.paddingLeft),this.paintOrder=Ee(t,qN,r.paintOrder),this.position=Ee(t,EN,r.position),this.textAlign=Ee(t,CN,r.textAlign),this.textDecorationColor=Ee(t,kN,(A=r.textDecorationColor)!==null&&A!==void 0?A:r.color),this.textDecorationLine=Ee(t,LN,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=Ee(t,bN,r.textShadow),this.textTransform=Ee(t,FN,r.textTransform),this.transform=Ee(t,IN,r.transform),this.transformOrigin=Ee(t,QN,r.transformOrigin),this.visibility=Ee(t,DN,r.visibility),this.webkitTextStrokeColor=Ee(t,$N,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ee(t,ZN,r.webkitTextStrokeWidth),this.wordBreak=Ee(t,TN,r.wordBreak),this.zIndex=Ee(t,RN,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return cs(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Xt(this.display,4)||Xt(this.display,33554432)||Xt(this.display,268435456)||Xt(this.display,536870912)||Xt(this.display,67108864)||Xt(this.display,134217728)},e}(),eS=function(){function e(t,r){this.content=Ee(t,VN,r.content),this.quotes=Ee(t,XN,r.quotes)}return e}(),am=function(){function e(t,r){this.counterIncrement=Ee(t,GN,r.counterIncrement),this.counterReset=Ee(t,zN,r.counterReset)}return e}(),Ee=function(e,t,r){var A=new Sy,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;A.write(s);var a=new Uy(A.read());switch(t.type){case 2:var d=a.parseComponentValue();return t.parse(e,ot(d)?d.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return K0.parse(e,a.parseComponentValue());case"color":return ls.parse(e,a.parseComponentValue());case"image":return $1.parse(e,a.parseComponentValue());case"length":var x=a.parseComponentValue();return hs(x)?x:xr;case"length-percentage":var g=a.parseComponentValue();return Kt(g)?g:xr;case"time":return Yy.parse(e,a.parseComponentValue())}break}},tS="data-html2canvas-debug",rS=function(e){var t=e.getAttribute(tS);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},If=function(e,t){var r=rS(e);return r===1||t===r},sn=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,If(r,3))debugger;this.styles=new JN(t,window.getComputedStyle(r,null)),Sf(r)&&(this.styles.animationDuration.some(function(A){return A>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=H0(this.context,r),If(r,4)&&(this.flags|=16)}return e}(),AS="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",om="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$a=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jl=0;Jl<om.length;Jl++)$a[om.charCodeAt(Jl)]=Jl;var nS=function(e){var t=e.length*.75,r=e.length,A,s=0,a,d,x,g;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),p=Array.isArray(f)?f:new Uint8Array(f);for(A=0;A<r;A+=4)a=$a[e.charCodeAt(A)],d=$a[e.charCodeAt(A+1)],x=$a[e.charCodeAt(A+2)],g=$a[e.charCodeAt(A+3)],p[s++]=a<<2|d>>4,p[s++]=(d&15)<<4|x>>2,p[s++]=(x&3)<<6|g&63;return f},sS=function(e){for(var t=e.length,r=[],A=0;A<t;A+=2)r.push(e[A+1]<<8|e[A]);return r},iS=function(e){for(var t=e.length,r=[],A=0;A<t;A+=4)r.push(e[A+3]<<24|e[A+2]<<16|e[A+1]<<8|e[A]);return r},Hs=5,Z1=11,Hd=2,aS=Z1-Hs,qy=65536>>Hs,oS=1<<Hs,Pd=oS-1,lS=1024>>Hs,cS=qy+lS,uS=cS,dS=32,hS=uS+dS,fS=65536>>Z1,gS=1<<aS,xS=gS-1,lm=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},pS=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},mS=function(e,t){var r=nS(e),A=Array.isArray(r)?iS(r):new Uint32Array(r),s=Array.isArray(r)?sS(r):new Uint16Array(r),a=24,d=lm(s,a/2,A[4]/2),x=A[5]===2?lm(s,(a+A[4])/2):pS(A,Math.ceil((a+A[4])/4));return new wS(A[0],A[1],A[2],A[3],d,x)},wS=function(){function e(t,r,A,s,a,d){this.initialValue=t,this.errorValue=r,this.highStart=A,this.highValueIndex=s,this.index=a,this.data=d}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Hs],r=(r<<Hd)+(t&Pd),this.data[r];if(t<=65535)return r=this.index[qy+(t-55296>>Hs)],r=(r<<Hd)+(t&Pd),this.data[r];if(t<this.highStart)return r=hS-fS+(t>>Z1),r=this.index[r],r+=t>>Hs&xS,r=this.index[r],r=(r<<Hd)+(t&Pd),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),cm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BS=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ec=0;ec<cm.length;ec++)BS[cm.charCodeAt(ec)]=ec;var yS=1,Kd=2,Vd=3,um=4,dm=5,vS=7,hm=8,Gd=9,zd=10,fm=11,gm=12,xm=13,pm=14,Wd=15,CS=function(e){for(var t=[],r=0,A=e.length;r<A;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<A){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},ES=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var A=[],s=-1,a="";++s<r;){var d=e[s];d<=65535?A.push(d):(d-=65536,A.push((d>>10)+55296,d%1024+56320)),(s+1===r||A.length>16384)&&(a+=String.fromCharCode.apply(String,A),A.length=0)}return a},bS=mS(AS),fA="×",Xd="÷",FS=function(e){return bS.get(e)},IS=function(e,t,r){var A=r-2,s=t[A],a=t[r-1],d=t[r];if(a===Kd&&d===Vd)return fA;if(a===Kd||a===Vd||a===um||d===Kd||d===Vd||d===um)return Xd;if(a===hm&&[hm,Gd,fm,gm].indexOf(d)!==-1||(a===fm||a===Gd)&&(d===Gd||d===zd)||(a===gm||a===zd)&&d===zd||d===xm||d===dm||d===vS||a===yS)return fA;if(a===xm&&d===pm){for(;s===dm;)s=t[--A];if(s===pm)return fA}if(a===Wd&&d===Wd){for(var x=0;s===Wd;)x++,s=t[--A];if(x%2===0)return fA}return Xd},_S=function(e){var t=CS(e),r=t.length,A=0,s=0,a=t.map(FS);return{next:function(){if(A>=r)return{done:!0,value:null};for(var d=fA;A<r&&(d=IS(t,a,++A))===fA;);if(d!==fA||A===r){var x=ES.apply(null,t.slice(s,A));return s=A,{value:x,done:!1}}return{done:!0,value:null}}}},NS=function(e){for(var t=_S(e),r=[],A;!(A=t.next()).done;)A.value&&r.push(A.value.slice());return r},SS=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var A=e.createElement("boundtest");A.style.height=t+"px",A.style.display="block",e.body.appendChild(A),r.selectNode(A);var s=r.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(A),a===t)return!0}}return!1},US=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var A=t.firstChild,s=P0(A.data).map(function(g){return jt(g)}),a=0,d={},x=s.every(function(g,f){r.setStart(A,a),r.setEnd(A,a+g.length);var p=r.getBoundingClientRect();a+=g.length;var w=p.x>d.x||p.y>d.y;return d=p,f===0?!0:w});return e.body.removeChild(t),x},QS=function(){return typeof new Image().crossOrigin<"u"},DS=function(){return typeof new XMLHttpRequest().responseType=="string"},TS=function(e){var t=new Image,r=e.createElement("canvas"),A=r.getContext("2d");if(!A)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},mm=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},RS=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var A=t.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,r,r);var s=new Image,a=t.toDataURL();s.src=a;var d=_f(r,r,0,0,s);return A.fillStyle="red",A.fillRect(0,0,r,r),wm(d).then(function(x){A.drawImage(x,0,0);var g=A.getImageData(0,0,r,r).data;A.fillStyle="red",A.fillRect(0,0,r,r);var f=e.createElement("div");return f.style.backgroundImage="url("+a+")",f.style.height=r+"px",mm(g)?wm(_f(r,r,0,0,f)):Promise.reject(!1)}).then(function(x){return A.drawImage(x,0,0),mm(A.getImageData(0,0,r,r).data)}).catch(function(){return!1})},_f=function(e,t,r,A,s){var a="http://www.w3.org/2000/svg",d=document.createElementNS(a,"svg"),x=document.createElementNS(a,"foreignObject");return d.setAttributeNS(null,"width",e.toString()),d.setAttributeNS(null,"height",t.toString()),x.setAttributeNS(null,"width","100%"),x.setAttributeNS(null,"height","100%"),x.setAttributeNS(null,"x",r.toString()),x.setAttributeNS(null,"y",A.toString()),x.setAttributeNS(null,"externalResourcesRequired","true"),d.appendChild(x),x.appendChild(s),d},wm=function(e){return new Promise(function(t,r){var A=new Image;A.onload=function(){return t(A)},A.onerror=r,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},gr={get SUPPORT_RANGE_BOUNDS(){var e=SS(document);return Object.defineProperty(gr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=gr.SUPPORT_RANGE_BOUNDS&&US(document);return Object.defineProperty(gr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=TS(document);return Object.defineProperty(gr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?RS(document):Promise.resolve(!1);return Object.defineProperty(gr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=QS();return Object.defineProperty(gr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=DS();return Object.defineProperty(gr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(gr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(gr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},mo=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),OS=function(e,t,r,A){var s=jS(t,r),a=[],d=0;return s.forEach(function(x){if(r.textDecorationLine.length||x.trim().length>0)if(gr.SUPPORT_RANGE_BOUNDS){var g=Bm(A,d,x.length).getClientRects();if(g.length>1){var f=J1(x),p=0;f.forEach(function(y){a.push(new mo(y,Cn.fromDOMRectList(e,Bm(A,p+d,y.length).getClientRects()))),p+=y.length})}else a.push(new mo(x,Cn.fromDOMRectList(e,g)))}else{var w=A.splitText(x.length);a.push(new mo(x,kS(e,A))),A=w}else gr.SUPPORT_RANGE_BOUNDS||(A=A.splitText(x.length));d+=x.length}),a},kS=function(e,t){var r=t.ownerDocument;if(r){var A=r.createElement("html2canvaswrapper");A.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(A,t);var a=H0(e,A);return A.firstChild&&s.replaceChild(A.firstChild,A),a}}return Cn.EMPTY},Bm=function(e,t,r){var A=e.ownerDocument;if(!A)throw new Error("Node has no owner document");var s=A.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},J1=function(e){if(gr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return NS(e)},LS=function(e,t){if(gr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(A){return A.segment})}return HS(e,t)},jS=function(e,t){return t.letterSpacing!==0?J1(e):LS(e,t)},MS=[32,160,4961,65792,65793,4153,4241],HS=function(e,t){for(var r=fI(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),A=[],s,a=function(){if(s.value){var d=s.value.slice(),x=P0(d),g="";x.forEach(function(f){MS.indexOf(f)===-1?g+=jt(f):(g.length&&A.push(g),A.push(jt(f)),g="")}),g.length&&A.push(g)}};!(s=r.next()).done;)a();return A},PS=function(){function e(t,r,A){this.text=KS(r.data,A.textTransform),this.textBounds=OS(t,this.text,A,r)}return e}(),KS=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(VS,GS);case 2:return e.toUpperCase();default:return e}},VS=/(^|\s|:|-|\(|\))([a-z])/g,GS=function(e,t,r){return e.length>0?t+r.toUpperCase():e},$y=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;return s.src=A.currentSrc||A.src,s.intrinsicWidth=A.naturalWidth,s.intrinsicHeight=A.naturalHeight,s.context.cache.addImage(s.src),s}return t}(sn),Zy=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;return s.canvas=A,s.intrinsicWidth=A.width,s.intrinsicHeight=A.height,s}return t}(sn),Jy=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this,a=new XMLSerializer,d=H0(r,A);return A.setAttribute("width",d.width+"px"),A.setAttribute("height",d.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(A)),s.intrinsicWidth=A.width.baseVal.value,s.intrinsicHeight=A.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(sn),ev=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;return s.value=A.value,s}return t}(sn),Nf=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;return s.start=A.start,s.reversed=typeof A.reversed=="boolean"&&A.reversed===!0,s}return t}(sn),zS=[{type:15,flags:0,unit:"px",number:3}],WS=[{type:16,flags:0,number:50}],XS=function(e){return e.width>e.height?new Cn(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Cn(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},YS=function(e){var t=e.type===qS?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},A0="checkbox",n0="radio",qS="password",ym=707406591,eg=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;switch(s.type=A.type.toLowerCase(),s.checked=A.checked,s.value=YS(A),(s.type===A0||s.type===n0)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=XS(s.bounds)),s.type){case A0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=zS;break;case n0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=WS;break}return s}return t}(sn),tv=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this,a=A.options[A.selectedIndex||0];return s.value=a&&a.text||"",s}return t}(sn),rv=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;return s.value=A.value,s}return t}(sn),Av=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;s.src=A.src,s.width=parseInt(A.width,10)||0,s.height=parseInt(A.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){s.tree=sv(r,A.contentWindow.document.documentElement);var a=A.contentWindow.document.documentElement?xo(r,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):pn.TRANSPARENT,d=A.contentWindow.document.body?xo(r,getComputedStyle(A.contentWindow.document.body).backgroundColor):pn.TRANSPARENT;s.backgroundColor=cs(a)?cs(d)?s.styles.backgroundColor:d:a}}catch{}return s}return t}(sn),$S=["OL","UL","MENU"],yc=function(e,t,r,A){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,iv(s)&&s.data.trim().length>0)r.textNodes.push(new PS(e,s,r.styles));else if(ji(s))if(cv(s)&&s.assignedNodes)s.assignedNodes().forEach(function(x){return yc(e,x,r,A)});else{var d=nv(e,s);d.styles.isVisible()&&(ZS(s,d,A)?d.flags|=4:JS(d.styles)&&(d.flags|=2),$S.indexOf(s.tagName)!==-1&&(d.flags|=8),r.elements.push(d),s.slot,s.shadowRoot?yc(e,s.shadowRoot,d,A):!s0(s)&&!av(s)&&!i0(s)&&yc(e,s,d,A))}},nv=function(e,t){return Uf(t)?new $y(e,t):ov(t)?new Zy(e,t):av(t)?new Jy(e,t):e5(t)?new ev(e,t):t5(t)?new Nf(e,t):r5(t)?new eg(e,t):i0(t)?new tv(e,t):s0(t)?new rv(e,t):lv(t)?new Av(e,t):new sn(e,t)},sv=function(e,t){var r=nv(e,t);return r.flags|=4,yc(e,t,r,r),r},ZS=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||tg(e)&&r.styles.isTransparent()},JS=function(e){return e.isPositioned()||e.isFloating()},iv=function(e){return e.nodeType===Node.TEXT_NODE},ji=function(e){return e.nodeType===Node.ELEMENT_NODE},Sf=function(e){return ji(e)&&typeof e.style<"u"&&!vc(e)},vc=function(e){return typeof e.className=="object"},e5=function(e){return e.tagName==="LI"},t5=function(e){return e.tagName==="OL"},r5=function(e){return e.tagName==="INPUT"},A5=function(e){return e.tagName==="HTML"},av=function(e){return e.tagName==="svg"},tg=function(e){return e.tagName==="BODY"},ov=function(e){return e.tagName==="CANVAS"},vm=function(e){return e.tagName==="VIDEO"},Uf=function(e){return e.tagName==="IMG"},lv=function(e){return e.tagName==="IFRAME"},Cm=function(e){return e.tagName==="STYLE"},n5=function(e){return e.tagName==="SCRIPT"},s0=function(e){return e.tagName==="TEXTAREA"},i0=function(e){return e.tagName==="SELECT"},cv=function(e){return e.tagName==="SLOT"},Em=function(e){return e.tagName.indexOf("-")>0},s5=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(A){return r.counters[A].pop()})},e.prototype.parse=function(t){var r=this,A=t.counterIncrement,s=t.counterReset,a=!0;A!==null&&A.forEach(function(x){var g=r.counters[x.counter];g&&x.increment!==0&&(a=!1,g.length||g.push(1),g[Math.max(0,g.length-1)]+=x.increment)});var d=[];return a&&s.forEach(function(x){var g=r.counters[x.counter];d.push(x.counter),g||(g=r.counters[x.counter]=[]),g.push(x.reset)}),d},e}(),bm={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fm={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},i5={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},a5={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},wi=function(e,t,r,A,s,a){return e<t||e>r?zo(e,s,a.length>0):A.integers.reduce(function(d,x,g){for(;e>=x;)e-=x,d+=A.values[g];return d},"")+a},uv=function(e,t,r,A){var s="";do r||e--,s=A(e)+s,e/=t;while(e*t>=t);return s},Lt=function(e,t,r,A,s){var a=r-t+1;return(e<0?"-":"")+(uv(Math.abs(e),a,A,function(d){return jt(Math.floor(d%a)+t)})+s)},Fs=function(e,t,r){r===void 0&&(r=". ");var A=t.length;return uv(Math.abs(e),A,!1,function(s){return t[Math.floor(s%A)]})+r},Ci=1,Ln=2,jn=4,Za=8,ln=function(e,t,r,A,s,a){if(e<-9999||e>9999)return zo(e,4,s.length>0);var d=Math.abs(e),x=s;if(d===0)return t[0]+x;for(var g=0;d>0&&g<=4;g++){var f=d%10;f===0&&Xt(a,Ci)&&x!==""?x=t[f]+x:f>1||f===1&&g===0||f===1&&g===1&&Xt(a,Ln)||f===1&&g===1&&Xt(a,jn)&&e>100||f===1&&g>1&&Xt(a,Za)?x=t[f]+(g>0?r[g-1]:"")+x:f===1&&g>0&&(x=r[g-1]+x),d=Math.floor(d/10)}return(e<0?A:"")+x},Im="十百千萬",_m="拾佰仟萬",Nm="マイナス",Yd="마이너스",zo=function(e,t,r){var A=r?". ":"",s=r?"、":"",a=r?", ":"",d=r?" ":"";switch(t){case 0:return"•"+d;case 1:return"◦"+d;case 2:return"◾"+d;case 5:var x=Lt(e,48,57,!0,A);return x.length<4?"0"+x:x;case 4:return Fs(e,"〇一二三四五六七八九",s);case 6:return wi(e,1,3999,bm,3,A).toLowerCase();case 7:return wi(e,1,3999,bm,3,A);case 8:return Lt(e,945,969,!1,A);case 9:return Lt(e,97,122,!1,A);case 10:return Lt(e,65,90,!1,A);case 11:return Lt(e,1632,1641,!0,A);case 12:case 49:return wi(e,1,9999,Fm,3,A);case 35:return wi(e,1,9999,Fm,3,A).toLowerCase();case 13:return Lt(e,2534,2543,!0,A);case 14:case 30:return Lt(e,6112,6121,!0,A);case 15:return Fs(e,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return Fs(e,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return ln(e,"零一二三四五六七八九",Im,"負",s,Ln|jn|Za);case 47:return ln(e,"零壹貳參肆伍陸柒捌玖",_m,"負",s,Ci|Ln|jn|Za);case 42:return ln(e,"零一二三四五六七八九",Im,"负",s,Ln|jn|Za);case 41:return ln(e,"零壹贰叁肆伍陆柒捌玖",_m,"负",s,Ci|Ln|jn|Za);case 26:return ln(e,"〇一二三四五六七八九","十百千万",Nm,s,0);case 25:return ln(e,"零壱弐参四伍六七八九","拾百千万",Nm,s,Ci|Ln|jn);case 31:return ln(e,"영일이삼사오육칠팔구","십백천만",Yd,a,Ci|Ln|jn);case 33:return ln(e,"零一二三四五六七八九","十百千萬",Yd,a,0);case 32:return ln(e,"零壹貳參四五六七八九","拾百千",Yd,a,Ci|Ln|jn);case 18:return Lt(e,2406,2415,!0,A);case 20:return wi(e,1,19999,a5,3,A);case 21:return Lt(e,2790,2799,!0,A);case 22:return Lt(e,2662,2671,!0,A);case 22:return wi(e,1,10999,i5,3,A);case 23:return Fs(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Fs(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Lt(e,3302,3311,!0,A);case 28:return Fs(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return Fs(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Lt(e,3792,3801,!0,A);case 37:return Lt(e,6160,6169,!0,A);case 38:return Lt(e,4160,4169,!0,A);case 39:return Lt(e,2918,2927,!0,A);case 40:return Lt(e,1776,1785,!0,A);case 43:return Lt(e,3046,3055,!0,A);case 44:return Lt(e,3174,3183,!0,A);case 45:return Lt(e,3664,3673,!0,A);case 46:return Lt(e,3872,3881,!0,A);case 3:default:return Lt(e,48,57,!0,A)}},dv="data-html2canvas-ignore",Sm=function(){function e(t,r,A){if(this.context=t,this.options=A,this.scrolledElements=[],this.referenceElement=r,this.counters=new s5,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var A=this,s=o5(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,d=t.defaultView.pageYOffset,x=s.contentWindow,g=x.document,f=u5(s).then(function(){return Nr(A,void 0,void 0,function(){var p,w;return Cr(this,function(y){switch(y.label){case 0:return this.scrolledElements.forEach(g5),x&&(x.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(x.scrollY!==r.top||x.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(x.scrollX-r.left,x.scrollY-r.top,0,0))),p=this.options.onclone,w=this.clonedReferenceElement,typeof w>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:g.fonts&&g.fonts.ready?[4,g.fonts.ready]:[3,2];case 1:y.sent(),y.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,c5(g)]:[3,4];case 3:y.sent(),y.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(g,w)}).then(function(){return s})]:[2,s]}})})});return g.open(),g.write(h5(document.doctype)+"<html></html>"),f5(this.referenceElement.ownerDocument,a,d),g.replaceChild(g.adoptNode(this.documentElement),g.documentElement),g.close(),f},e.prototype.createElementClone=function(t){if(If(t,2))debugger;if(ov(t))return this.createCanvasClone(t);if(vm(t))return this.createVideoClone(t);if(Cm(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return Uf(r)&&(Uf(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Em(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return qd(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var A=[].slice.call(r.cssRules,0).reduce(function(a,d){return d&&typeof d.cssText=="string"?a+d.cssText:a},""),s=t.cloneNode(!1);return s.textContent=A,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var A=t.ownerDocument.createElement("img");try{return A.src=t.toDataURL(),A}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var a=t.getContext("2d"),d=s.getContext("2d");if(d)if(!this.options.allowTaint&&a)d.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var x=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(x){var g=x.getContextAttributes();(g==null?void 0:g.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}d.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var A=r.getContext("2d");try{return A&&(A.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||A.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,A){(!ji(r)||!n5(r)&&!r.hasAttribute(dv)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!ji(r)||!Cm(r))&&t.appendChild(this.cloneNode(r,A))},e.prototype.cloneChildNodes=function(t,r,A){for(var s=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(ji(a)&&cv(a)&&typeof a.assignedNodes=="function"){var d=a.assignedNodes();d.length&&d.forEach(function(x){return s.appendChildNode(r,x,A)})}else this.appendChildNode(r,a,A)},e.prototype.cloneNode=function(t,r){if(iv(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var A=t.ownerDocument.defaultView;if(A&&ji(t)&&(Sf(t)||vc(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var a=A.getComputedStyle(t),d=A.getComputedStyle(t,":before"),x=A.getComputedStyle(t,":after");this.referenceElement===t&&Sf(s)&&(this.clonedReferenceElement=s),tg(s)&&m5(s);var g=this.counters.parse(new am(this.context,a)),f=this.resolvePseudoContent(t,s,d,wo.BEFORE);Em(t)&&(r=!0),vm(t)||this.cloneChildNodes(t,s,r),f&&s.insertBefore(f,s.firstChild);var p=this.resolvePseudoContent(t,s,x,wo.AFTER);return p&&s.appendChild(p),this.counters.pop(g),(a&&(this.options.copyStyles||vc(t))&&!lv(t)||r)&&qd(a,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(s0(t)||i0(t))&&(s0(s)||i0(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,A,s){var a=this;if(A){var d=A.content,x=r.ownerDocument;if(!(!x||!d||d==="none"||d==="-moz-alt-content"||A.display==="none")){this.counters.parse(new am(this.context,A));var g=new eS(this.context,A),f=x.createElement("html2canvaspseudoelement");qd(A,f),g.content.forEach(function(w){if(w.type===0)f.appendChild(x.createTextNode(w.value));else if(w.type===22){var y=x.createElement("img");y.src=w.value,y.style.opacity="1",f.appendChild(y)}else if(w.type===18){if(w.name==="attr"){var E=w.values.filter(ot);E.length&&f.appendChild(x.createTextNode(t.getAttribute(E[0].value)||""))}else if(w.name==="counter"){var F=w.values.filter(ia),I=F[0],U=F[1];if(I&&ot(I)){var _=a.counters.getCounterValue(I.value),C=U&&ot(U)?Ff.parse(a.context,U.value):3;f.appendChild(x.createTextNode(zo(_,C,!1)))}}else if(w.name==="counters"){var b=w.values.filter(ia),I=b[0],S=b[1],U=b[2];if(I&&ot(I)){var k=a.counters.getCounterValues(I.value),D=U&&ot(U)?Ff.parse(a.context,U.value):3,O=S&&S.type===0?S.value:"",H=k.map(function(z){return zo(z,D,!1)}).join(O);f.appendChild(x.createTextNode(H))}}}else if(w.type===20)switch(w.value){case"open-quote":f.appendChild(x.createTextNode(im(g.quotes,a.quoteDepth++,!0)));break;case"close-quote":f.appendChild(x.createTextNode(im(g.quotes,--a.quoteDepth,!1)));break;default:f.appendChild(x.createTextNode(w.value))}}),f.className=Qf+" "+Df;var p=s===wo.BEFORE?" "+Qf:" "+Df;return vc(r)?r.className.baseValue+=p:r.className+=p,f}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),wo;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(wo||(wo={}));var o5=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(dv,"true"),e.body.appendChild(r),r},l5=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},c5=function(e){return Promise.all([].slice.call(e.images,0).map(l5))},u5=function(e){return new Promise(function(t,r){var A=e.contentWindow;if(!A)return r("No window assigned for iframe");var s=A.document;A.onload=e.onload=function(){A.onload=e.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},d5=["all","d","content"],qd=function(e,t){for(var r=e.length-1;r>=0;r--){var A=e.item(r);d5.indexOf(A)===-1&&t.style.setProperty(A,e.getPropertyValue(A))}return t},h5=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},f5=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},g5=function(e){var t=e[0],r=e[1],A=e[2];t.scrollLeft=r,t.scrollTop=A},x5=":before",p5=":after",Qf="___html2canvas___pseudoelement_before",Df="___html2canvas___pseudoelement_after",Um=`{
    content: "" !important;
    display: none !important;
}`,m5=function(e){w5(e,"."+Qf+x5+Um+`
         .`+Df+p5+Um)},w5=function(e,t){var r=e.ownerDocument;if(r){var A=r.createElement("style");A.textContent=t,e.appendChild(A)}},hv=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),B5=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(Zd(t)||E5(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Nr(this,void 0,void 0,function(){var r,A,s,a,d=this;return Cr(this,function(x){switch(x.label){case 0:return r=hv.isSameOrigin(t),A=!$d(t)&&this._options.useCORS===!0&&gr.SUPPORT_CORS_IMAGES&&!r,s=!$d(t)&&!r&&!Zd(t)&&typeof this._options.proxy=="string"&&gr.SUPPORT_CORS_XHR&&!A,!r&&this._options.allowTaint===!1&&!$d(t)&&!Zd(t)&&!s&&!A?[2]:(a=t,s?[4,this.proxy(a)]:[3,2]);case 1:a=x.sent(),x.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(g,f){var p=new Image;p.onload=function(){return g(p)},p.onerror=f,(b5(a)||A)&&(p.crossOrigin="anonymous"),p.src=a,p.complete===!0&&setTimeout(function(){return g(p)},500),d._options.imageTimeout>0&&setTimeout(function(){return f("Timed out ("+d._options.imageTimeout+"ms) loading image")},d._options.imageTimeout)})];case 3:return[2,x.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(a,d){var x=gr.SUPPORT_RESPONSE_TYPE?"blob":"text",g=new XMLHttpRequest;g.onload=function(){if(g.status===200)if(x==="text")a(g.response);else{var w=new FileReader;w.addEventListener("load",function(){return a(w.result)},!1),w.addEventListener("error",function(y){return d(y)},!1),w.readAsDataURL(g.response)}else d("Failed to proxy resource "+s+" with status code "+g.status)},g.onerror=d;var f=A.indexOf("?")>-1?"&":"?";if(g.open("GET",""+A+f+"url="+encodeURIComponent(t)+"&responseType="+x),x!=="text"&&g instanceof XMLHttpRequest&&(g.responseType=x),r._options.imageTimeout){var p=r._options.imageTimeout;g.timeout=p,g.ontimeout=function(){return d("Timed out ("+p+"ms) proxying "+s)}}g.send()})},e}(),y5=/^data:image\/svg\+xml/i,v5=/^data:image\/.*;base64,/i,C5=/^data:image\/.*/i,E5=function(e){return gr.SUPPORT_SVG_DRAWING||!F5(e)},$d=function(e){return C5.test(e)},b5=function(e){return v5.test(e)},Zd=function(e){return e.substr(0,4)==="blob"},F5=function(e){return e.substr(-3).toLowerCase()==="svg"||y5.test(e)},ye=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Bi=function(e,t,r){return new ye(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},tc=function(){function e(t,r,A,s){this.type=1,this.start=t,this.startControl=r,this.endControl=A,this.end=s}return e.prototype.subdivide=function(t,r){var A=Bi(this.start,this.startControl,t),s=Bi(this.startControl,this.endControl,t),a=Bi(this.endControl,this.end,t),d=Bi(A,s,t),x=Bi(s,a,t),g=Bi(d,x,t);return r?new e(this.start,A,d,g):new e(g,x,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),pA=function(e){return e.type===1},I5=function(){function e(t){var r=t.styles,A=t.bounds,s=qa(r.borderTopLeftRadius,A.width,A.height),a=s[0],d=s[1],x=qa(r.borderTopRightRadius,A.width,A.height),g=x[0],f=x[1],p=qa(r.borderBottomRightRadius,A.width,A.height),w=p[0],y=p[1],E=qa(r.borderBottomLeftRadius,A.width,A.height),F=E[0],I=E[1],U=[];U.push((a+g)/A.width),U.push((F+w)/A.width),U.push((d+I)/A.height),U.push((f+y)/A.height);var _=Math.max.apply(Math,U);_>1&&(a/=_,d/=_,g/=_,f/=_,w/=_,y/=_,F/=_,I/=_);var C=A.width-g,b=A.height-y,S=A.width-w,k=A.height-I,D=r.borderTopWidth,O=r.borderRightWidth,H=r.borderBottomWidth,P=r.borderLeftWidth,M=ht(r.paddingTop,t.bounds.width),z=ht(r.paddingRight,t.bounds.width),Y=ht(r.paddingBottom,t.bounds.width),K=ht(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||d>0?vt(A.left+P/3,A.top+D/3,a-P/3,d-D/3,At.TOP_LEFT):new ye(A.left+P/3,A.top+D/3),this.topRightBorderDoubleOuterBox=a>0||d>0?vt(A.left+C,A.top+D/3,g-O/3,f-D/3,At.TOP_RIGHT):new ye(A.left+A.width-O/3,A.top+D/3),this.bottomRightBorderDoubleOuterBox=w>0||y>0?vt(A.left+S,A.top+b,w-O/3,y-H/3,At.BOTTOM_RIGHT):new ye(A.left+A.width-O/3,A.top+A.height-H/3),this.bottomLeftBorderDoubleOuterBox=F>0||I>0?vt(A.left+P/3,A.top+k,F-P/3,I-H/3,At.BOTTOM_LEFT):new ye(A.left+P/3,A.top+A.height-H/3),this.topLeftBorderDoubleInnerBox=a>0||d>0?vt(A.left+P*2/3,A.top+D*2/3,a-P*2/3,d-D*2/3,At.TOP_LEFT):new ye(A.left+P*2/3,A.top+D*2/3),this.topRightBorderDoubleInnerBox=a>0||d>0?vt(A.left+C,A.top+D*2/3,g-O*2/3,f-D*2/3,At.TOP_RIGHT):new ye(A.left+A.width-O*2/3,A.top+D*2/3),this.bottomRightBorderDoubleInnerBox=w>0||y>0?vt(A.left+S,A.top+b,w-O*2/3,y-H*2/3,At.BOTTOM_RIGHT):new ye(A.left+A.width-O*2/3,A.top+A.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=F>0||I>0?vt(A.left+P*2/3,A.top+k,F-P*2/3,I-H*2/3,At.BOTTOM_LEFT):new ye(A.left+P*2/3,A.top+A.height-H*2/3),this.topLeftBorderStroke=a>0||d>0?vt(A.left+P/2,A.top+D/2,a-P/2,d-D/2,At.TOP_LEFT):new ye(A.left+P/2,A.top+D/2),this.topRightBorderStroke=a>0||d>0?vt(A.left+C,A.top+D/2,g-O/2,f-D/2,At.TOP_RIGHT):new ye(A.left+A.width-O/2,A.top+D/2),this.bottomRightBorderStroke=w>0||y>0?vt(A.left+S,A.top+b,w-O/2,y-H/2,At.BOTTOM_RIGHT):new ye(A.left+A.width-O/2,A.top+A.height-H/2),this.bottomLeftBorderStroke=F>0||I>0?vt(A.left+P/2,A.top+k,F-P/2,I-H/2,At.BOTTOM_LEFT):new ye(A.left+P/2,A.top+A.height-H/2),this.topLeftBorderBox=a>0||d>0?vt(A.left,A.top,a,d,At.TOP_LEFT):new ye(A.left,A.top),this.topRightBorderBox=g>0||f>0?vt(A.left+C,A.top,g,f,At.TOP_RIGHT):new ye(A.left+A.width,A.top),this.bottomRightBorderBox=w>0||y>0?vt(A.left+S,A.top+b,w,y,At.BOTTOM_RIGHT):new ye(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=F>0||I>0?vt(A.left,A.top+k,F,I,At.BOTTOM_LEFT):new ye(A.left,A.top+A.height),this.topLeftPaddingBox=a>0||d>0?vt(A.left+P,A.top+D,Math.max(0,a-P),Math.max(0,d-D),At.TOP_LEFT):new ye(A.left+P,A.top+D),this.topRightPaddingBox=g>0||f>0?vt(A.left+Math.min(C,A.width-O),A.top+D,C>A.width+O?0:Math.max(0,g-O),Math.max(0,f-D),At.TOP_RIGHT):new ye(A.left+A.width-O,A.top+D),this.bottomRightPaddingBox=w>0||y>0?vt(A.left+Math.min(S,A.width-P),A.top+Math.min(b,A.height-H),Math.max(0,w-O),Math.max(0,y-H),At.BOTTOM_RIGHT):new ye(A.left+A.width-O,A.top+A.height-H),this.bottomLeftPaddingBox=F>0||I>0?vt(A.left+P,A.top+Math.min(k,A.height-H),Math.max(0,F-P),Math.max(0,I-H),At.BOTTOM_LEFT):new ye(A.left+P,A.top+A.height-H),this.topLeftContentBox=a>0||d>0?vt(A.left+P+K,A.top+D+M,Math.max(0,a-(P+K)),Math.max(0,d-(D+M)),At.TOP_LEFT):new ye(A.left+P+K,A.top+D+M),this.topRightContentBox=g>0||f>0?vt(A.left+Math.min(C,A.width+P+K),A.top+D+M,C>A.width+P+K?0:g-P+K,f-(D+M),At.TOP_RIGHT):new ye(A.left+A.width-(O+z),A.top+D+M),this.bottomRightContentBox=w>0||y>0?vt(A.left+Math.min(S,A.width-(P+K)),A.top+Math.min(b,A.height+D+M),Math.max(0,w-(O+z)),y-(H+Y),At.BOTTOM_RIGHT):new ye(A.left+A.width-(O+z),A.top+A.height-(H+Y)),this.bottomLeftContentBox=F>0||I>0?vt(A.left+P+K,A.top+k,Math.max(0,F-(P+K)),I-(H+Y),At.BOTTOM_LEFT):new ye(A.left+P+K,A.top+A.height-(H+Y))}return e}(),At;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(At||(At={}));var vt=function(e,t,r,A,s){var a=4*((Math.sqrt(2)-1)/3),d=r*a,x=A*a,g=e+r,f=t+A;switch(s){case At.TOP_LEFT:return new tc(new ye(e,f),new ye(e,f-x),new ye(g-d,t),new ye(g,t));case At.TOP_RIGHT:return new tc(new ye(e,t),new ye(e+d,t),new ye(g,f-x),new ye(g,f));case At.BOTTOM_RIGHT:return new tc(new ye(g,t),new ye(g,t+x),new ye(e+d,f),new ye(e,f));case At.BOTTOM_LEFT:default:return new tc(new ye(g,f),new ye(g-d,f),new ye(e,t+x),new ye(e,t))}},a0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},_5=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},o0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},N5=function(){function e(t,r,A){this.offsetX=t,this.offsetY=r,this.matrix=A,this.type=0,this.target=6}return e}(),rc=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),S5=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),U5=function(e){return e.type===0},fv=function(e){return e.type===1},Q5=function(e){return e.type===2},Qm=function(e,t){return e.length===t.length?e.some(function(r,A){return r===t[A]}):!1},D5=function(e,t,r,A,s){return e.map(function(a,d){switch(d){case 0:return a.add(t,r);case 1:return a.add(t+A,r);case 2:return a.add(t+A,r+s);case 3:return a.add(t,r+s)}return a})},gv=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),xv=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new I5(this.container),this.container.styles.opacity<1&&this.effects.push(new S5(this.container.styles.opacity)),this.container.styles.transform!==null){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new N5(A,s,a))}if(this.container.styles.overflowX!==0){var d=a0(this.curves),x=o0(this.curves);Qm(d,x)?this.effects.push(new rc(d,6)):(this.effects.push(new rc(d,2)),this.effects.push(new rc(x,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,A=this.parent,s=this.effects.slice(0);A;){var a=A.effects.filter(function(g){return!fv(g)});if(r||A.container.styles.position!==0||!A.parent){if(s.unshift.apply(s,a),r=[2,3].indexOf(A.container.styles.position)===-1,A.container.styles.overflowX!==0){var d=a0(A.curves),x=o0(A.curves);Qm(d,x)||s.unshift(new rc(x,6))}}else s.unshift.apply(s,a);A=A.parent}return s.filter(function(g){return Xt(g.target,t)})},e}(),Tf=function(e,t,r,A){e.container.elements.forEach(function(s){var a=Xt(s.flags,4),d=Xt(s.flags,2),x=new xv(s,e);Xt(s.styles.display,2048)&&A.push(x);var g=Xt(s.flags,8)?[]:A;if(a||d){var f=a||s.styles.isPositioned()?r:t,p=new gv(x);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var w=s.styles.zIndex.order;if(w<0){var y=0;f.negativeZIndex.some(function(F,I){return w>F.element.container.styles.zIndex.order?(y=I,!1):y>0}),f.negativeZIndex.splice(y,0,p)}else if(w>0){var E=0;f.positiveZIndex.some(function(F,I){return w>=F.element.container.styles.zIndex.order?(E=I+1,!1):E>0}),f.positiveZIndex.splice(E,0,p)}else f.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else s.styles.isFloating()?f.nonPositionedFloats.push(p):f.nonPositionedInlineLevel.push(p);Tf(x,p,a?p:r,g)}else s.styles.isInlineLevel()?t.inlineLevel.push(x):t.nonInlineLevel.push(x),Tf(x,t,r,g);Xt(s.flags,8)&&pv(s,g)})},pv=function(e,t){for(var r=e instanceof Nf?e.start:1,A=e instanceof Nf?e.reversed:!1,s=0;s<t.length;s++){var a=t[s];a.container instanceof ev&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=zo(r,a.container.styles.listStyleType,!0),r+=A?-1:1}},T5=function(e){var t=new xv(e,null),r=new gv(t),A=[];return Tf(t,r,r,A),pv(t.container,A),r},Dm=function(e,t){switch(t){case 0:return yA(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return yA(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return yA(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return yA(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},R5=function(e,t){switch(t){case 0:return yA(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return yA(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return yA(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return yA(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},O5=function(e,t){switch(t){case 0:return yA(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return yA(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return yA(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return yA(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},k5=function(e,t){switch(t){case 0:return Ac(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Ac(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Ac(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Ac(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Ac=function(e,t){var r=[];return pA(e)?r.push(e.subdivide(.5,!1)):r.push(e),pA(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},yA=function(e,t,r,A){var s=[];return pA(e)?s.push(e.subdivide(.5,!1)):s.push(e),pA(r)?s.push(r.subdivide(.5,!0)):s.push(r),pA(A)?s.push(A.subdivide(.5,!0).reverse()):s.push(A),pA(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},mv=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},l0=function(e){var t=e.styles,r=e.bounds,A=ht(t.paddingLeft,r.width),s=ht(t.paddingRight,r.width),a=ht(t.paddingTop,r.width),d=ht(t.paddingBottom,r.width);return r.add(A+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+A+s),-(t.borderTopWidth+t.borderBottomWidth+a+d))},L5=function(e,t){return e===0?t.bounds:e===2?l0(t):mv(t)},j5=function(e,t){return e===0?t.bounds:e===2?l0(t):mv(t)},Jd=function(e,t,r){var A=L5(Ei(e.styles.backgroundOrigin,t),e),s=j5(Ei(e.styles.backgroundClip,t),e),a=M5(Ei(e.styles.backgroundSize,t),r,A),d=a[0],x=a[1],g=qa(Ei(e.styles.backgroundPosition,t),A.width-d,A.height-x),f=H5(Ei(e.styles.backgroundRepeat,t),g,a,A,s),p=Math.round(A.left+g[0]),w=Math.round(A.top+g[1]);return[f,p,w,d,x]},yi=function(e){return ot(e)&&e.value===Xi.AUTO},nc=function(e){return typeof e=="number"},M5=function(e,t,r){var A=t[0],s=t[1],a=t[2],d=e[0],x=e[1];if(!d)return[0,0];if(Kt(d)&&x&&Kt(x))return[ht(d,r.width),ht(x,r.height)];var g=nc(a);if(ot(d)&&(d.value===Xi.CONTAIN||d.value===Xi.COVER)){if(nc(a)){var f=r.width/r.height;return f<a!=(d.value===Xi.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var p=nc(A),w=nc(s),y=p||w;if(yi(d)&&(!x||yi(x))){if(p&&w)return[A,s];if(!g&&!y)return[r.width,r.height];if(y&&g){var E=p?A:s*a,F=w?s:A/a;return[E,F]}var I=p?A:r.width,U=w?s:r.height;return[I,U]}if(g){var _=0,C=0;return Kt(d)?_=ht(d,r.width):Kt(x)&&(C=ht(x,r.height)),yi(d)?_=C*a:(!x||yi(x))&&(C=_/a),[_,C]}var b=null,S=null;if(Kt(d)?b=ht(d,r.width):x&&Kt(x)&&(S=ht(x,r.height)),b!==null&&(!x||yi(x))&&(S=p&&w?b/A*s:r.height),S!==null&&yi(d)&&(b=p&&w?S/s*A:r.width),b!==null&&S!==null)return[b,S];throw new Error("Unable to calculate background-size for element")},Ei=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},H5=function(e,t,r,A,s){var a=t[0],d=t[1],x=r[0],g=r[1];switch(e){case 2:return[new ye(Math.round(A.left),Math.round(A.top+d)),new ye(Math.round(A.left+A.width),Math.round(A.top+d)),new ye(Math.round(A.left+A.width),Math.round(g+A.top+d)),new ye(Math.round(A.left),Math.round(g+A.top+d))];case 3:return[new ye(Math.round(A.left+a),Math.round(A.top)),new ye(Math.round(A.left+a+x),Math.round(A.top)),new ye(Math.round(A.left+a+x),Math.round(A.height+A.top)),new ye(Math.round(A.left+a),Math.round(A.height+A.top))];case 1:return[new ye(Math.round(A.left+a),Math.round(A.top+d)),new ye(Math.round(A.left+a+x),Math.round(A.top+d)),new ye(Math.round(A.left+a+x),Math.round(A.top+d+g)),new ye(Math.round(A.left+a),Math.round(A.top+d+g))];default:return[new ye(Math.round(s.left),Math.round(s.top)),new ye(Math.round(s.left+s.width),Math.round(s.top)),new ye(Math.round(s.left+s.width),Math.round(s.height+s.top)),new ye(Math.round(s.left),Math.round(s.height+s.top))]}},P5="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Tm="Hidden Text",K5=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var A=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),d=this._document.body;A.style.visibility="hidden",A.style.fontFamily=t,A.style.fontSize=r,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",d.appendChild(A),s.src=P5,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(Tm)),A.appendChild(a),A.appendChild(s);var x=s.offsetTop-a.offsetTop+2;A.removeChild(a),A.appendChild(this._document.createTextNode(Tm)),A.style.lineHeight="normal",s.style.verticalAlign="super";var g=s.offsetTop-A.offsetTop+2;return d.removeChild(A),{baseline:x,middle:g}},e.prototype.getMetrics=function(t,r){var A=t+" "+r;return typeof this._data[A]>"u"&&(this._data[A]=this.parseMetrics(t,r)),this._data[A]},e}(),wv=function(){function e(t,r){this.context=t,this.options=r}return e}(),V5=1e4,G5=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;return s._activeEffects=[],s.canvas=A.canvas?A.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),A.canvas||(s.canvas.width=Math.floor(A.width*A.scale),s.canvas.height=Math.floor(A.height*A.scale),s.canvas.style.width=A.width+"px",s.canvas.style.height=A.height+"px"),s.fontMetrics=new K5(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-A.x,-A.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),s}return t.prototype.applyEffects=function(r){for(var A=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return A.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),Q5(r)&&(this.ctx.globalAlpha=r.opacity),U5(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),fv(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Nr(this,void 0,void 0,function(){var A;return Cr(this,function(s){switch(s.label){case 0:return A=r.element.container.styles,A.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Nr(this,void 0,void 0,function(){return Cr(this,function(A){switch(A.label){case 0:if(Xt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return A.sent(),[4,this.renderNodeContent(r)];case 2:A.sent(),A.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,A,s){var a=this;if(A===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var d=J1(r.text);d.reduce(function(x,g){return a.ctx.fillText(g,x,r.bounds.top+s),x+a.ctx.measureText(g).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var A=r.fontVariant.filter(function(d){return d==="normal"||d==="small-caps"}).join(""),s=q5(r.fontFamily).join(", "),a=rl(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,A,r.fontWeight,a,s].join(" "),s,a]},t.prototype.renderTextNode=function(r,A){return Nr(this,void 0,void 0,function(){var s,a,d,x,g,f,p,w,y=this;return Cr(this,function(E){return s=this.createFontStyle(A),a=s[0],d=s[1],x=s[2],this.ctx.font=a,this.ctx.direction=A.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",g=this.fontMetrics.getMetrics(d,x),f=g.baseline,p=g.middle,w=A.paintOrder,r.textBounds.forEach(function(F){w.forEach(function(I){switch(I){case 0:y.ctx.fillStyle=tr(A.color),y.renderTextWithLetterSpacing(F,A.letterSpacing,f);var U=A.textShadow;U.length&&F.text.trim().length&&(U.slice(0).reverse().forEach(function(_){y.ctx.shadowColor=tr(_.color),y.ctx.shadowOffsetX=_.offsetX.number*y.options.scale,y.ctx.shadowOffsetY=_.offsetY.number*y.options.scale,y.ctx.shadowBlur=_.blur.number,y.renderTextWithLetterSpacing(F,A.letterSpacing,f)}),y.ctx.shadowColor="",y.ctx.shadowOffsetX=0,y.ctx.shadowOffsetY=0,y.ctx.shadowBlur=0),A.textDecorationLine.length&&(y.ctx.fillStyle=tr(A.textDecorationColor||A.color),A.textDecorationLine.forEach(function(_){switch(_){case 1:y.ctx.fillRect(F.bounds.left,Math.round(F.bounds.top+f),F.bounds.width,1);break;case 2:y.ctx.fillRect(F.bounds.left,Math.round(F.bounds.top),F.bounds.width,1);break;case 3:y.ctx.fillRect(F.bounds.left,Math.ceil(F.bounds.top+p),F.bounds.width,1);break}}));break;case 1:A.webkitTextStrokeWidth&&F.text.trim().length&&(y.ctx.strokeStyle=tr(A.webkitTextStrokeColor),y.ctx.lineWidth=A.webkitTextStrokeWidth,y.ctx.lineJoin=window.chrome?"miter":"round",y.ctx.strokeText(F.text,F.bounds.left,F.bounds.top+f)),y.ctx.strokeStyle="",y.ctx.lineWidth=0,y.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,A,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=l0(r),d=o0(A);this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Nr(this,void 0,void 0,function(){var A,s,a,d,x,g,C,C,f,p,w,y,S,E,F,k,I,U,_,C,b,S,k;return Cr(this,function(D){switch(D.label){case 0:this.applyEffects(r.getEffects(4)),A=r.container,s=r.curves,a=A.styles,d=0,x=A.textNodes,D.label=1;case 1:return d<x.length?(g=x[d],[4,this.renderTextNode(g,a)]):[3,4];case 2:D.sent(),D.label=3;case 3:return d++,[3,1];case 4:if(!(A instanceof $y))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return C=D.sent(),this.renderReplacedElement(A,s,C),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof Zy&&this.renderReplacedElement(A,s,A.canvas),!(A instanceof Jy))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return C=D.sent(),this.renderReplacedElement(A,s,C),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof Av&&A.tree?(f=new t(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}),[4,f.render(A.tree)]):[3,14];case 13:p=D.sent(),A.width&&A.height&&this.ctx.drawImage(p,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),D.label=14;case 14:if(A instanceof eg&&(w=Math.min(A.bounds.width,A.bounds.height),A.type===A0?A.checked&&(this.ctx.save(),this.path([new ye(A.bounds.left+w*.39363,A.bounds.top+w*.79),new ye(A.bounds.left+w*.16,A.bounds.top+w*.5549),new ye(A.bounds.left+w*.27347,A.bounds.top+w*.44071),new ye(A.bounds.left+w*.39694,A.bounds.top+w*.5649),new ye(A.bounds.left+w*.72983,A.bounds.top+w*.23),new ye(A.bounds.left+w*.84,A.bounds.top+w*.34085),new ye(A.bounds.left+w*.39363,A.bounds.top+w*.79)]),this.ctx.fillStyle=tr(ym),this.ctx.fill(),this.ctx.restore()):A.type===n0&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+w/2,A.bounds.top+w/2,w/4,0,Math.PI*2,!0),this.ctx.fillStyle=tr(ym),this.ctx.fill(),this.ctx.restore())),z5(A)&&A.value.length){switch(y=this.createFontStyle(a),S=y[0],E=y[1],F=this.fontMetrics.getMetrics(S,E).baseline,this.ctx.font=S,this.ctx.fillStyle=tr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=X5(A.styles.textAlign),k=l0(A),I=0,A.styles.textAlign){case 1:I+=k.width/2;break;case 2:I+=k.width;break}U=k.add(I,0,0,-k.height/2+1),this.ctx.save(),this.path([new ye(k.left,k.top),new ye(k.left+k.width,k.top),new ye(k.left+k.width,k.top+k.height),new ye(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new mo(A.value,U),a.letterSpacing,F),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xt(A.styles.display,2048))return[3,20];if(A.styles.listStyleImage===null)return[3,19];if(_=A.styles.listStyleImage,_.type!==0)return[3,18];C=void 0,b=_.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return C=D.sent(),this.ctx.drawImage(C,A.bounds.left-(C.width+10),A.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:r.listValue&&A.styles.listStyleType!==-1&&(S=this.createFontStyle(a)[0],this.ctx.font=S,this.ctx.fillStyle=tr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new Cn(A.bounds.left,A.bounds.top+ht(A.styles.paddingTop,A.bounds.width),A.bounds.width,nm(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new mo(r.listValue,k),a.letterSpacing,nm(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Nr(this,void 0,void 0,function(){var A,s,_,a,d,_,x,g,_,f,p,_,w,y,_,E,F,_,I,U,_;return Cr(this,function(C){switch(C.label){case 0:if(Xt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:C.sent(),A=0,s=r.negativeZIndex,C.label=2;case 2:return A<s.length?(_=s[A],[4,this.renderStack(_)]):[3,5];case 3:C.sent(),C.label=4;case 4:return A++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:C.sent(),a=0,d=r.nonInlineLevel,C.label=7;case 7:return a<d.length?(_=d[a],[4,this.renderNode(_)]):[3,10];case 8:C.sent(),C.label=9;case 9:return a++,[3,7];case 10:x=0,g=r.nonPositionedFloats,C.label=11;case 11:return x<g.length?(_=g[x],[4,this.renderStack(_)]):[3,14];case 12:C.sent(),C.label=13;case 13:return x++,[3,11];case 14:f=0,p=r.nonPositionedInlineLevel,C.label=15;case 15:return f<p.length?(_=p[f],[4,this.renderStack(_)]):[3,18];case 16:C.sent(),C.label=17;case 17:return f++,[3,15];case 18:w=0,y=r.inlineLevel,C.label=19;case 19:return w<y.length?(_=y[w],[4,this.renderNode(_)]):[3,22];case 20:C.sent(),C.label=21;case 21:return w++,[3,19];case 22:E=0,F=r.zeroOrAutoZIndexOrTransformedOrOpacity,C.label=23;case 23:return E<F.length?(_=F[E],[4,this.renderStack(_)]):[3,26];case 24:C.sent(),C.label=25;case 25:return E++,[3,23];case 26:I=0,U=r.positiveZIndex,C.label=27;case 27:return I<U.length?(_=U[I],[4,this.renderStack(_)]):[3,30];case 28:C.sent(),C.label=29;case 29:return I++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var A=this;r.forEach(function(s,a){var d=pA(s)?s.start:s;a===0?A.ctx.moveTo(d.x,d.y):A.ctx.lineTo(d.x,d.y),pA(s)&&A.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,A,s,a){this.path(r),this.ctx.fillStyle=A,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},t.prototype.resizeImage=function(r,A,s){var a;if(r.width===A&&r.height===s)return r;var d=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,x=d.createElement("canvas");x.width=Math.max(1,A),x.height=Math.max(1,s);var g=x.getContext("2d");return g.drawImage(r,0,0,r.width,r.height,0,0,A,s),x},t.prototype.renderBackgroundImage=function(r){return Nr(this,void 0,void 0,function(){var A,s,a,d,x,g;return Cr(this,function(f){switch(f.label){case 0:A=r.styles.backgroundImage.length-1,s=function(p){var w,y,E,M,Ae,ae,K,q,H,F,M,Ae,ae,K,q,I,U,_,C,b,S,k,D,O,H,P,M,z,Y,K,q,V,Ae,ae,Z,ee,le,te,re,oe,ie,Oe;return Cr(this,function(he){switch(he.label){case 0:if(p.type!==0)return[3,5];w=void 0,y=p.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,a.context.cache.match(y)];case 2:return w=he.sent(),[3,4];case 3:return he.sent(),a.context.logger.error("Error loading background-image "+y),[3,4];case 4:return w&&(E=Jd(r,A,[w.width,w.height,w.width/w.height]),M=E[0],Ae=E[1],ae=E[2],K=E[3],q=E[4],H=a.ctx.createPattern(a.resizeImage(w,K,q),"repeat"),a.renderRepeat(M,H,Ae,ae)),[3,6];case 5:U_(p)?(F=Jd(r,A,[null,null,null]),M=F[0],Ae=F[1],ae=F[2],K=F[3],q=F[4],I=F_(p.angle,K,q),U=I[0],_=I[1],C=I[2],b=I[3],S=I[4],k=document.createElement("canvas"),k.width=K,k.height=q,D=k.getContext("2d"),O=D.createLinearGradient(_,b,C,S),rm(p.stops,U).forEach(function(et){return O.addColorStop(et.stop,tr(et.color))}),D.fillStyle=O,D.fillRect(0,0,K,q),K>0&&q>0&&(H=a.ctx.createPattern(k,"repeat"),a.renderRepeat(M,H,Ae,ae))):Q_(p)&&(P=Jd(r,A,[null,null,null]),M=P[0],z=P[1],Y=P[2],K=P[3],q=P[4],V=p.position.length===0?[q1]:p.position,Ae=ht(V[0],K),ae=ht(V[V.length-1],q),Z=I_(p,Ae,ae,K,q),ee=Z[0],le=Z[1],ee>0&&le>0&&(te=a.ctx.createRadialGradient(z+Ae,Y+ae,0,z+Ae,Y+ae,ee),rm(p.stops,ee*2).forEach(function(et){return te.addColorStop(et.stop,tr(et.color))}),a.path(M),a.ctx.fillStyle=te,ee!==le?(re=r.bounds.left+.5*r.bounds.width,oe=r.bounds.top+.5*r.bounds.height,ie=le/ee,Oe=1/ie,a.ctx.save(),a.ctx.translate(re,oe),a.ctx.transform(1,0,0,ie,0,0),a.ctx.translate(-re,-oe),a.ctx.fillRect(z,Oe*(Y-oe)+oe,K,q*Oe),a.ctx.restore()):a.ctx.fill())),he.label=6;case 6:return A--,[2]}})},a=this,d=0,x=r.styles.backgroundImage.slice(0).reverse(),f.label=1;case 1:return d<x.length?(g=x[d],[5,s(g)]):[3,4];case 2:f.sent(),f.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,A,s){return Nr(this,void 0,void 0,function(){return Cr(this,function(a){return this.path(Dm(s,A)),this.ctx.fillStyle=tr(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,A,s,a){return Nr(this,void 0,void 0,function(){var d,x;return Cr(this,function(g){switch(g.label){case 0:return A<3?[4,this.renderSolidBorder(r,s,a)]:[3,2];case 1:return g.sent(),[2];case 2:return d=R5(a,s),this.path(d),this.ctx.fillStyle=tr(r),this.ctx.fill(),x=O5(a,s),this.path(x),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Nr(this,void 0,void 0,function(){var A,s,a,d,x,g,f,p,w=this;return Cr(this,function(y){switch(y.label){case 0:return this.applyEffects(r.getEffects(2)),A=r.container.styles,s=!cs(A.backgroundColor)||A.backgroundImage.length,a=[{style:A.borderTopStyle,color:A.borderTopColor,width:A.borderTopWidth},{style:A.borderRightStyle,color:A.borderRightColor,width:A.borderRightWidth},{style:A.borderBottomStyle,color:A.borderBottomColor,width:A.borderBottomWidth},{style:A.borderLeftStyle,color:A.borderLeftColor,width:A.borderLeftWidth}],d=W5(Ei(A.backgroundClip,0),r.curves),s||A.boxShadow.length?(this.ctx.save(),this.path(d),this.ctx.clip(),cs(A.backgroundColor)||(this.ctx.fillStyle=tr(A.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:y.sent(),this.ctx.restore(),A.boxShadow.slice(0).reverse().forEach(function(E){w.ctx.save();var F=a0(r.curves),I=E.inset?0:V5,U=D5(F,-I+(E.inset?1:-1)*E.spread.number,(E.inset?1:-1)*E.spread.number,E.spread.number*(E.inset?-2:2),E.spread.number*(E.inset?-2:2));E.inset?(w.path(F),w.ctx.clip(),w.mask(U)):(w.mask(F),w.ctx.clip(),w.path(U)),w.ctx.shadowOffsetX=E.offsetX.number+I,w.ctx.shadowOffsetY=E.offsetY.number,w.ctx.shadowColor=tr(E.color),w.ctx.shadowBlur=E.blur.number,w.ctx.fillStyle=E.inset?tr(E.color):"rgba(0,0,0,1)",w.ctx.fill(),w.ctx.restore()}),y.label=2;case 2:x=0,g=0,f=a,y.label=3;case 3:return g<f.length?(p=f[g],p.style!==0&&!cs(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,x,r.curves,2)]:[3,11]):[3,13];case 4:return y.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,x,r.curves,3)];case 6:return y.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,x,r.curves)];case 8:return y.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,x,r.curves)];case 10:y.sent(),y.label=11;case 11:x++,y.label=12;case 12:return g++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,A,s,a,d){return Nr(this,void 0,void 0,function(){var x,g,f,p,w,y,E,F,I,U,_,C,b,S,k,D,k,D;return Cr(this,function(O){return this.ctx.save(),x=k5(a,s),g=Dm(a,s),d===2&&(this.path(g),this.ctx.clip()),pA(g[0])?(f=g[0].start.x,p=g[0].start.y):(f=g[0].x,p=g[0].y),pA(g[1])?(w=g[1].end.x,y=g[1].end.y):(w=g[1].x,y=g[1].y),s===0||s===2?E=Math.abs(f-w):E=Math.abs(p-y),this.ctx.beginPath(),d===3?this.formatPath(x):this.formatPath(g.slice(0,2)),F=A<3?A*3:A*2,I=A<3?A*2:A,d===3&&(F=A,I=A),U=!0,E<=F*2?U=!1:E<=F*2+I?(_=E/(2*F+I),F*=_,I*=_):(C=Math.floor((E+I)/(F+I)),b=(E-C*F)/(C-1),S=(E-(C+1)*F)/C,I=S<=0||Math.abs(I-b)<Math.abs(I-S)?b:S),U&&(d===3?this.ctx.setLineDash([0,F+I]):this.ctx.setLineDash([F,I])),d===3?(this.ctx.lineCap="round",this.ctx.lineWidth=A):this.ctx.lineWidth=A*2+1.1,this.ctx.strokeStyle=tr(r),this.ctx.stroke(),this.ctx.setLineDash([]),d===2&&(pA(g[0])&&(k=g[3],D=g[0],this.ctx.beginPath(),this.formatPath([new ye(k.end.x,k.end.y),new ye(D.start.x,D.start.y)]),this.ctx.stroke()),pA(g[1])&&(k=g[1],D=g[2],this.ctx.beginPath(),this.formatPath([new ye(k.end.x,k.end.y),new ye(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Nr(this,void 0,void 0,function(){var A;return Cr(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=tr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),A=T5(r),[4,this.renderStack(A)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(wv),z5=function(e){return e instanceof rv||e instanceof tv?!0:e instanceof eg&&e.type!==n0&&e.type!==A0},W5=function(e,t){switch(e){case 0:return a0(t);case 2:return _5(t);case 1:default:return o0(t)}},X5=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Y5=["-apple-system","system-ui"],q5=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Y5.indexOf(t)===-1}):e},$5=function(e){HA(t,e);function t(r,A){var s=e.call(this,r,A)||this;return s.canvas=A.canvas?A.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=A,s.canvas.width=Math.floor(A.width*A.scale),s.canvas.height=Math.floor(A.height*A.scale),s.canvas.style.width=A.width+"px",s.canvas.style.height=A.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-A.x,-A.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),s}return t.prototype.render=function(r){return Nr(this,void 0,void 0,function(){var A,s;return Cr(this,function(a){switch(a.label){case 0:return A=_f(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Z5(A)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=tr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(wv),Z5=function(e){return new Promise(function(t,r){var A=new Image;A.onload=function(){t(A)},A.onerror=r,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},J5=function(){function e(t){var r=t.id,A=t.enabled;this.id=r,this.enabled=A,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ol([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ol([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ol([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ol([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),eU=function(){function e(t,r){var A;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new J5({id:this.instanceName,enabled:t.logging}),this.cache=(A=t.cache)!==null&&A!==void 0?A:new B5(this,t)}return e.instanceCount=1,e}(),eh=function(e,t){return t===void 0&&(t={}),tU(e,t)};typeof window<"u"&&hv.setContext(window);var tU=function(e,t){return Nr(void 0,void 0,void 0,function(){var r,A,s,a,d,x,g,f,p,w,y,E,F,I,U,_,C,b,S,k,O,D,O,H,P,M,z,Y,K,q,V,Ae,ae,Z,ee,le,te,re,oe,ie;return Cr(this,function(Oe){switch(Oe.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(A=r.defaultView,!A)throw new Error("Document is not attached to a Window");return s={allowTaint:(H=t.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(P=t.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:t.proxy,useCORS:(M=t.useCORS)!==null&&M!==void 0?M:!1},a=hf({logging:(z=t.logging)!==null&&z!==void 0?z:!0,cache:t.cache},s),d={windowWidth:(Y=t.windowWidth)!==null&&Y!==void 0?Y:A.innerWidth,windowHeight:(K=t.windowHeight)!==null&&K!==void 0?K:A.innerHeight,scrollX:(q=t.scrollX)!==null&&q!==void 0?q:A.pageXOffset,scrollY:(V=t.scrollY)!==null&&V!==void 0?V:A.pageYOffset},x=new Cn(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),g=new eU(a,x),f=(Ae=t.foreignObjectRendering)!==null&&Ae!==void 0?Ae:!1,p={allowTaint:(ae=t.allowTaint)!==null&&ae!==void 0?ae:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},g.logger.debug("Starting document clone with size "+x.width+"x"+x.height+" scrolled to "+-x.left+","+-x.top),w=new Sm(g,e,p),y=w.clonedReferenceElement,y?[4,w.toIFrame(r,x)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return E=Oe.sent(),F=tg(y)||A5(y)?D6(y.ownerDocument):H0(g,y),I=F.width,U=F.height,_=F.left,C=F.top,b=rU(g,y,t.backgroundColor),S={canvas:t.canvas,backgroundColor:b,scale:(ee=(Z=t.scale)!==null&&Z!==void 0?Z:A.devicePixelRatio)!==null&&ee!==void 0?ee:1,x:((le=t.x)!==null&&le!==void 0?le:0)+_,y:((te=t.y)!==null&&te!==void 0?te:0)+C,width:(re=t.width)!==null&&re!==void 0?re:Math.ceil(I),height:(oe=t.height)!==null&&oe!==void 0?oe:Math.ceil(U)},f?(g.logger.debug("Document cloned, using foreign object rendering"),O=new $5(g,S),[4,O.render(y)]):[3,3];case 2:return k=Oe.sent(),[3,5];case 3:return g.logger.debug("Document cloned, element located at "+_+","+C+" with size "+I+"x"+U+" using computed rendering"),g.logger.debug("Starting DOM parsing"),D=sv(g,y),b===D.styles.backgroundColor&&(D.styles.backgroundColor=pn.TRANSPARENT),g.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),O=new G5(g,S),[4,O.render(D)];case 4:k=Oe.sent(),Oe.label=5;case 5:return(!((ie=t.removeContainer)!==null&&ie!==void 0)||ie)&&(Sm.destroy(E)||g.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),g.logger.debug("Finished rendering"),[2,k]}})})},rU=function(e,t,r){var A=t.ownerDocument,s=A.documentElement?xo(e,getComputedStyle(A.documentElement).backgroundColor):pn.TRANSPARENT,a=A.body?xo(e,getComputedStyle(A.body).backgroundColor):pn.TRANSPARENT,d=typeof r=="string"?xo(e,r):r===null?pn.TRANSPARENT:4294967295;return t===A.documentElement?cs(s)?cs(a)?d:a:s:d};const AU=({qrData:e,repairCode:t,repairId:r,relayName:A,appointmentDate:s,deviceInfo:a})=>{const d=G.useRef(null),x=w=>new Date(w).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),g=()=>{const w=window.open("","_blank");w&&d.current&&eh(d.current).then(y=>{const E=y.toDataURL("image/png");w.document.write(`
          <html>
            <head>
              <title>Code de réparation PC Relais</title>
              <style>
                body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
                .container { max-width: 500px; margin: 0 auto; }
                .header { margin-bottom: 20px; }
                .qr-container { margin: 20px 0; }
                .info { margin: 20px 0; text-align: left; }
                .code { font-size: 24px; font-weight: bold; letter-spacing: 2px; margin: 20px 0; }
                .footer { margin-top: 30px; font-size: 12px; color: #666; }
              </style>
            </head>
            <body>
              <div class="container">
                <div class="header">
                  <h1>PC Relais - Dépôt d'appareil</h1>
                  <p>Présentez ce code à votre point relais lors du dépôt de votre appareil</p>
                </div>
                <div class="qr-container">
                  <img src="${E}" alt="QR Code" style="width: 200px; height: 200px;" />
                </div>
                <div class="code">
                  Code: ${t}
                </div>
                <div class="info">
                  <p><strong>Référence:</strong> ${r.substring(0,8)}</p>
                  <p><strong>Point relais:</strong> ${A}</p>
                  <p><strong>Date prévue:</strong> ${x(s)}</p>
                  <p><strong>Appareil:</strong> ${a.brand} ${a.model} (${a.type})</p>
                </div>
                <div class="footer">
                  <p>Ce code est valable pendant 24 heures à partir de sa génération.</p>
                  <p>Pour toute question, contactez notre service client au 01 23 45 67 89.</p>
                </div>
              </div>
              <script>
                window.onload = function() { window.print(); }
              <\/script>
            </body>
          </html>
        `),w.document.close()})},f=()=>{d.current&&eh(d.current).then(w=>{const y=document.createElement("a");y.download=`pcrelais-code-${t}.png`,y.href=w.toDataURL("image/png"),y.click()})},p=async()=>{if(d.current&&typeof navigator<"u"&&"share"in navigator)try{const w=await eh(d.current),y=await new Promise(E=>{w.toBlob(E,"image/png")});if(y){const E=new File([y],`pcrelais-code-${t}.png`,{type:"image/png"});await navigator.share({title:"PC Relais - Code de réparation",text:`Voici mon code de réparation pour PC Relais: ${t}`,files:[E]})}}catch(w){console.error("Erreur lors du partage:",w)}};return c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Votre demande a été enregistrée !"}),c.jsx("p",{className:"text-gray-600",children:"Présentez ce QR code ou le code ci-dessous lors du dépôt de votre appareil au point relais."})]}),c.jsxs("div",{ref:d,className:"bg-white border border-gray-200 rounded-lg p-6 max-w-md mx-auto",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(xy,{value:e,size:200,level:"H",includeMargin:!0,imageSettings:{src:"/logo.png",height:40,width:40,excavate:!0}})}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Code de réparation"}),c.jsx("div",{className:"text-2xl font-bold tracking-wider bg-gray-100 py-2 px-4 rounded-lg inline-block",children:t})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Référence:"}),c.jsx("span",{className:"font-medium",children:r.substring(0,8)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Point relais:"}),c.jsx("span",{className:"font-medium",children:A})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Date prévue:"}),c.jsx("span",{className:"font-medium",children:x(s)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Appareil:"}),c.jsxs("span",{className:"font-medium",children:[a.brand," ",a.model]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 text-xs text-gray-500 text-center",children:c.jsx("p",{children:"Ce code est valable pendant 24 heures."})})]}),c.jsxs("div",{className:"flex justify-center mt-6 space-x-3",children:[c.jsxs(we,{variant:"outline",onClick:g,className:"flex items-center",children:[c.jsx(oF,{className:"h-4 w-4 mr-2"}),"Imprimer"]}),c.jsxs(we,{variant:"outline",onClick:f,className:"flex items-center",children:[c.jsx(P1,{className:"h-4 w-4 mr-2"}),"Télécharger"]}),typeof navigator<"u"&&"share"in navigator&&c.jsxs(we,{variant:"outline",onClick:p,className:"flex items-center",children:[c.jsx(uF,{className:"h-4 w-4 mr-2"}),"Partager"]})]}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[c.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Prochaines étapes :"}),c.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-gray-600",children:[c.jsx("li",{children:"Apportez votre appareil au point relais sélectionné à la date prévue."}),c.jsx("li",{children:"Présentez ce QR code ou le code de réparation au personnel du point relais."}),c.jsx("li",{children:"Vous recevrez des notifications par email sur l'avancement de votre réparation."}),c.jsx("li",{children:"Une fois la réparation terminée, vous serez notifié pour récupérer votre appareil."})]})]})]})},Rm=[{value:"laptop",label:"Ordinateur portable"},{value:"desktop",label:"Ordinateur de bureau"},{value:"smartphone",label:"Smartphone"},{value:"tablet",label:"Tablette"},{value:"printer",label:"Imprimante"},{value:"other",label:"Autre"}],Om=[{value:"apple",label:"Apple"},{value:"samsung",label:"Samsung"},{value:"dell",label:"Dell"},{value:"hp",label:"HP"},{value:"lenovo",label:"Lenovo"},{value:"asus",label:"Asus"},{value:"acer",label:"Acer"},{value:"microsoft",label:"Microsoft"},{value:"sony",label:"Sony"},{value:"other",label:"Autre"}],nU=()=>{var Ir,Rt;const e=FA(),{user:t}=ir(),[r,A]=G.useState(1),[s,a]=G.useState("laptop"),[d,x]=G.useState("dell"),[g,f]=G.useState(null),[p,w]=G.useState(""),[y,E]=G.useState(""),[F,I]=G.useState(""),[U,_]=G.useState(""),[C,b]=G.useState(""),[S,k]=G.useState(""),[D,O]=G.useState(null),[H,P]=G.useState(""),[M,z]=G.useState(!1),[Y,K]=G.useState(!1),[q,V]=G.useState([]),[Ae,ae]=G.useState(!1),[Z,ee]=G.useState(null),[le,te]=G.useState(""),[re,oe]=G.useState(""),[ie,Oe]=G.useState(""),he=async()=>{if(console.log("handleNext appelé avec les valeurs suivantes:",{deviceType:s,brand:d,model:p,problemDescription:y,step:r}),r===1){z(!0);try{let Se="";y.toLowerCase().includes("ne s'allume")?Se="Selon votre description, il pourrait s'agir d'un problème d'alimentation ou de batterie. Notre technicien vérifiera l'adaptateur secteur, la prise DC et la batterie. Une réparation simple pourrait coûter entre 60€ et 120€ selon les pièces à remplacer.":y.toLowerCase().includes("écran")?Se="Votre appareil semble avoir un problème d'affichage. Cela pourrait être dû à un écran endommagé ou à un problème de connexion avec la carte mère. Le coût estimé de réparation se situe entre 80€ et 200€ selon le modèle.":y.toLowerCase().includes("surchauffe")?Se="La surchauffe est souvent causée par une accumulation de poussière dans les ventilateurs ou un problème de pâte thermique. Un nettoyage complet et le remplacement de la pâte thermique coûteraient environ 60€ à 90€.":Se="Nous aurons besoin d'examiner votre appareil pour établir un diagnostic précis. Notre technicien effectuera une analyse complète pour identifier la source du problème et vous proposera une solution adaptée.",setTimeout(()=>{b(Se),z(!1),A(2)},1500)}catch(Se){console.error("Erreur lors de l'analyse IA:",Se),z(!1),ee("Une erreur est survenue lors de l'analyse. Veuillez réessayer.")}}else if(r===2)A(3);else if(r===3){if(!S||!H){ee("Veuillez sélectionner un point relais et une date de dépôt.");return}ae(!0),ee(null);try{if(!t)throw new Error("Vous devez être connecté pour soumettre une demande de réparation.");const Se={clientId:t.id,deviceType:s,brand:d,model:p,problemDescription:y,statusId:g||"1",preDiagnosis:C,dropOffRelayId:S,appointmentDate:H},ve=await Ko.createRepair(Se);Oe(ve.id);const{qrData:qe,repairCode:nt}=Ga.generateQRCodeData(ve.id,S,t.id);te(qe),oe(nt),await z1.createNotification({userId:t.id,title:"Demande de réparation créée",message:`Votre demande de réparation a été enregistrée avec succès. Code de réparation: ${nt}`,type:"success",isRead:!1,link:`/repairs/${ve.id}`}),console.log("Notification au point relais désactivée temporairement"),ae(!1),A(4)}catch(Se){console.error("Erreur lors de la soumission de la demande:",Se),ee("Une erreur est survenue lors de la soumission de votre demande. Veuillez réessayer."),ae(!1)}}else r===4&&e("/dashboard",{state:{success:!0,message:"Votre demande de réparation a été soumise avec succès."}})},et=()=>{A(r-1)};G.useEffect(()=>{F&&r===2&&Ne()},[F,r]),G.useEffect(()=>{(async()=>{try{console.log("Début de la récupération des statuts...");const ve=await Ko.getRepairStatuses();if(console.log("Statuts récupérés:",ve),!ve||ve.length===0){console.warn("Aucun statut n'a été trouvé dans la base de données. Création d'un statut par défaut...");try{f(null);return}catch(nt){console.error("Erreur lors de la création du statut par défaut:",nt)}}const qe=ve.find(nt=>{var Tr,gt,We;return((Tr=nt.name)==null?void 0:Tr.toLowerCase())==="submitted"||((gt=nt.name)==null?void 0:gt.toLowerCase())==="soumise"||((We=nt.name)==null?void 0:We.toLowerCase())==="nouvelle"});qe?(f(qe.id),console.log("Statut initial trouvé:",qe)):(console.error("Aucun statut initial trouvé parmi les statuts disponibles"),ve.length>0?(f(ve[0].id),console.log("Utilisation du premier statut disponible comme fallback:",ve[0])):f(null))}catch(ve){console.error("Erreur lors du chargement des statuts:",ve),f(null)}})()},[]);const Ne=async()=>{if(!F.trim()){ee("Veuillez entrer une adresse pour rechercher les points relais.");return}try{ae(!0),ee(null);const Se=await fo.getNearbyRelayPoints(F,20);V(Se),Se.length===0?ee("Aucun point relais trouvé à proximité de cette adresse. Essayez une autre adresse ou élargissez votre recherche."):K(!0)}catch(Se){console.error("Erreur lors de la recherche des points relais:",Se),ee(Se.message||"Une erreur est survenue lors de la recherche des points relais. Veuillez réessayer.")}finally{ae(!1)}},Yr=Se=>{k(Se);const ve=q.find(qe=>qe.id===Se);ve&&O(ve)};return c.jsx(MA,{children:c.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Demande de réparation"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Décrivez votre problème et nous nous occupons du reste"})]}),c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between w-full max-w-3xl mx-auto",children:[c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white text-sm ${r>=1?"bg-primary":"bg-gray-300"}`,children:"1"}),c.jsx("span",{className:"mt-2 text-sm font-medium text-gray-600",children:"Problème"})]}),c.jsx("div",{className:`flex-1 h-1 mx-2 ${r>=2?"bg-primary":"bg-gray-200"}`}),c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white text-sm ${r>=2?"bg-primary":"bg-gray-300"}`,children:"2"}),c.jsx("span",{className:"mt-2 text-sm font-medium text-gray-600",children:"Diagnostic"})]}),c.jsx("div",{className:`flex-1 h-1 mx-2 ${r>=3?"bg-primary":"bg-gray-200"}`}),c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white text-sm ${r>=3?"bg-primary":"bg-gray-300"}`,children:"3"}),c.jsx("span",{className:"mt-2 text-sm font-medium text-gray-600",children:"Point relais"})]}),c.jsx("div",{className:`flex-1 h-1 mx-2 ${r>=4?"bg-primary":"bg-gray-200"}`}),c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white text-sm ${r>=4?"bg-primary":"bg-gray-300"}`,children:"4"}),c.jsx("span",{className:"mt-2 text-sm font-medium text-gray-600",children:"QR Code"})]})]})}),c.jsx(ce,{children:c.jsxs(ce.Content,{className:"p-6",children:[r===1&&c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Décrivez votre appareil et le problème rencontré"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(lf,{label:"Type d'appareil",options:Rm,value:s,onChange:a,required:!0,fullWidth:!0}),c.jsx(lf,{label:"Marque",options:Om,value:d,onChange:x,required:!0,fullWidth:!0})]}),c.jsx(nr,{label:"Modèle",type:"text",value:p,onChange:Se=>w(Se.target.value),placeholder:"Ex: MacBook Pro 2019, Galaxy S21...",required:!0,fullWidth:!0}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"problem",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description du problème"}),c.jsx("textarea",{id:"problem",rows:5,value:y,onChange:Se=>E(Se.target.value),placeholder:"Décrivez en détail le problème que vous rencontrez avec votre appareil...",className:"block w-full rounded-md border border-gray-300 bg-white px-4 py-3 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",required:!0}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Plus votre description est précise, plus notre diagnostic sera pertinent."})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(we,{variant:"primary",size:"lg",icon:c.jsx(Yx,{className:"h-5 w-5"}),iconPosition:"right",onClick:he,disabled:M||!s||!d||!y,children:M?"Analyse en cours...":"Analyser mon problème"})})]}),r===2&&c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pré-diagnostic IA"}),c.jsxs("div",{className:"bg-primary/5 p-4 rounded-lg border border-primary/20 relative",children:[c.jsx("div",{className:"absolute top-0 right-0 transform -translate-y-1/2 bg-primary text-white text-xs px-2 py-1 rounded",children:"IA"}),c.jsx("p",{className:"text-gray-700",children:C}),c.jsxs("div",{className:"mt-4 flex items-center text-gray-600 text-sm",children:[c.jsx(Jb,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:"Ce diagnostic initial est généré par notre intelligence artificielle. Un technicien effectuera une analyse complète."})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Votre appareil"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Type d'appareil:"}),c.jsx("p",{className:"font-medium text-gray-900",children:((Ir=Rm.find(Se=>Se.value===s))==null?void 0:Ir.label)||s})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Marque:"}),c.jsx("p",{className:"font-medium text-gray-900",children:((Rt=Om.find(Se=>Se.value===d))==null?void 0:Rt.label)||d})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Modèle:"}),c.jsx("p",{className:"font-medium text-gray-900",children:p})]})]})]}),c.jsx("div",{className:"flex items-center",children:c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary shadow-sm focus:border-primary focus:ring focus:ring-primary/20"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"J'accepte que mon appareil soit examiné et qu'un devis me soit proposé"})]})}),c.jsxs("div",{className:"flex items-center pt-4",children:[c.jsx(fa,{className:"h-5 w-5 text-primary mr-3"}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Des questions ? Vous pouvez ",c.jsx("a",{href:"#",className:"text-primary font-medium",children:"discuter avec notre assistant"})]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx(we,{variant:"outline",onClick:et,children:"Retour"}),c.jsx(we,{variant:"primary",size:"lg",icon:c.jsx(Yx,{className:"h-5 w-5"}),iconPosition:"right",onClick:he,children:"Choisir un point relais"})]})]}),r===3&&c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Choisissez un point relais"}),c.jsx("div",{className:"mb-4",children:c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"relative",children:[c.jsx(ty,{label:"Votre adresse",placeholder:"Entrez votre adresse pour trouver les points relais proches",value:F,onChange:(Se,ve)=>{I(Se),ve&&_(ve)},onPlaceSelect:Se=>{Se.formatted_address&&(I(Se.formatted_address),setTimeout(()=>Ne(),100))},disabled:Ae}),c.jsx("div",{className:"absolute right-2 top-9",children:c.jsx(we,{variant:"outline",size:"sm",onClick:Ne,disabled:!F.trim()||Ae,className:"h-8",children:Ae?c.jsx("span",{className:"animate-spin inline-block h-4 w-4 border-b-2 border-primary rounded-full"}):c.jsxs(c.Fragment,{children:[c.jsx(j0,{className:"h-4 w-4 mr-1"})," Rechercher"]})})})]})})}),Z&&c.jsx("div",{className:"p-4 mb-4 bg-error/10 border border-error/20 rounded-lg text-error text-sm",children:Z}),Y&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-gray-200 h-64 rounded-lg flex items-center justify-center relative overflow-hidden",children:[c.jsx("img",{src:"https://images.pexels.com/photos/4386442/pexels-photo-4386442.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Carte des points relais",className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:c.jsx("p",{className:"text-white text-lg font-medium",children:"Carte interactive des points relais"})})]}),c.jsx("h3",{className:"font-medium text-gray-900",children:"Points relais à proximité"}),Ae?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):q.length===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucun point relais trouvé à proximité. Essayez une autre adresse."}):c.jsx("div",{className:"space-y-3",children:q.map(Se=>c.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${S===Se.id?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>Yr(Se.id),children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:Se.businessName}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:Se.address}),c.jsx("p",{className:"text-gray-500 text-xs mt-2",children:typeof Se.openingHours=="string"?Se.openingHours:Se.openingHours&&typeof Se.openingHours=="object"?Object.entries(Se.openingHours).map(([ve,qe])=>{if(qe&&typeof qe=="object"){const nt=qe;return nt.open&&nt.close?`${ve.charAt(0).toUpperCase()+ve.slice(1)}: ${nt.open}-${nt.close}`:`${ve.charAt(0).toUpperCase()+ve.slice(1)}: Fermé`}return`${ve.charAt(0).toUpperCase()+ve.slice(1)}: ${String(qe)}`}).join(", "):"Horaires non disponibles"})]}),c.jsxs("div",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-sm font-medium",children:[Se.distance," km"]})]})},Se.id))}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date préférentielle de dépôt"}),c.jsx("input",{type:"date",id:"preferredDate",value:H,onChange:Se=>P(Se.target.value),min:new Date().toISOString().split("T")[0],className:"block w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),S&&c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(vn,{className:"h-5 w-5 text-blue-500 mr-2 mt-0.5"}),c.jsx("div",{children:c.jsx("p",{className:"text-sm text-blue-800",children:"Après validation, vous recevrez un QR code et un code de réparation à présenter lors du dépôt de votre appareil."})})]})})]}),c.jsxs("div",{className:"flex justify-between pt-4",children:[c.jsx(we,{variant:"outline",onClick:et,disabled:Ae,children:"Retour"}),c.jsx(we,{variant:"primary",size:"lg",onClick:he,disabled:!S||!H||Ae,children:Ae?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin inline-block h-4 w-4 border-b-2 border-white rounded-full mr-2"}),"Traitement..."]}):"Finaliser ma demande"})]})]}),r===4&&c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Votre demande a été enregistrée"}),le&&re&&ie&&c.jsx(AU,{qrData:le,repairCode:re,repairId:ie,relayName:(D==null?void 0:D.businessName)||"",appointmentDate:H,deviceInfo:{type:s,brand:d,model:p}}),c.jsx("div",{className:"flex justify-center pt-4",children:c.jsx(we,{variant:"primary",size:"lg",onClick:he,children:"Retour au tableau de bord"})})]})]})})]})})},hr=[];for(let e=0;e<256;++e)hr.push((e+256).toString(16).slice(1));function sU(e,t=0){return(hr[e[t+0]]+hr[e[t+1]]+hr[e[t+2]]+hr[e[t+3]]+"-"+hr[e[t+4]]+hr[e[t+5]]+"-"+hr[e[t+6]]+hr[e[t+7]]+"-"+hr[e[t+8]]+hr[e[t+9]]+"-"+hr[e[t+10]]+hr[e[t+11]]+hr[e[t+12]]+hr[e[t+13]]+hr[e[t+14]]+hr[e[t+15]]).toLowerCase()}let th;const iU=new Uint8Array(16);function aU(){if(!th){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");th=crypto.getRandomValues.bind(crypto)}return th(iU)}const oU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),km={randomUUID:oU};function lU(e,t,r){var s;if(km.randomUUID&&!t&&!e)return km.randomUUID();e=e||{};const A=e.random??((s=e.rng)==null?void 0:s.call(e))??aU();if(A.length<16)throw new Error("Random bytes length must be >= 16");return A[6]=A[6]&15|64,A[8]=A[8]&63|128,sU(A)}const Bo={async uploadFile(e,t,r,A,s){try{if(!this.isValidFileType(e,t))throw new Error(`Type de fichier non autorisé: ${e.type}`);if(e.size>10*1024*1024)throw new Error("Le fichier est trop volumineux (max 10MB)");const a=lU(),d=e.name.split(".").pop(),x=`${a}.${d}`,g=`${t==="image"?"images":"documents"}/${x}`,{data:f,error:p}=await fe.storage.from("repair-files").upload(g,e,{cacheControl:"3600",upsert:!1});if(p)throw p;const{data:w}=await fe.storage.from("repair-files").getPublicUrl(g);let y;if(t==="image"){const{data:I}=await fe.storage.from("repair-files").getPublicUrl(g,{transform:{width:200,height:200,resize:"cover"}});y=I==null?void 0:I.publicUrl}const{data:E,error:F}=await fe.from("files").insert({id:a,name:e.name,size:e.size,type:e.type,url:(w==null?void 0:w.publicUrl)||"",thumbnail_url:y||null,created_at:new Date().toISOString(),repair_id:A||null,message_id:s||null,user_id:r}).select().single();if(F)throw await this.deleteFile(g),F;return{id:E.id,name:E.name,size:E.size,type:E.type,url:E.url,thumbnailUrl:E.thumbnail_url,createdAt:E.created_at,repairId:E.repair_id,messageId:E.message_id,userId:E.user_id}}catch(a){return console.error("Erreur lors du téléchargement du fichier:",a),null}},async deleteFile(e){try{const{error:t}=await fe.storage.from("repair-files").remove([e]);if(t)throw t;return!0}catch(t){return console.error("Erreur lors de la suppression du fichier:",t),!1}},async deleteFileById(e){try{const{data:t,error:r}=await fe.from("files").select("*").eq("id",e).single();if(r||!t)throw new Error("Fichier non trouvé");const s=new URL(t.url).pathname.split("/").slice(2).join("/"),{error:a}=await fe.storage.from("repair-files").remove([s]);if(a)throw a;const{error:d}=await fe.from("files").delete().eq("id",e);if(d)throw d;return!0}catch(t){return console.error("Erreur lors de la suppression du fichier:",t),!1}},async getRepairFiles(e){try{const{data:t,error:r}=await fe.from("files").select("*").eq("repair_id",e).order("created_at",{ascending:!1});if(r)throw r;return(t||[]).map(A=>({id:A.id,name:A.name,size:A.size,type:A.type,url:A.url,thumbnailUrl:A.thumbnail_url,createdAt:A.created_at,repairId:A.repair_id,messageId:A.message_id,userId:A.user_id}))}catch(t){return console.error("Erreur lors de la récupération des fichiers:",t),[]}},async getMessageFiles(e){try{const{data:t,error:r}=await fe.from("files").select("*").eq("message_id",e).order("created_at",{ascending:!1});if(r)throw r;return(t||[]).map(A=>({id:A.id,name:A.name,size:A.size,type:A.type,url:A.url,thumbnailUrl:A.thumbnail_url,createdAt:A.created_at,repairId:A.repair_id,messageId:A.message_id,userId:A.user_id}))}catch(t){return console.error("Erreur lors de la récupération des fichiers:",t),[]}},isValidFileType(e,t){return t==="image"?e.type.startsWith("image/"):t==="document"?["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","text/csv"].includes(e.type):!1}},c0=({onFileUploaded:e,acceptedFileType:t,repairId:r,messageId:A,maxSizeMB:s=10,className:a=""})=>{const{user:d}=ir(),[x,g]=G.useState(!1),[f,p]=G.useState(null),[w,y]=G.useState(null),E=G.useRef(null),F=S=>{const k=S.target.files;if(!k||k.length===0)return;const D=k[0];if(D.size>s*1024*1024){p(`Le fichier est trop volumineux (max ${s}MB)`);return}if(!Bo.isValidFileType(D,t)){p(`Type de fichier non autorisé: ${D.type}`);return}y(D),p(null)},I=async()=>{if(!(!w||!d))try{g(!0),p(null);const S=await Bo.uploadFile(w,t,d.id,r,A);if(!S)throw new Error("Échec du téléchargement du fichier");e(S.url,S.name,S.type),y(null),E.current&&(E.current.value="")}catch(S){console.error("Erreur lors du téléchargement:",S),p(S instanceof Error?S.message:"Erreur lors du téléchargement")}finally{g(!1)}},U=()=>{y(null),p(null),E.current&&(E.current.value="")},_=()=>{E.current&&E.current.click()},C=()=>w?w.type.startsWith("image/")?c.jsx(K1,{className:"h-5 w-5"}):c.jsx($B,{className:"h-5 w-5"}):c.jsx(Wu,{className:"h-5 w-5"}),b=S=>S<1024?S+" B":S<1024*1024?(S/1024).toFixed(1)+" KB":(S/(1024*1024)).toFixed(1)+" MB";return c.jsxs("div",{className:`flex flex-col ${a}`,children:[c.jsx("input",{type:"file",ref:E,onChange:F,accept:t==="image"?"image/*":".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv",className:"hidden"}),c.jsx("div",{className:"flex items-center gap-2",children:w?c.jsxs("div",{className:"flex items-center gap-2 border rounded-md p-2 w-full",children:[c.jsx("div",{className:"flex-shrink-0",children:C()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:w.name}),c.jsx("p",{className:"text-xs text-gray-500",children:b(w.size)})]}),c.jsx("div",{className:"flex-shrink-0 flex gap-2",children:x?c.jsx(Po,{className:"h-5 w-5 animate-spin text-primary"}):c.jsxs(c.Fragment,{children:[c.jsxs(we,{type:"button",variant:"primary",size:"sm",onClick:I,className:"flex items-center gap-1",children:[c.jsx(Wu,{className:"h-4 w-4"}),c.jsx("span",{children:"Envoyer"})]}),c.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:U,className:"text-gray-500",children:c.jsx(js,{className:"h-4 w-4"})})]})})]}):c.jsxs(we,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:x,className:"flex items-center gap-2",children:[c.jsx(Wu,{className:"h-4 w-4"}),c.jsx("span",{children:t==="image"?"Ajouter une image":"Ajouter un document"})]})}),f&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:f})]})},Rf=({file:e,onDelete:t,showDelete:r=!1,className:A=""})=>{const[s,a]=G.useState(!1),d=e.type.startsWith("image/"),x=e.type==="application/pdf",g=E=>E<1024?E+" B":E<1024*1024?(E/1024).toFixed(1)+" KB":(E/(1024*1024)).toFixed(1)+" MB",f=()=>d?c.jsx(K1,{className:"h-5 w-5 text-blue-500"}):x?c.jsx(Wn,{className:"h-5 w-5 text-red-500"}):e.type.includes("word")?c.jsx(Wn,{className:"h-5 w-5 text-blue-700"}):e.type.includes("excel")||e.type.includes("spreadsheet")?c.jsx(Wn,{className:"h-5 w-5 text-green-600"}):e.type.includes("presentation")||e.type.includes("powerpoint")?c.jsx(Wn,{className:"h-5 w-5 text-orange-500"}):c.jsx($B,{className:"h-5 w-5 text-gray-500"}),p=()=>{const E=document.createElement("a");E.href=e.url,E.download=e.name,document.body.appendChild(E),E.click(),document.body.removeChild(E)},w=()=>{t&&t(e.id)},y=()=>{a(!s)};return c.jsxs("div",{className:`border rounded-md overflow-hidden ${A}`,children:[d&&e.thumbnailUrl&&!s&&c.jsx("div",{className:"h-32 bg-gray-100 flex items-center justify-center cursor-pointer",onClick:y,children:c.jsx("img",{src:e.thumbnailUrl,alt:e.name,className:"h-full w-full object-contain"})}),d&&s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[c.jsx("img",{src:e.url,alt:e.name,className:"max-h-[80vh] max-w-full object-contain"}),c.jsx(we,{variant:"ghost",size:"sm",onClick:y,className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white rounded-full p-1",children:c.jsx(js,{className:"h-5 w-5"})})]})}),x&&!s&&c.jsx("div",{className:"h-32 bg-gray-100 flex items-center justify-center cursor-pointer",onClick:y,children:c.jsx(Wn,{className:"h-12 w-12 text-red-500"})}),x&&s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-white w-full max-w-4xl h-[80vh]",children:[c.jsx("iframe",{src:`${e.url}#toolbar=0`,title:e.name,className:"w-full h-full"}),c.jsx(we,{variant:"ghost",size:"sm",onClick:y,className:"absolute top-2 right-2 bg-white rounded-full p-1",children:c.jsx(js,{className:"h-5 w-5"})})]})}),!d&&!x&&c.jsx("div",{className:"h-32 bg-gray-100 flex items-center justify-center",children:f()}),c.jsxs("div",{className:"p-3",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g(e.size)})]})}),c.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(we,{variant:"outline",size:"sm",onClick:p,className:"flex items-center gap-1",children:[c.jsx(P1,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only sm:not-sr-only",children:"Télécharger"})]}),c.jsxs(we,{variant:"outline",size:"sm",onClick:()=>window.open(e.url,"_blank"),className:"flex items-center gap-1",children:[c.jsx($b,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only sm:not-sr-only",children:"Ouvrir"})]})]}),r&&t&&c.jsxs(we,{variant:"ghost",size:"sm",onClick:w,className:"text-red-500 hover:text-red-700",children:[c.jsx(js,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Supprimer"})]})]})]})]})},Lm=({repairId:e,messageId:t,onDeleteFile:r,showDelete:A=!1,className:s=""})=>{const[a,d]=G.useState([]),[x,g]=G.useState(!0),[f,p]=G.useState(null);G.useEffect(()=>{e||t?(async()=>{try{g(!0),p(null);let I=[];e?I=await Bo.getRepairFiles(e):t&&(I=await Bo.getMessageFiles(t)),d(I)}catch(I){console.error("Erreur lors du chargement des fichiers:",I),p("Impossible de charger les fichiers. Veuillez réessayer.")}finally{g(!1)}})():(g(!1),d([]))},[e,t]);const w=async F=>{try{await Bo.deleteFileById(F)?(d(U=>U.filter(_=>_.id!==F)),r&&r(F)):p("Échec de la suppression du fichier. Veuillez réessayer.")}catch(I){console.error("Erreur lors de la suppression du fichier:",I),p("Erreur lors de la suppression du fichier.")}};if(x)return c.jsxs("div",{className:`flex items-center justify-center p-4 ${s}`,children:[c.jsx(Po,{className:"h-6 w-6 animate-spin text-primary"}),c.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Chargement des fichiers..."})]});if(f)return c.jsx("div",{className:`p-4 text-red-500 text-sm ${s}`,children:f});if(a.length===0)return null;const y=a.filter(F=>F.type.startsWith("image/")),E=a.filter(F=>!F.type.startsWith("image/"));return c.jsxs("div",{className:s,children:[y.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Images (",y.length,")"]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:y.map(F=>c.jsx(Rf,{file:F,onDelete:A?w:void 0,showDelete:A},F.id))})]}),E.length>0&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Documents (",E.length,")"]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:E.map(F=>c.jsx(Rf,{file:F,onDelete:A?w:void 0,showDelete:A},F.id))})]})]})},jm=()=>{const{id:e}=O1(),t=FA(),{user:r}=ir(),[A,s]=G.useState(null),[a,d]=G.useState(!0),[x,g]=G.useState(null),[f,p]=G.useState([]),[w,y]=G.useState(!1),[E,F]=G.useState(!1),[I,U]=G.useState(""),[_,C]=G.useState(""),[b,S]=G.useState(""),[k,D]=G.useState(!1);G.useEffect(()=>{(async()=>{var z,Y,K,q,V,Ae,ae;if(!(!e||!r))try{d(!0),g(null);const{data:Z,error:ee}=await fe.from("repair_requests").select(`
            *,
            status:repair_statuses(id, name, label),
            client:profiles!client_id(id, first_name, last_name, email, phone_number),
            technician:profiles!technician_id(id, first_name, last_name),
            dropOffRelay:profiles!drop_off_relay_id(id, business_name),
            pickupRelay:profiles!pickup_relay_id(id, business_name)
          `).eq("id",e).single();if(ee)throw ee;if(!Z){g("Réparation non trouvée");return}const le={id:Z.id,clientId:Z.client_id,clientName:Z.client?`${Z.client.first_name} ${Z.client.last_name}`:void 0,clientEmail:(z=Z.client)==null?void 0:z.email,clientPhone:(Y=Z.client)==null?void 0:Y.phone_number,deviceType:Z.device_type,brand:Z.brand,model:Z.model,problemDescription:Z.problem_description,preDiagnosis:Z.pre_diagnosis,estimatedCost:Z.estimated_cost,statusId:Z.status_id,statusName:(K=Z.status)==null?void 0:K.name,statusLabel:(q=Z.status)==null?void 0:q.label,createdAt:Z.created_at,updatedAt:Z.updated_at,dropOffRelayId:Z.drop_off_relay_id,dropOffRelayName:(V=Z.dropOffRelay)==null?void 0:V.business_name,pickupRelayId:Z.pickup_relay_id,pickupRelayName:(Ae=Z.pickupRelay)==null?void 0:Ae.business_name,appointmentDate:Z.appointment_date,technicianId:Z.technician_id,technicianName:Z.technician?`${Z.technician.first_name} ${Z.technician.last_name}`:void 0,notes:Z.notes};s(le),U(le.notes||""),C(((ae=le.estimatedCost)==null?void 0:ae.toString())||""),S(le.statusId.toString());const{data:te,error:re}=await fe.from("repair_statuses").select("*").order("id");if(re)throw re;p(te||[])}catch(Z){console.error("Erreur lors du chargement des détails de la réparation:",Z),g("Impossible de charger les détails de la réparation. Veuillez réessayer.")}finally{d(!1)}})()},[e,r]);const O=M=>M?new Date(M).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non défini",H=(M,z)=>{if(!M||!z)return null;const Y=()=>{switch(M){case"pending":return"warning";case"received":case"diagnosed":case"inRepair":return"primary";case"repaired":case"readyForPickup":case"completed":return"success";case"cancelled":return"error";default:return"default"}};return c.jsx(Vr,{variant:Y(),children:z})},P=async()=>{var M;if(!(!A||!r))try{y(!0),F(!1);const z={status_id:b,notes:I,updated_at:new Date().toISOString()};r.role==="technician"&&_&&(z.estimated_cost=parseFloat(_));const{error:Y}=await fe.from("repair_requests").update(z).eq("id",A.id);if(Y)throw Y;const K=((M=f.find(q=>q.id===b))==null?void 0:M.label)||"";await fe.from("notifications").insert({user_id:A.clientId,title:"Mise à jour de votre réparation",message:`Le statut de votre réparation ${A.brand} ${A.model} a été mis à jour: ${K}`,type:"info",related_to_request_id:A.id,is_read:!1,timestamp:new Date().toISOString()}),F(!0),setTimeout(()=>{window.location.reload()},1500)}catch(z){console.error("Erreur lors de la mise à jour de la réparation:",z),g("Impossible de mettre à jour la réparation. Veuillez réessayer.")}finally{y(!1)}};return a?c.jsx("div",{className:"p-6 flex justify-center items-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):x||!A?c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"bg-error/10 border border-error/20 rounded-lg p-4 text-error",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Erreur"}),c.jsx("p",{children:x||"Réparation non trouvée"}),c.jsx(we,{variant:"outline",className:"mt-4",onClick:()=>t(-1),children:"Retour"})]})}):c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsxs(we,{variant:"ghost",className:"mr-4",onClick:()=>t(-1),children:[c.jsx(L0,{className:"h-5 w-5 mr-2"}),"Retour"]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Détails de la réparation"}),c.jsxs("p",{className:"text-gray-600",children:[A.brand," ",A.model," - ",A.deviceType]})]})]}),E&&c.jsx("div",{className:"mb-6 p-4 bg-success/10 border border-success/20 rounded-lg text-success",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(nA,{className:"h-5 w-5 mr-2"}),c.jsx("p",{children:"La réparation a été mise à jour avec succès."})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsxs(ce,{className:"md:col-span-2",children:[c.jsx(ce.Header,{children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(ce.Title,{children:"Informations générales"}),H(A.statusName,A.statusLabel)]})}),c.jsx(ce.Content,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Appareil"}),c.jsx("p",{className:"text-gray-900",children:A.deviceType})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Marque / Modèle"}),c.jsxs("p",{className:"text-gray-900",children:[A.brand," ",A.model]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date de création"}),c.jsx("p",{className:"text-gray-900",children:O(A.createdAt)})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Dernière mise à jour"}),c.jsx("p",{className:"text-gray-900",children:O(A.updatedAt)})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Description du problème"}),c.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:A.problemDescription})]}),A.preDiagnosis&&c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Pré-diagnostic"}),c.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:A.preDiagnosis})]}),A.estimatedCost!==void 0&&A.estimatedCost!==null&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Coût estimé"}),c.jsxs("p",{className:"text-gray-900",children:[A.estimatedCost," €"]})]})]})})]}),c.jsxs(ce,{children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Contacts"})}),c.jsx(ce.Content,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(sa,{className:"h-4 w-4 text-gray-500 mr-2"}),c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Client"})]}),c.jsx("p",{className:"text-gray-900",children:A.clientName||"Non défini"}),A.clientEmail&&c.jsx("p",{className:"text-gray-600 text-sm",children:A.clientEmail}),A.clientPhone&&c.jsx("p",{className:"text-gray-600 text-sm",children:A.clientPhone})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(G1,{className:"h-4 w-4 text-gray-500 mr-2"}),c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Technicien"})]}),c.jsx("p",{className:"text-gray-900",children:A.technicianName||"Non assigné"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(bA,{className:"h-4 w-4 text-gray-500 mr-2"}),c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Point relais (dépôt)"})]}),c.jsx("p",{className:"text-gray-900",children:A.dropOffRelayName||"Non défini"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(bA,{className:"h-4 w-4 text-gray-500 mr-2"}),c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Point relais (retrait)"})]}),c.jsx("p",{className:"text-gray-900",children:A.pickupRelayName||"Non défini"})]})]})})]})]}),((r==null?void 0:r.role)==="technician"||(r==null?void 0:r.role)==="relayPoint")&&c.jsxs(ce,{className:"mb-6",children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Gestion de la réparation"})}),c.jsxs(ce.Content,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut de la réparation"}),c.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",value:b,onChange:M=>S(M.target.value),children:f.map(M=>c.jsx("option",{value:M.id,children:M.label},M.id))})]}),(r==null?void 0:r.role)==="technician"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coût estimé (€)"}),c.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",value:_,onChange:M=>C(M.target.value),min:"0",step:"0.01"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",value:I,onChange:M=>U(M.target.value),rows:4,placeholder:"Ajouter des notes sur la réparation..."})]})]}),c.jsxs("div",{className:"mt-6 border-t pt-6",children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[c.jsx(Wn,{className:"h-5 w-5 mr-2 text-primary"}),"Documents et photos"]}),c.jsxs("div",{className:"mb-4",children:[c.jsx(c0,{onFileUploaded:()=>{D(!0),setTimeout(()=>D(!1),3e3)},acceptedFileType:"image",repairId:e,className:"mb-2"}),c.jsx(c0,{onFileUploaded:()=>{D(!0),setTimeout(()=>D(!1),3e3)},acceptedFileType:"document",repairId:e}),k&&c.jsx("div",{className:"mt-2 p-2 bg-green-50 text-green-700 text-sm rounded",children:"Fichier téléchargé avec succès!"})]}),c.jsx(Lm,{repairId:e,showDelete:(r==null?void 0:r.role)==="technician"||(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="relayPoint",className:"mt-4"})]}),c.jsxs("div",{className:"mt-6 flex justify-between",children:[c.jsxs(we,{variant:"outline",onClick:()=>t(`/chat/${e}`),disabled:w,children:[c.jsx(af,{className:"h-5 w-5 mr-2"}),"Discuter avec le client"]}),c.jsx(we,{variant:"primary",onClick:P,disabled:w,children:w?"Mise à jour...":"Mettre à jour la réparation"})]})]})]}),(r==null?void 0:r.role)==="client"&&(r==null?void 0:r.id)===A.clientId&&c.jsxs(ce,{className:"mb-6",children:[c.jsx(ce.Header,{children:c.jsx(ce.Title,{children:"Suivi de votre réparation"})}),c.jsxs(ce.Content,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${A.statusName==="completed"?"bg-success text-white":"bg-gray-200 text-gray-500"}`,children:c.jsx(nA,{className:"h-5 w-5"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"font-medium",children:"Statut actuel"}),c.jsx("p",{className:"text-gray-600",children:A.statusLabel})]})]}),A.estimatedCost!==void 0&&A.estimatedCost!==null&&c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center",children:c.jsx(Yb,{className:"h-5 w-5"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"font-medium",children:"Coût estimé"}),c.jsxs("p",{className:"text-gray-600",children:[A.estimatedCost," €"]})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center",children:c.jsx(Zs,{className:"h-5 w-5"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"font-medium",children:"Dernière mise à jour"}),c.jsx("p",{className:"text-gray-600",children:O(A.updatedAt)})]})]})]}),c.jsxs("div",{className:"mt-6 border-t pt-4",children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[c.jsx(Wn,{className:"h-5 w-5 mr-2 text-primary"}),"Documents et photos"]}),c.jsx(Lm,{repairId:e,showDelete:!1,className:"mt-4"})]}),c.jsx("div",{className:"mt-6",children:c.jsx(be,{to:`/chat/${A.id}`,children:c.jsxs(we,{variant:"outline",className:"w-full",children:[c.jsx(fa,{className:"h-5 w-5 mr-2"}),"Contacter le technicien"]})})})]})]})]})};var cU={};const sc={isPushSupported(){return"serviceWorker"in navigator&&"PushManager"in window},async requestPermission(){if(!this.isPushSupported())throw new Error("Les notifications push ne sont pas supportées par ce navigateur");return await Notification.requestPermission()},async registerServiceWorker(){if(!this.isPushSupported())throw new Error("Les notifications push ne sont pas supportées par ce navigateur");return await navigator.serviceWorker.register("/service-worker.js")},async subscribe(e){try{if(await this.requestPermission()!=="granted")return console.log("Permission de notification refusée"),null;const s=(await(await this.registerServiceWorker()).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(cU.REACT_APP_VAPID_PUBLIC_KEY||"")})).toJSON(),{endpoint:a,keys:d}=s;if(!a||!d)throw new Error("Échec de l'abonnement aux notifications push");const{data:x,error:g}=await fe.from("push_subscriptions").upsert({user_id:e,endpoint:a,p256dh:d.p256dh,auth:d.auth,created_at:new Date().toISOString()}).select().single();if(g)throw g;return{userId:x.user_id,endpoint:x.endpoint,p256dh:x.p256dh,auth:x.auth,createdAt:x.created_at}}catch(t){return console.error("Erreur lors de l'abonnement aux notifications push:",t),null}},async unsubscribe(e){try{if(!this.isPushSupported())return!1;const r=await(await navigator.serviceWorker.ready).pushManager.getSubscription();r&&await r.unsubscribe();const{error:A}=await fe.from("push_subscriptions").delete().eq("user_id",e);if(A)throw A;return!0}catch(t){return console.error("Erreur lors du désabonnement aux notifications push:",t),!1}},urlBase64ToUint8Array(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),A=window.atob(r),s=new Uint8Array(A.length);for(let a=0;a<A.length;++a)s[a]=A.charCodeAt(a);return s}},uU=({className:e})=>{const{user:t}=ir(),[r,A]=G.useState(!1),[s,a]=G.useState(!0),[d,x]=G.useState(null);G.useEffect(()=>{(async()=>{if(t)try{if(a(!0),!sc.isPushSupported()){x("Les notifications ne sont pas supportées par votre navigateur");return}const w=await(await navigator.serviceWorker.ready).pushManager.getSubscription();A(!!w)}catch(p){console.error("Erreur lors de la vérification de l'abonnement:",p),x("Impossible de vérifier l'état des notifications")}finally{a(!1)}})()},[t]);const g=async()=>{if(t)try{if(a(!0),x(null),r)if(await sc.unsubscribe(t.id))A(!1);else throw new Error("Échec du désabonnement");else if(await sc.subscribe(t.id))A(!0);else throw new Error("Échec de l'abonnement")}catch(f){console.error("Erreur lors de la gestion de l'abonnement:",f),x("Impossible de gérer les notifications")}finally{a(!1)}};return sc.isPushSupported()?c.jsxs("div",{className:e,children:[c.jsxs(we,{variant:"outline",size:"sm",onClick:g,disabled:s,className:`flex items-center ${r?"text-primary":"text-gray-500"}`,title:r?"Désactiver les notifications":"Activer les notifications",children:[s?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):r?c.jsx(Ho,{className:"h-4 w-4"}):c.jsx(Gb,{className:"h-4 w-4"}),c.jsx("span",{className:"ml-2 hidden md:inline",children:r?"Notifications activées":"Activer les notifications"})]}),d&&c.jsx("div",{className:"text-xs text-error mt-1",children:d})]}):null},dU=()=>{const{id:e}=O1(),t=FA(),{user:r}=ir(),A=G.useRef(null),[s,a]=G.useState(!0),[d,x]=G.useState(null),[g,f]=G.useState([]),[p,w]=G.useState(""),[y,E]=G.useState(!1),[F,I]=G.useState(null),[U,_]=G.useState({}),[C,b]=G.useState(null),[S,k]=G.useState(!1),D=G.useRef(null);G.useEffect(()=>{(async()=>{if(!(!e||!r))try{a(!0),x(null);const{data:ee,error:le}=await fe.from("repair_requests").select(`
            id,
            brand,
            model,
            client_id,
            technician_id,
            status:repair_statuses!inner(label),
            client:profiles!client_id(first_name, last_name),
            technician:profiles!technician_id(first_name, last_name)
          `).eq("id",e).single();if(le)throw le;if(!ee){x("Réparation non trouvée");return}if(r.id!==ee.client_id&&r.id!==ee.technician_id&&r.role!=="admin"){x("Vous n'êtes pas autorisé à accéder à cette conversation");return}const te={id:ee.id,brand:ee.brand,model:ee.model,clientId:ee.client_id,clientName:ee.client&&ee.client[0]?`${ee.client[0].first_name} ${ee.client[0].last_name}`:void 0,technicianId:ee.technician_id,technicianName:ee.technician&&ee.technician[0]?`${ee.technician[0].first_name} ${ee.technician[0].last_name}`:void 0,statusLabel:ee.status&&ee.status[0]?ee.status[0].label:void 0};I(te);const re=await UA.getChatMessages(e);f(re),await UA.markMessagesAsRead(e,r.id)}catch(ee){console.error("Erreur lors du chargement des données:",ee),x("Impossible de charger les données. Veuillez réessayer.")}finally{a(!1)}})();const ae=UA.subscribeToMessages(e||"",ee=>{f(le=>le.some(re=>re.id===ee.id)?le:[...le,ee]),r&&ee.senderId!==r.id&&UA.markMessagesAsRead(e||"",r.id)}),Z=UA.subscribeToTypingEvents(e||"",ee=>{ee.userId!==(r==null?void 0:r.id)&&(_(le=>({...le,[ee.userId]:ee.isTyping})),ee.isTyping&&setTimeout(()=>{_(le=>({...le,[ee.userId]:!1}))},5e3))});return A.current&&A.current.scrollIntoView({behavior:"smooth"}),()=>{ae(),Z()}},[e,r]),G.useEffect(()=>{A.current&&A.current.scrollIntoView({behavior:"smooth"})},[g]);const O=async Ae=>{if(Ae.preventDefault(),!(!p.trim()&&!C||!e||!r||y))try{E(!0),await UA.sendMessage({requestId:e,senderId:r.id,senderRole:r.role,message:p.trim(),isAi:!1},C||void 0)&&(w(""),b(null))}catch(ae){console.error("Erreur lors de l'envoi du message:",ae)}finally{E(!1)}},H=Ae=>{const ae=Ae.target.files;if(!ae||ae.length===0)return;const Z=ae[0];b(Z),Ae.target.value=""},P=async()=>{if(!(!e||!r||S||g.length===0))try{k(!0);const Ae=await UA.exportChatHistory(e);Ae&&window.open(Ae,"_blank")}catch(Ae){console.error("Erreur lors de l'exportation de l'historique:",Ae)}finally{k(!1)}},M=Ae=>{w(Ae.target.value),e&&r&&UA.updateTypingStatus(e,r.id,!0)},z=Ae=>new Date(Ae).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Y=Ae=>{if(!Ae.attachmentUrl)return null;const ae={id:Ae.id||"",name:`Fichier ${Ae.attachmentType||"joint"}`,size:0,type:Ae.attachmentType==="image"?"image/jpeg":"application/octet-stream",url:Ae.attachmentUrl,createdAt:Ae.timestamp||new Date().toISOString(),userId:Ae.senderId,messageId:Ae.id};return c.jsx("div",{className:"mt-2 max-w-sm",children:c.jsx(Rf,{file:ae,showDelete:!1})})},K=Object.values(U).some(Ae=>Ae),q=Ae=>{const ae=new Date(Ae),Z=new Date,ee=new Date(Z);return ee.setDate(ee.getDate()-1),ae.toDateString()===Z.toDateString()?"Aujourd'hui":ae.toDateString()===ee.toDateString()?"Hier":ae.toLocaleDateString()},V=Ae=>{if(Ae===0)return!0;const ae=new Date(g[Ae].timestamp||"").toDateString(),Z=new Date(g[Ae-1].timestamp||"").toDateString();return ae!==Z};return c.jsxs("div",{className:"flex flex-col h-screen",children:[c.jsxs("div",{className:"bg-white border-b p-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>t(-1),className:"mr-4 text-gray-500 hover:text-gray-700",children:c.jsx(L0,{className:"h-5 w-5"})}),F&&c.jsxs("div",{children:[c.jsxs("h1",{className:"text-lg font-medium",children:[F.brand," ",F.model]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[F.clientName&&c.jsxs("div",{className:"flex items-center mr-4",children:[c.jsx(sa,{className:"h-4 w-4 mr-1"}),c.jsx("span",{children:F.clientName})]}),F.technicianName&&c.jsxs("div",{className:"flex items-center mr-4",children:[c.jsx(G1,{className:"h-4 w-4 mr-1"}),c.jsx("span",{children:F.technicianName})]}),F.statusLabel&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(vn,{className:"h-4 w-4 mr-1"}),c.jsx("span",{children:F.statusLabel})]})]})]})]}),c.jsx("div",{children:c.jsx(uU,{})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:s?c.jsxs("div",{className:"flex items-center justify-center h-full",children:[c.jsx(Po,{className:"h-8 w-8 animate-spin text-primary"}),c.jsx("span",{className:"ml-2",children:"Chargement des messages..."})]}):d?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow",children:[c.jsx(vn,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),c.jsx("p",{className:"text-red-500",children:d}),!F&&c.jsx(we,{variant:"outline",className:"mt-4",onClick:()=>t(-1),children:"Retour"})]})}):g.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow",children:[c.jsx(fa,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-gray-500",children:"Aucun message pour le moment."}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Envoyez un message pour démarrer la conversation."})]})}):c.jsxs("div",{className:"space-y-4",children:[g.map((Ae,ae)=>c.jsxs(Mt.Fragment,{children:[V(ae)&&c.jsx("div",{className:"flex justify-center my-4",children:c.jsx("div",{className:"bg-gray-200 text-gray-600 text-xs px-3 py-1 rounded-full",children:q(Ae.timestamp||"")})}),c.jsx("div",{className:`flex ${Ae.senderId===(r==null?void 0:r.id)?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[75%] ${Ae.senderId===(r==null?void 0:r.id)?"bg-primary text-white":"bg-white"} rounded-lg p-3 shadow`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-xs font-medium",children:Ae.senderId===(r==null?void 0:r.id)?"Vous":Ae.senderRole==="client"?"Client":Ae.senderRole==="technician"?"Technicien":Ae.senderRole==="admin"?"Admin":"Point Relais"}),c.jsx("span",{className:`text-xs ${Ae.senderId===(r==null?void 0:r.id)?"text-primary-foreground":"text-gray-500"}`,children:z(Ae.timestamp||"")})]}),c.jsx("p",{className:`${Ae.senderId===(r==null?void 0:r.id)?"text-primary-foreground":"text-gray-800"}`,children:Ae.message}),Y(Ae)]})})]},Ae.id||ae)),K&&c.jsx("div",{className:"flex justify-start my-2",children:c.jsxs("div",{className:"bg-gray-100 text-gray-600 rounded-lg p-2 px-4 flex items-center",children:[c.jsxs("div",{className:"flex space-x-1 mr-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce",style:{animationDelay:"300ms"}}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce",style:{animationDelay:"600ms"}})]}),c.jsx("span",{className:"text-xs",children:"En train d'écrire..."})]})}),c.jsx("div",{ref:A})]})}),c.jsxs("form",{onSubmit:O,className:"p-4 border-t bg-white",children:[C&&c.jsxs("div",{className:"mb-2 p-2 bg-gray-50 border rounded-lg flex items-center",children:[c.jsxs("div",{className:"flex-1 flex items-center overflow-hidden",children:[C.type.startsWith("image/")?c.jsx(K1,{className:"h-5 w-5 text-gray-500 mr-2"}):c.jsx(Wn,{className:"h-5 w-5 text-gray-500 mr-2"}),c.jsx("span",{className:"text-sm truncate",children:C.name})]}),c.jsx("button",{type:"button",className:"ml-2 text-gray-500 hover:text-gray-700",onClick:()=>b(null),children:c.jsx(js,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"mb-2",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(c0,{onFileUploaded:(Ae,ae,Z)=>{e&&r&&(E(!0),fetch(Ae).then(ee=>ee.blob()).then(ee=>{const le=new File([ee],ae,{type:Z});return UA.sendMessage({requestId:e,senderId:r.id,senderRole:r.role,message:"Fichier envoyé",isAi:!1},le)}).then(ee=>{ee&&(f(le=>[...le,ee]),w(""))}).finally(()=>{E(!1)}))},acceptedFileType:"image",messageId:e,className:"flex-1"}),c.jsx(c0,{onFileUploaded:(Ae,ae,Z)=>{e&&r&&(E(!0),fetch(Ae).then(ee=>ee.blob()).then(ee=>{const le=new File([ee],ae,{type:Z});return UA.sendMessage({requestId:e,senderId:r.id,senderRole:r.role,message:"Fichier envoyé",isAi:!1},le)}).then(ee=>{ee&&(f(le=>[...le,ee]),w(""))}).finally(()=>{E(!1)}))},acceptedFileType:"document",messageId:e,className:"flex-1"})]})}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{type:"button",className:"p-3 border rounded-l-lg bg-gray-50 hover:bg-gray-100 transition-colors",onClick:()=>{var Ae;return(Ae=D.current)==null?void 0:Ae.click()},disabled:y,children:c.jsx(sF,{className:"h-5 w-5 text-gray-500"})}),c.jsx("input",{ref:D,type:"file",className:"hidden",onChange:H,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",disabled:y})]}),c.jsx("input",{type:"text",className:"flex-1 p-3 border-y border-r-0 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Tapez votre message...",value:p,onChange:M,disabled:y}),c.jsxs("div",{className:"flex",children:[c.jsx(we,{type:"button",variant:"outline",className:"rounded-none border-y",onClick:P,disabled:y||S||g.length===0,children:S?c.jsx(Po,{className:"h-5 w-5 animate-spin"}):c.jsx(P1,{className:"h-5 w-5"})}),c.jsx(we,{type:"submit",variant:"primary",className:"rounded-l-none",disabled:!p.trim()&&!C||y,children:y?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):c.jsx(cF,{className:"h-5 w-5"})})]})]})]})]})},hU=()=>{const{user:e}=ir(),[t,r]=G.useState([]),[A,s]=G.useState(!0),[a,d]=G.useState(null),[x,g]=G.useState("all"),[f,p]=G.useState("all");G.useEffect(()=>{(async()=>{if(e)try{s(!0),d(null);const S=await mA.getAllNotifications(e.id,100);r(S)}catch(S){console.error("Erreur lors du chargement des notifications:",S),d("Impossible de charger les notifications. Veuillez réessayer plus tard.")}finally{s(!1)}})();const b=mA.subscribeToNotifications((e==null?void 0:e.id)||"",S=>{r(k=>[S,...k])});return()=>{b()}},[e]);const w=async C=>{try{await mA.markAsRead(C)&&r(S=>S.map(k=>k.id===C?{...k,isRead:!0}:k))}catch(b){console.error("Erreur lors du marquage de la notification comme lue:",b)}},y=async C=>{try{await mA.deleteNotification(C)&&r(S=>S.filter(k=>k.id!==C))}catch(b){console.error("Erreur lors de la suppression de la notification:",b)}},E=async()=>{if(e)try{await mA.markAllAsRead(e.id)&&r(b=>b.map(S=>({...S,isRead:!0})))}catch(C){console.error("Erreur lors du marquage de toutes les notifications comme lues:",C)}},F=C=>{switch(C){case"info":return c.jsx(vn,{className:"h-5 w-5 text-blue-500"});case"warning":return c.jsx(uo,{className:"h-5 w-5 text-amber-500"});case"success":return c.jsx(nA,{className:"h-5 w-5 text-green-500"});case"error":return c.jsx(uo,{className:"h-5 w-5 text-red-500"});case"repair":return c.jsx(Zs,{className:"h-5 w-5 text-purple-500"});case"message":return c.jsx(fa,{className:"h-5 w-5 text-primary"});default:return c.jsx(vn,{className:"h-5 w-5 text-gray-500"})}},I=C=>new Date(C).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),U=t.filter(C=>!(x==="unread"&&C.isRead||x==="read"&&!C.isRead||f!=="all"&&C.type!==f)),_=t.filter(C=>!C.isRead).length;return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(be,{to:"/dashboard",className:"mr-4",children:c.jsx(we,{variant:"ghost",className:"p-2",children:c.jsx(L0,{className:"h-5 w-5"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),c.jsx("p",{className:"text-gray-600 mt-1",children:_>0?`${_} notification${_>1?"s":""} non lue${_>1?"s":""}`:"Toutes les notifications sont lues"})]})]}),c.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[_>0&&c.jsxs(we,{variant:"outline",onClick:E,className:"flex items-center",children:[c.jsx($c,{className:"h-4 w-4 mr-2"}),"Tout marquer comme lu"]}),c.jsxs("div",{className:"relative",children:[c.jsxs(we,{variant:"outline",className:"flex items-center",onClick:()=>{const C=document.getElementById("notification-filter");C&&C.click()},children:[c.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Filtrer"]}),c.jsxs("select",{id:"notification-filter",className:"absolute inset-0 opacity-0 cursor-pointer",value:x,onChange:C=>g(C.target.value),children:[c.jsx("option",{value:"all",children:"Toutes"}),c.jsx("option",{value:"unread",children:"Non lues"}),c.jsx("option",{value:"read",children:"Lues"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs(we,{variant:"outline",className:"flex items-center",onClick:()=>{const C=document.getElementById("notification-type-filter");C&&C.click()},children:[c.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Type"]}),c.jsxs("select",{id:"notification-type-filter",className:"absolute inset-0 opacity-0 cursor-pointer",value:f,onChange:C=>p(C.target.value),children:[c.jsx("option",{value:"all",children:"Tous"}),c.jsx("option",{value:"repair",children:"Réparations"}),c.jsx("option",{value:"message",children:"Messages"}),c.jsx("option",{value:"info",children:"Informations"}),c.jsx("option",{value:"success",children:"Succès"}),c.jsx("option",{value:"warning",children:"Avertissements"}),c.jsx("option",{value:"error",children:"Erreurs"})]})]})]})]}),c.jsx(ce,{children:c.jsx(ce.Content,{className:"p-0",children:A?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-4",children:"Chargement des notifications..."})]}):a?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(uo,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-red-500",children:a}),c.jsx(we,{variant:"outline",className:"mt-4",onClick:()=>window.location.reload(),children:"Réessayer"})]}):U.length===0?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(Ho,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"Aucune notification à afficher"}),x!=="all"||f!=="all"?c.jsx(we,{variant:"outline",className:"mt-4",onClick:()=>{g("all"),p("all")},children:"Réinitialiser les filtres"}):null]}):c.jsx("div",{className:"divide-y",children:U.map(C=>c.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${C.isRead?"":"bg-blue-50"}`,children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 mr-4",children:F(C.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("h3",{className:"font-medium",children:C.title}),c.jsx("span",{className:"text-xs text-gray-500 ml-2 whitespace-nowrap",children:I(C.timestamp)})]}),c.jsx("p",{className:"text-gray-600 mt-1",children:C.message}),C.repairInfo&&c.jsxs("div",{className:"mt-2 flex items-center",children:[c.jsx(Vr,{variant:C.repairInfo.statusName==="completed"?"success":C.repairInfo.statusName==="inRepair"?"primary":C.repairInfo.statusName==="cancelled"?"error":"warning",className:"mr-2",children:C.repairInfo.statusLabel}),c.jsxs("span",{className:"text-sm text-gray-600",children:[C.repairInfo.brand," ",C.repairInfo.model]})]}),c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[C.relatedId&&c.jsx(be,{to:C.type==="message"?`/chat/${C.relatedId}`:C.type==="repair"?`/repair/${C.relatedId}`:"/",className:"text-sm text-primary hover:underline",children:"Voir les détails"}),c.jsxs("div",{className:"flex space-x-2",children:[!C.isRead&&c.jsxs(we,{variant:"ghost",size:"sm",onClick:()=>w(C.id),title:"Marquer comme lu",className:"text-gray-500 hover:text-primary",children:[c.jsx($c,{className:"h-4 w-4 mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:"Marquer comme lu"})]}),c.jsxs(we,{variant:"ghost",size:"sm",onClick:()=>y(C.id),title:"Supprimer",className:"text-gray-500 hover:text-red-500",children:[c.jsx(pF,{className:"h-4 w-4 mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:"Supprimer"})]})]})]})]})]})},C.id))})})})]})},fU=()=>{const{user:e}=ir(),[t,r]=G.useState(!1),[A,s]=G.useState(!1),[a,d]=G.useState(null),[x,g]=G.useState(null),[f,p]=G.useState({firstName:"",lastName:"",email:"",phoneNumber:"",relayName:"",address:"",city:"",postalCode:"",openingHours:{monday:{open:"09:00",close:"18:00"},tuesday:{open:"09:00",close:"18:00"},wednesday:{open:"09:00",close:"18:00"},thursday:{open:"09:00",close:"18:00"},friday:{open:"09:00",close:"18:00"},saturday:{open:"09:00",close:"13:00"},sunday:{open:"",close:""}},isActive:!0});G.useEffect(()=>{e&&(p(U=>({...U,firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phoneNumber:e.phoneNumber||""})),e.role==="relayPoint"&&w(e.id))},[e]);const w=async U=>{try{const{data:_,error:C}=await fe.from("relay_points").select("*").eq("manager_id",U).single();if(C)throw C;_&&(g(_),p(b=>({...b,relayName:_.name||"",address:_.address||"",city:_.city||"",postalCode:_.postal_code||"",openingHours:_.opening_hours||b.openingHours,isActive:_.is_active!==void 0?_.is_active:!0})))}catch(_){console.error("Erreur lors de la récupération des données du point relais:",_)}},y=U=>{const{name:_,value:C}=U.target;p(b=>({...b,[_]:C}))},E=(U,_,C)=>{p(b=>({...b,openingHours:{...b.openingHours,[U]:{...b.openingHours[U],[_]:C}}}))},F=U=>{const{name:_,checked:C}=U.target;p(b=>({...b,[_]:C}))},I=async U=>{if(U.preventDefault(),!!e){r(!0),d(null),s(!1);try{const{error:_}=await fe.from("profiles").update({first_name:f.firstName,last_name:f.lastName,phone:f.phoneNumber,updated_at:new Date().toISOString()}).eq("id",e.id);if(_)throw _;if(e.role==="relayPoint"){const C={name:f.relayName,address:f.address,city:f.city,postal_code:f.postalCode,opening_hours:f.openingHours,is_active:f.isActive,updated_at:new Date().toISOString()};if(x){const{error:b}=await fe.from("relay_points").update(C).eq("id",x.id);if(b)throw b}else{const{error:b}=await fe.from("relay_points").insert({...C,manager_id:e.id});if(b)throw b}}if(f.email!==e.email){const{error:C}=await fe.auth.updateUser({email:f.email});C&&d("Votre profil a été mis à jour, mais la modification de l'email nécessite une vérification. Vous recevrez un email pour confirmer ce changement.")}s(!0),setTimeout(()=>s(!1),3e3)}catch(_){console.error("Erreur lors de la mise à jour du profil:",_),d(_.message||"Une erreur est survenue lors de la mise à jour du profil")}finally{r(!1)}}};return e?c.jsx(MA,{children:c.jsx("div",{className:"container-app py-8",children:c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-primary/10 p-3 rounded-full mr-4",children:c.jsx(sa,{className:"h-6 w-6 text-primary"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Mon Profil"})]}),a&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:c.jsx("span",{className:"block sm:inline",children:a})}),A&&c.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:c.jsx("span",{className:"block sm:inline",children:"Votre profil a été mis à jour avec succès!"})}),c.jsxs("form",{onSubmit:I,className:"space-y-6",children:[c.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:"Informations personnelles"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prénom"}),c.jsx("input",{type:"text",id:"firstName",name:"firstName",value:f.firstName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),c.jsx("input",{type:"text",id:"lastName",name:"lastName",value:f.lastName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",id:"email",name:"email",value:f.email,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"La modification de l'email nécessitera une vérification par email."})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Numéro de téléphone"}),c.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:f.phoneNumber,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]})]}),(e==null?void 0:e.role)==="relayPoint"&&c.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full mr-3",children:c.jsx(xF,{className:"h-5 w-5 text-primary"})}),c.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Informations du point relais"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"relayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du point relais"}),c.jsx("input",{type:"text",id:"relayName",name:"relayName",value:f.relayName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full mr-3",children:c.jsx(bA,{className:"h-5 w-5 text-primary"})}),c.jsx("h3",{className:"text-md font-medium text-gray-800",children:"Adresse"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),c.jsx("input",{type:"text",id:"address",name:"address",value:f.address,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),c.jsx("input",{type:"text",id:"city",name:"city",value:f.city,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal"}),c.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:f.postalCode,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]})]}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full mr-3",children:c.jsx(Zs,{className:"h-5 w-5 text-primary"})}),c.jsx("h3",{className:"text-md font-medium text-gray-800",children:"Horaires d'ouverture"})]}),c.jsx("div",{className:"space-y-3",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(U=>{var C,b;const _={monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday:"Dimanche"};return c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("div",{className:"col-span-1",children:c.jsx("span",{className:"text-sm font-medium text-gray-700",children:_[U]})}),c.jsx("div",{className:"col-span-2",children:c.jsx("input",{type:"time",value:((C=f.openingHours[U])==null?void 0:C.open)||"",onChange:S=>E(U,"open",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})}),c.jsx("div",{className:"col-span-2",children:c.jsx("input",{type:"time",value:((b=f.openingHours[U])==null?void 0:b.close)||"",onChange:S=>E(U,"close",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})})]},U)})}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"isActive",checked:f.isActive,onChange:F,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Point relais actif"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Décochez cette case si vous souhaitez temporairement désactiver votre point relais."})]})]}),c.jsx("div",{className:"pt-4",children:c.jsx(we,{type:"submit",variant:"primary",disabled:t,className:"w-full",children:t?"Mise à jour en cours...":"Mettre à jour mon profil"})})]})]})})})}):c.jsx(MA,{children:c.jsx("div",{className:"container-app py-8",children:c.jsx("div",{className:"text-center",children:c.jsx("p",{children:"Veuillez vous connecter pour accéder à votre profil."})})})})},gU=()=>{const e=FA(),[t,r]=G.useState([]),[A,s]=G.useState(!0),[a,d]=G.useState(null);G.useEffect(()=>{x()},[]);const x=async()=>{s(!0);try{const p=await fo.getAllRelayPoints();r(p)}catch(p){console.error("Erreur lors du chargement des points relais:",p),d("Impossible de charger les points relais")}finally{s(!1)}},g=async p=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce point relais ?"))try{alert("Fonctionnalité de suppression à implémenter")}catch(w){console.error("Erreur lors de la suppression:",w),d("Impossible de supprimer le point relais")}},f=p=>{if(!p||typeof p!="object")return"Horaires non disponibles";const w=["monday","tuesday","wednesday","thursday","friday"],y=["saturday","sunday"],E=(U,_)=>!_||!_.open||!_.close?null:`${U.charAt(0).toUpperCase()+U.slice(1)}: ${_.open}-${_.close}`,F=w.map(U=>E(U,p[U])).filter(Boolean).join(", "),I=y.map(U=>E(U,p[U])).filter(Boolean).join(", ");return c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Semaine: ",F||"Fermé"]}),c.jsxs("div",{children:["Weekend: ",I||"Fermé"]})]})};return c.jsx(MA,{children:c.jsxs("div",{className:"container mx-auto py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Points Relais"}),c.jsxs(we,{variant:"primary",onClick:()=>e("/admin/relay-points/new"),children:[c.jsx($x,{className:"h-5 w-5 mr-2"}),"Ajouter un point relais"]})]}),a&&c.jsx("div",{className:"mb-4 p-4 bg-error/10 border border-error/20 rounded-lg text-error",children:a}),A?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?c.jsx(ce,{children:c.jsxs(ce.Content,{className:"p-8 text-center text-gray-500",children:[c.jsx("p",{children:"Aucun point relais trouvé."}),c.jsxs(we,{variant:"outline",className:"mt-4",onClick:()=>e("/admin/relay-points/new"),children:[c.jsx($x,{className:"h-5 w-5 mr-2"}),"Ajouter votre premier point relais"]})]})}):c.jsx("div",{className:"space-y-4",children:t.map(p=>c.jsx(ce,{children:c.jsx(ce.Content,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p.businessName}),c.jsxs("div",{className:"flex items-start mt-2",children:[c.jsx(bA,{className:"h-5 w-5 text-gray-400 mr-2 mt-0.5"}),c.jsx("p",{className:"text-gray-600",children:p.address})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Contact"}),c.jsx("p",{className:"text-gray-700",children:p.email}),c.jsx("p",{className:"text-gray-700",children:p.phoneNumber})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Horaires"}),c.jsx("div",{className:"text-gray-700 text-sm",children:f(p.openingHours)})]})]}),p.coordinates&&c.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Coordonnées: ",p.coordinates.latitude.toFixed(6),", ",p.coordinates.longitude.toFixed(6)]})]}),c.jsxs("div",{className:"flex mt-4 md:mt-0 space-x-2",children:[c.jsxs(we,{variant:"outline",size:"sm",onClick:()=>e(`/admin/relay-points/edit/${p.id}`),children:[c.jsx(fF,{className:"h-4 w-4 mr-1"}),"Modifier"]}),c.jsxs(we,{variant:"outline",size:"sm",className:"text-error hover:bg-error/10",onClick:()=>g(p.id),children:[c.jsx(mF,{className:"h-4 w-4 mr-1"}),"Supprimer"]})]})]})})},p.id))})]})})},xU=({value:e,onChange:t})=>{const r=[{id:"monday",label:"Lundi"},{id:"tuesday",label:"Mardi"},{id:"wednesday",label:"Mercredi"},{id:"thursday",label:"Jeudi"},{id:"friday",label:"Vendredi"},{id:"saturday",label:"Samedi"},{id:"sunday",label:"Dimanche"}],A=(s,a,d)=>{const x={...e};x[s]||(x[s]={open:"",close:""}),x[s][a]=d,t(x)};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Horaires d'ouverture"}),c.jsx("div",{className:"space-y-3",children:r.map(s=>c.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[c.jsx("div",{className:"text-sm font-medium",children:s.label}),c.jsx(nr,{type:"time",placeholder:"Ouverture",value:e&&e[s.id]&&e[s.id].open||"",onChange:a=>A(s.id,"open",a.target.value),className:"text-sm"}),c.jsx(nr,{type:"time",placeholder:"Fermeture",value:e&&e[s.id]&&e[s.id].close||"",onChange:a=>A(s.id,"close",a.target.value),className:"text-sm"})]},s.id))})]})},Mm=()=>{const{id:e}=O1(),t=FA(),[r,A]=G.useState(!1),[s,a]=G.useState(null),[d,x]=G.useState(!1),[g,f]=G.useState({businessName:"",address:"",email:"",phoneNumber:"",openingHours:{monday:{open:"09:00",close:"18:00"},tuesday:{open:"09:00",close:"18:00"},wednesday:{open:"09:00",close:"18:00"},thursday:{open:"09:00",close:"18:00"},friday:{open:"09:00",close:"18:00"},saturday:{open:"09:00",close:"13:00"},sunday:{open:"",close:""}}});G.useEffect(()=>{(async()=>{if(e){A(!0);try{const I=await fo.getRelayPointById(e);I?f({id:I.id,businessName:I.businessName,address:I.address,email:I.email,phoneNumber:I.phoneNumber,openingHours:I.openingHours||{monday:{open:"09:00",close:"18:00"},tuesday:{open:"09:00",close:"18:00"},wednesday:{open:"09:00",close:"18:00"},thursday:{open:"09:00",close:"18:00"},friday:{open:"09:00",close:"18:00"},saturday:{open:"09:00",close:"13:00"},sunday:{open:"",close:""}},coordinates:I.coordinates}):a("Point relais non trouvé")}catch(I){a("Erreur lors du chargement du point relais"),console.error(I)}finally{A(!1)}}})()},[e]);const p=F=>{const{name:I,value:U}=F.target;f(_=>({..._,[I]:U}))},w=F=>{f(I=>({...I,openingHours:F}))},y=async(F,I)=>{if(f(U=>({...U,address:F})),I){if(console.log("Coordonnées obtenues directement de Google Places:",I),typeof I.lat=="function"&&typeof I.lng=="function"){const U=I.lat(),_=I.lng();console.log("Valeurs extraites:",{latitude:U,longitude:_}),f(C=>({...C,address:F,coordinates:{latitude:U,longitude:_}}));return}else if(I.lat!==void 0&&I.lng!==void 0){f(U=>({...U,address:F,coordinates:{latitude:I.lat,longitude:I.lng}}));return}}try{const U=await fo.geocodeAddress(F);U?(console.log("Coordonnées obtenues via géocodage:",U),f(_=>({..._,address:F,coordinates:U}))):console.warn("Impossible de géocoder l'adresse:",F)}catch(U){console.error("Erreur lors du géocodage de l'adresse:",U)}},E=async F=>{F.preventDefault(),A(!0),a(null),x(!1);try{if(!g.businessName||!g.address||!g.email){a("Veuillez remplir tous les champs obligatoires"),A(!1);return}if(!g.coordinates){a("Les coordonnées géographiques sont manquantes. Veuillez sélectionner une adresse valide."),A(!1);return}console.log("Envoi des coordonnées au service:",g.coordinates),await fo.createOrUpdateRelayPoint({id:g.id,businessName:g.businessName||"",address:g.address||"",email:g.email||"",firstName:g.firstName||"",lastName:g.lastName||"",phoneNumber:g.phoneNumber||"",openingHours:g.openingHours||{},role:"relayPoint",commission:g.commission||0,coordinates:g.coordinates})?(x(!0),setTimeout(()=>{t("/admin/relay-points")},1500)):a("Erreur lors de l'enregistrement du point relais")}catch(I){a("Une erreur est survenue"),console.error(I)}finally{A(!1)}};return c.jsx(MA,{children:c.jsxs("div",{className:"container mx-auto py-8",children:[c.jsxs("div",{className:"mb-6 flex items-center",children:[c.jsxs(we,{variant:"ghost",onClick:()=>t("/admin/relay-points"),className:"mr-4",children:[c.jsx(L0,{className:"h-5 w-5 mr-2"}),"Retour"]}),c.jsx("h1",{className:"text-2xl font-bold",children:e?"Modifier le point relais":"Ajouter un point relais"})]}),c.jsx(ce,{children:c.jsxs(ce.Content,{className:"p-6",children:[s&&c.jsx("div",{className:"mb-4 p-4 bg-error/10 border border-error/20 rounded-lg text-error",children:s}),d&&c.jsx("div",{className:"mb-4 p-4 bg-success/10 border border-success/20 rounded-lg text-success",children:"Point relais enregistré avec succès!"}),c.jsxs("form",{onSubmit:E,className:"space-y-6",children:[c.jsx(nr,{label:"Nom du point relais",name:"businessName",value:g.businessName||"",onChange:p,placeholder:"Ex: PC Relais Paris",required:!0}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Adresse complète"}),c.jsxs("div",{className:"relative",children:[c.jsx(ty,{label:"",placeholder:"Entrez l'adresse complète",value:g.address||"",onChange:F=>f(I=>({...I,address:F})),onPlaceSelect:F=>{var I;if(F&&F.formatted_address){const U=(I=F.geometry)==null?void 0:I.location;y(F.formatted_address,U)}}}),g.coordinates&&c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Coordonnées: ",parseFloat(String(g.coordinates.latitude)).toFixed(6),",",parseFloat(String(g.coordinates.longitude)).toFixed(6)]}),c.jsx("div",{className:"absolute right-3 top-3 text-gray-400",children:c.jsx(bA,{className:"h-5 w-5"})})]}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"L'adresse sera automatiquement géocodée pour calculer les distances."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(nr,{label:"Email",name:"email",type:"email",value:g.email||"",onChange:p,placeholder:"contact@pcrelais.fr",required:!0}),c.jsx(nr,{label:"Téléphone",name:"phoneNumber",value:g.phoneNumber||"",onChange:p,placeholder:"01 23 45 67 89"})]}),c.jsx(xU,{value:g.openingHours,onChange:w}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsx(we,{type:"submit",variant:"primary",size:"lg",disabled:r,children:r?c.jsxs("span",{className:"flex items-center",children:[c.jsx("span",{className:"animate-spin h-4 w-4 mr-2 border-b-2 border-white rounded-full"}),"Enregistrement..."]}):c.jsxs("span",{className:"flex items-center",children:[c.jsx(lF,{className:"h-5 w-5 mr-2"}),"Enregistrer"]})})})]})]})})]})})};var Ie;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var Hm=new Map([[Ie.QR_CODE,"QR_CODE"],[Ie.AZTEC,"AZTEC"],[Ie.CODABAR,"CODABAR"],[Ie.CODE_39,"CODE_39"],[Ie.CODE_93,"CODE_93"],[Ie.CODE_128,"CODE_128"],[Ie.DATA_MATRIX,"DATA_MATRIX"],[Ie.MAXICODE,"MAXICODE"],[Ie.ITF,"ITF"],[Ie.EAN_13,"EAN_13"],[Ie.EAN_8,"EAN_8"],[Ie.PDF_417,"PDF_417"],[Ie.RSS_14,"RSS_14"],[Ie.RSS_EXPANDED,"RSS_EXPANDED"],[Ie.UPC_A,"UPC_A"],[Ie.UPC_E,"UPC_E"],[Ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Pm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Pm||(Pm={}));function pU(e){return Object.values(Ie).includes(e)}var u0;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(u0||(u0={}));var mU=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[u0.SCAN_TYPE_CAMERA,u0.SCAN_TYPE_FILE],e}(),Bv=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Hm.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Hm.get(t))},e}(),Km=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Of;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Of||(Of={}));var wU=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Of.UNKWOWN_ERROR}},e}(),BU=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function cn(e){return typeof e>"u"||e===null}var Mi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),yv=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var A=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(A,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),d=Object.keys(t),x=0,g=d;x<g.length;x++){var f=g[x];if(a.has(f))return r.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e}(),kf={exports:{}};(function(e,t){(function(r,A){A(t)})(Qe,function(r){function A(Q){return Q==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,n){Q.__proto__=n}||function(Q,n){for(var i in n)n.hasOwnProperty(i)&&(Q[i]=n[i])};function a(Q,n){s(Q,n);function i(){this.constructor=Q}Q.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function d(Q,n){var i=Object.setPrototypeOf;i?i(Q,n):Q.__proto__=n}function x(Q,n){n===void 0&&(n=Q.constructor);var i=Error.captureStackTrace;i&&i(Q,n)}var g=function(Q){a(n,Q);function n(i){var o=this.constructor,l=Q.call(this,i)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),d(l,o.prototype),x(l),l}return n}(Error);class f extends g{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}f.kind="Exception";class p extends f{}p.kind="ArgumentException";class w extends f{}w.kind="IllegalArgumentException";class y{constructor(n){if(this.binarizer=n,n===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,o,l){const u=this.binarizer.getLuminanceSource().crop(n,i,o,l);return new y(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends f{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class F{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(n,i,o,l,u){for(;u--;)o[l++]=n[i++]}static currentTimeMillis(){return Date.now()}}class U extends f{}U.kind="IndexOutOfBoundsException";class _ extends U{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}_.kind="ArrayIndexOutOfBoundsException";class C{static fill(n,i){for(let o=0,l=n.length;o<l;o++)n[o]=i}static fillWithin(n,i,o,l){C.rangeCheck(n.length,i,o);for(let u=i;u<o;u++)n[u]=l}static rangeCheck(n,i,o){if(i>o)throw new w("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new _(i);if(o>n)throw new _(o)}static asList(...n){return n}static create(n,i,o){return Array.from({length:n}).map(u=>Array.from({length:i}).fill(o))}static createInt32Array(n,i,o){return Array.from({length:n}).map(u=>Int32Array.from({length:i}).fill(o))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let o=0,l=n.length;o<l;o++)if(n[o]!==i[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const o of n)i=31*i+o;return i}static fillUint8Array(n,i){for(let o=0;o!==n.length;o++)n[o]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const o=new Uint8Array(i);return o.set(n),o}return n.slice(0,i)}static copyOfRange(n,i,o){const l=o-i,u=new Int32Array(l);return I.arraycopy(n,i,u,0,l),u}static binarySearch(n,i,o){o===void 0&&(o=C.numberComparator);let l=0,u=n.length-1;for(;l<=u;){const h=u+l>>1,m=o(i,n[h]);if(m>0)l=h+1;else if(m<0)u=h-1;else return h}return-l-1}static numberComparator(n,i){return n-i}}class b{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let o=31;return i=n<<16,i!==0&&(o-=16,n=i),i=n<<8,i!==0&&(o-=8,n=i),i=n<<4,i!==0&&(o-=4,n=i),i=n<<2,i!==0&&(o-=2,n=i),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class S{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=S.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=S.makeArray(n);I.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const o=this.bits;let l=Math.floor(n/32),u=o[l];u&=~((1<<(n&31))-1);const h=o.length;for(;u===0;){if(++l===h)return i;u=o[l]}const m=l*32+b.numberOfTrailingZeros(u);return m>i?i:m}getNextUnset(n){const i=this.size;if(n>=i)return i;const o=this.bits;let l=Math.floor(n/32),u=~o[l];u&=~((1<<(n&31))-1);const h=o.length;for(;u===0;){if(++l===h)return i;u=~o[l]}const m=l*32+b.numberOfTrailingZeros(u);return m>i?i:m}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new w;if(i===n)return;i--;const o=Math.floor(n/32),l=Math.floor(i/32),u=this.bits;for(let h=o;h<=l;h++){const m=h>o?0:n&31,v=(2<<(h<l?31:i&31))-(1<<m);u[h]|=v}}clear(){const n=this.bits.length,i=this.bits;for(let o=0;o<n;o++)i[o]=0}isRange(n,i,o){if(i<n||n<0||i>this.size)throw new w;if(i===n)return!0;i--;const l=Math.floor(n/32),u=Math.floor(i/32),h=this.bits;for(let m=l;m<=u;m++){const B=m>l?0:n&31,N=(2<<(m<u?31:i&31))-(1<<B)&4294967295;if((h[m]&N)!==(o?N:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new w("Sizes don't match");const i=this.bits;for(let o=0,l=i.length;o<l;o++)i[o]^=n.bits[o]}toBytes(n,i,o,l){for(let u=0;u<l;u++){let h=0;for(let m=0;m<8;m++)this.get(n)&&(h|=1<<7-m),n++;i[o+u]=h}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,l=this.bits;for(let u=0;u<o;u++){let h=l[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,n[i-u]=h}if(this.size!==o*32){const u=o*32-this.size;let h=n[0]>>>u;for(let m=1;m<o;m++){const B=n[m];h|=B<<32-u,n[m-1]=h,h=B>>>u}n[o-1]=h}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof S))return!1;const i=n;return this.size===i.size&&C.equals(this.bits,i.bits)}hashCode(){return 31*this.size+C.hashCode(this.bits)}toString(){let n="";for(let i=0,o=this.size;i<o;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new S(this.size,this.bits.slice())}}var k;(function(Q){Q[Q.OTHER=0]="OTHER",Q[Q.PURE_BARCODE=1]="PURE_BARCODE",Q[Q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Q[Q.TRY_HARDER=3]="TRY_HARDER",Q[Q.CHARACTER_SET=4]="CHARACTER_SET",Q[Q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Q[Q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Q[Q.ASSUME_GS1=7]="ASSUME_GS1",Q[Q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Q[Q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Q[Q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(k||(k={}));var D=k;class O extends f{static getFormatInstance(){return new O}}O.kind="FormatException";var H;(function(Q){Q[Q.Cp437=0]="Cp437",Q[Q.ISO8859_1=1]="ISO8859_1",Q[Q.ISO8859_2=2]="ISO8859_2",Q[Q.ISO8859_3=3]="ISO8859_3",Q[Q.ISO8859_4=4]="ISO8859_4",Q[Q.ISO8859_5=5]="ISO8859_5",Q[Q.ISO8859_6=6]="ISO8859_6",Q[Q.ISO8859_7=7]="ISO8859_7",Q[Q.ISO8859_8=8]="ISO8859_8",Q[Q.ISO8859_9=9]="ISO8859_9",Q[Q.ISO8859_10=10]="ISO8859_10",Q[Q.ISO8859_11=11]="ISO8859_11",Q[Q.ISO8859_13=12]="ISO8859_13",Q[Q.ISO8859_14=13]="ISO8859_14",Q[Q.ISO8859_15=14]="ISO8859_15",Q[Q.ISO8859_16=15]="ISO8859_16",Q[Q.SJIS=16]="SJIS",Q[Q.Cp1250=17]="Cp1250",Q[Q.Cp1251=18]="Cp1251",Q[Q.Cp1252=19]="Cp1252",Q[Q.Cp1256=20]="Cp1256",Q[Q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Q[Q.UTF8=22]="UTF8",Q[Q.ASCII=23]="ASCII",Q[Q.Big5=24]="Big5",Q[Q.GB18030=25]="GB18030",Q[Q.EUC_KR=26]="EUC_KR"})(H||(H={}));class P{constructor(n,i,o,...l){this.valueIdentifier=n,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,P.VALUE_IDENTIFIER_TO_ECI.set(n,this),P.NAME_TO_ECI.set(o,this);const u=this.values;for(let h=0,m=u.length;h!==m;h++){const B=u[h];P.VALUES_TO_ECI.set(B,this)}for(const h of l)P.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new O("incorect value");const i=P.VALUES_TO_ECI.get(n);if(i===void 0)throw new O("incorect value");return i}static getCharacterSetECIByName(n){const i=P.NAME_TO_ECI.get(n);if(i===void 0)throw new O("incorect value");return i}equals(n){if(!(n instanceof P))return!1;const i=n;return this.getName()===i.getName()}}P.VALUE_IDENTIFIER_TO_ECI=new Map,P.VALUES_TO_ECI=new Map,P.NAME_TO_ECI=new Map,P.Cp437=new P(H.Cp437,Int32Array.from([0,2]),"Cp437"),P.ISO8859_1=new P(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),P.ISO8859_2=new P(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),P.ISO8859_3=new P(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),P.ISO8859_4=new P(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),P.ISO8859_5=new P(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),P.ISO8859_6=new P(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),P.ISO8859_7=new P(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),P.ISO8859_8=new P(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),P.ISO8859_9=new P(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),P.ISO8859_10=new P(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),P.ISO8859_11=new P(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),P.ISO8859_13=new P(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),P.ISO8859_14=new P(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),P.ISO8859_15=new P(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),P.ISO8859_16=new P(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),P.SJIS=new P(H.SJIS,20,"SJIS","Shift_JIS"),P.Cp1250=new P(H.Cp1250,21,"Cp1250","windows-1250"),P.Cp1251=new P(H.Cp1251,22,"Cp1251","windows-1251"),P.Cp1252=new P(H.Cp1252,23,"Cp1252","windows-1252"),P.Cp1256=new P(H.Cp1256,24,"Cp1256","windows-1256"),P.UnicodeBigUnmarked=new P(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),P.UTF8=new P(H.UTF8,26,"UTF8","UTF-8"),P.ASCII=new P(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),P.Big5=new P(H.Big5,28,"Big5"),P.GB18030=new P(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),P.EUC_KR=new P(H.EUC_KR,30,"EUC_KR","EUC-KR");class M extends f{}M.kind="UnsupportedOperationException";class z{static decode(n,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!z.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof P?n:P.getCharacterSetECIByName(n)}static decodeFallback(n,i){const o=this.encodingCharacterSet(i);if(z.isDecodeFallbackSupported(o)){let l="";for(let u=0,h=n.length;u<h;u++){let m=n[u].toString(16);m.length<2&&(m="0"+m),l+="%"+m}return decodeURIComponent(l)}if(o.equals(P.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new M(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(P.UTF8)||n.equals(P.ISO8859_1)||n.equals(P.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),l=[];for(let u=0;u<o.length;u++)l.push(o[u].charCodeAt(0));return new Uint8Array(l)}}class Y{static castAsNonUtf8Char(n,i=null){const o=i?i.getName():this.ISO88591;return z.decode(new Uint8Array([n]),o)}static guessEncoding(n,i){if(i!=null&&i.get(D.CHARACTER_SET)!==void 0)return i.get(D.CHARACTER_SET).toString();const o=n.length;let l=!0,u=!0,h=!0,m=0,B=0,v=0,N=0,T=0,R=0,j=0,W=0,X=0,$=0,se=0;const xe=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let pe=0;pe<o&&(l||u||h);pe++){const de=n[pe]&255;h&&(m>0?de&128?m--:h=!1:de&128&&(de&64?(m++,de&32?(m++,de&16?(m++,de&8?h=!1:N++):v++):B++):h=!1)),l&&(de>127&&de<160?l=!1:de>159&&(de<192||de===215||de===247)&&se++),u&&(T>0?de<64||de===127||de>252?u=!1:T--:de===128||de===160||de>239?u=!1:de>160&&de<224?(R++,W=0,j++,j>X&&(X=j)):de>127?(T++,j=0,W++,W>$&&($=W)):(j=0,W=0))}return h&&m>0&&(h=!1),u&&T>0&&(u=!1),h&&(xe||B+v+N>0)?Y.UTF8:u&&(Y.ASSUME_SHIFT_JIS||X>=3||$>=3)?Y.SHIFT_JIS:l&&u?X===2&&R===2||se*10>=o?Y.SHIFT_JIS:Y.ISO88591:l?Y.ISO88591:u?Y.SHIFT_JIS:h?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let o=-1;function l(h,m,B,v,N,T){if(h==="%%")return"%";if(i[++o]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let R=N?parseInt(N.substr(1)):void 0,j;switch(T){case"s":j=i[o];break;case"c":j=i[o][0];break;case"f":j=parseFloat(i[o]).toFixed(h);break;case"p":j=parseFloat(i[o]).toPrecision(h);break;case"e":j=parseFloat(i[o]).toExponential(h);break;case"x":j=parseInt(i[o]).toString(R||16);break;case"d":j=parseFloat(parseInt(i[o],R||10).toPrecision(h)).toFixed(0);break}j=typeof j=="object"?JSON.stringify(j):(+j).toString(R);let W=parseInt(B),X=B&&B[0]+""=="0"?"0":" ";for(;j.length<W;)j=m!==void 0?j+X:X+j;return j}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}static getBytes(n,i){return z.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}Y.SHIFT_JIS=P.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=P.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=P.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class K{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,o){for(let l=i;i<i+o;l++)this.append(n[l]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class q{constructor(n,i,o,l){if(this.width=n,this.height=i,this.rowSize=o,this.bits=l,i==null&&(i=n),this.height=i,n<1||i<1)throw new w("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,o=n[0].length,l=new q(o,i);for(let u=0;u<i;u++){const h=n[u];for(let m=0;m<o;m++)h[m]&&l.set(m,u)}return l}static parseFromString(n,i,o){if(n===null)throw new w("stringRepresentation cannot be null");const l=new Array(n.length);let u=0,h=0,m=-1,B=0,v=0;for(;v<n.length;)if(n.charAt(v)===`
`||n.charAt(v)==="\r"){if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new w("row lengths do not match");h=u,B++}v++}else if(n.substring(v,v+i.length)===i)v+=i.length,l[u]=!0,u++;else if(n.substring(v,v+o.length)===o)v+=o.length,l[u]=!1,u++;else throw new w("illegal character encountered: "+n.substring(v));if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new w("row lengths do not match");B++}const N=new q(m,B);for(let T=0;T<u;T++)l[T]&&N.set(Math.floor(T%m),Math.floor(T/m));return N}get(n,i){const o=i*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new w("input matrix dimensions do not match");const i=new S(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let u=0,h=this.height;u<h;u++){const m=u*o,B=n.getRow(u,i).getBitArray();for(let v=0;v<o;v++)l[m+v]^=B[v]}}clear(){const n=this.bits,i=n.length;for(let o=0;o<i;o++)n[o]=0}setRegion(n,i,o,l){if(i<0||n<0)throw new w("Left and top must be nonnegative");if(l<1||o<1)throw new w("Height and width must be at least 1");const u=n+o,h=i+l;if(h>this.height||u>this.width)throw new w("The region must fit inside the matrix");const m=this.rowSize,B=this.bits;for(let v=i;v<h;v++){const N=v*m;for(let T=n;T<u;T++)B[N+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new S(this.width):i.clear();const o=this.rowSize,l=this.bits,u=n*o;for(let h=0;h<o;h++)i.setBulk(h*32,l[u+h]);return i}setRow(n,i){I.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let o=new S(n),l=new S(n);for(let u=0,h=Math.floor((i+1)/2);u<h;u++)o=this.getRow(u,o),l=this.getRow(i-1-u,l),o.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,o)}getEnclosingRectangle(){const n=this.width,i=this.height,o=this.rowSize,l=this.bits;let u=n,h=i,m=-1,B=-1;for(let v=0;v<i;v++)for(let N=0;N<o;N++){const T=l[v*o+N];if(T!==0){if(v<h&&(h=v),v>B&&(B=v),N*32<u){let R=0;for(;!(T<<31-R&4294967295);)R++;N*32+R<u&&(u=N*32+R)}if(N*32+31>m){let R=31;for(;!(T>>>R);)R--;N*32+R>m&&(m=N*32+R)}}}return m<u||B<h?null:Int32Array.from([u,h,m-u+1,B-h+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const l=o/n;let u=o%n*32;const h=i[o];let m=0;for(;!(h<<31-m&4294967295);)m++;return u+=m,Int32Array.from([u,l])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/n);let u=Math.floor(o%n)*32;const h=i[o];let m=31;for(;!(h>>>m);)m--;return u+=m,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof q))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&C.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+C.hashCode(this.bits),n}toString(n="X ",i="  ",o=`
`){return this.buildToString(n,i,o)}buildToString(n,i,o){let l=new K;for(let u=0,h=this.height;u<h;u++){for(let m=0,B=this.width;m<B;m++)l.append(this.get(m,u)?n:i);l.append(o)}return l.toString()}clone(){return new q(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends f{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class Ae extends F{constructor(n){super(n),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(n,i){const o=this.getLuminanceSource(),l=o.getWidth();i==null||i.getSize()<l?i=new S(l):i.clear(),this.initArrays(l);const u=o.getRow(n,this.luminances),h=this.buckets;for(let B=0;B<l;B++)h[(u[B]&255)>>Ae.LUMINANCE_SHIFT]++;const m=Ae.estimateBlackPoint(h);if(l<3)for(let B=0;B<l;B++)(u[B]&255)<m&&i.set(B);else{let B=u[0]&255,v=u[1]&255;for(let N=1;N<l-1;N++){const T=u[N+1]&255;(v*4-B-T)/2<m&&i.set(N),B=v,v=T}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight(),l=new q(i,o);this.initArrays(i);const u=this.buckets;for(let B=1;B<5;B++){const v=Math.floor(o*B/5),N=n.getRow(v,this.luminances),T=Math.floor(i*4/5);for(let R=Math.floor(i/5);R<T;R++){const j=N[R]&255;u[j>>Ae.LUMINANCE_SHIFT]++}}const h=Ae.estimateBlackPoint(u),m=n.getMatrix();for(let B=0;B<o;B++){const v=B*i;for(let N=0;N<i;N++)(m[v+N]&255)<h&&l.set(N,B)}return l}createBinarizer(n){return new Ae(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let o=0;o<Ae.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(n){const i=n.length;let o=0,l=0,u=0;for(let N=0;N<i;N++)n[N]>u&&(l=N,u=n[N]),n[N]>o&&(o=n[N]);let h=0,m=0;for(let N=0;N<i;N++){const T=N-l,R=n[N]*T*T;R>m&&(h=N,m=R)}if(l>h){const N=l;l=h,h=N}if(h-l<=i/16)throw new V;let B=h-1,v=-1;for(let N=h-1;N>l;N--){const T=N-l,R=T*T*(h-N)*(o-n[N]);R>v&&(B=N,v=R)}return B<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class ae extends Ae{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight();if(i>=ae.MINIMUM_DIMENSION&&o>=ae.MINIMUM_DIMENSION){const l=n.getMatrix();let u=i>>ae.BLOCK_SIZE_POWER;i&ae.BLOCK_SIZE_MASK&&u++;let h=o>>ae.BLOCK_SIZE_POWER;o&ae.BLOCK_SIZE_MASK&&h++;const m=ae.calculateBlackPoints(l,u,h,i,o),B=new q(i,o);ae.calculateThresholdForBlock(l,u,h,i,o,m,B),this.matrix=B}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ae(n)}static calculateThresholdForBlock(n,i,o,l,u,h,m){const B=u-ae.BLOCK_SIZE,v=l-ae.BLOCK_SIZE;for(let N=0;N<o;N++){let T=N<<ae.BLOCK_SIZE_POWER;T>B&&(T=B);const R=ae.cap(N,2,o-3);for(let j=0;j<i;j++){let W=j<<ae.BLOCK_SIZE_POWER;W>v&&(W=v);const X=ae.cap(j,2,i-3);let $=0;for(let xe=-2;xe<=2;xe++){const pe=h[R+xe];$+=pe[X-2]+pe[X-1]+pe[X]+pe[X+1]+pe[X+2]}const se=$/25;ae.thresholdBlock(n,W,T,se,l,m)}}}static cap(n,i,o){return n<i?i:n>o?o:n}static thresholdBlock(n,i,o,l,u,h){for(let m=0,B=o*u+i;m<ae.BLOCK_SIZE;m++,B+=u)for(let v=0;v<ae.BLOCK_SIZE;v++)(n[B+v]&255)<=l&&h.set(i+v,o+m)}static calculateBlackPoints(n,i,o,l,u){const h=u-ae.BLOCK_SIZE,m=l-ae.BLOCK_SIZE,B=new Array(o);for(let v=0;v<o;v++){B[v]=new Int32Array(i);let N=v<<ae.BLOCK_SIZE_POWER;N>h&&(N=h);for(let T=0;T<i;T++){let R=T<<ae.BLOCK_SIZE_POWER;R>m&&(R=m);let j=0,W=255,X=0;for(let se=0,xe=N*l+R;se<ae.BLOCK_SIZE;se++,xe+=l){for(let pe=0;pe<ae.BLOCK_SIZE;pe++){const de=n[xe+pe]&255;j+=de,de<W&&(W=de),de>X&&(X=de)}if(X-W>ae.MIN_DYNAMIC_RANGE)for(se++,xe+=l;se<ae.BLOCK_SIZE;se++,xe+=l)for(let pe=0;pe<ae.BLOCK_SIZE;pe++)j+=n[xe+pe]&255}let $=j>>ae.BLOCK_SIZE_POWER*2;if(X-W<=ae.MIN_DYNAMIC_RANGE&&($=W/2,v>0&&T>0)){const se=(B[v-1][T]+2*B[v][T-1]+B[v-1][T-1])/4;W<se&&($=se)}B[v][T]=$}}return B}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class Z{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,o,l){throw new M("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new M("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new M("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new K;for(let o=0;o<this.height;o++){const l=this.getRow(o,n);for(let u=0;u<this.width;u++){const h=l[u]&255;let m;h<64?m="#":h<128?m="+":h<192?m=".":m=" ",i.append(m)}i.append(`
`)}return i.toString()}}class ee extends Z{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const o=this.delegate.getRow(n,i),l=this.getWidth();for(let u=0;u<l;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let l=0;l<i;l++)o[l]=255-(n[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,o,l){return new ee(this.delegate.crop(n,i,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ee(this.delegate.rotateCounterClockwise45())}}class le extends Z{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return le.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,o){const l=new Uint8ClampedArray(i*o);for(let u=0,h=0,m=n.length;u<m;u+=4,h++){let B;if(n[u+3]===0)B=255;else{const N=n[u],T=n[u+1],R=n[u+2];B=306*N+601*T+117*R+512>>10}l[h]=B}return l}getRow(n,i){if(n<0||n>=this.getHeight())throw new w("Requested row is outside the image: "+n);const o=this.getWidth(),l=n*o;return i===null?i=this.buffer.slice(l,l+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(l,l+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,o,l){return super.crop(n,i,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),o=i.getContext("2d"),l=n*le.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*h),B=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*h);return i.width=m,i.height=B,o.translate(m/2,B/2),o.rotate(l),o.drawImage(this.canvas,u/-2,h/-2),this.buffer=le.makeBufferFromCanvasImageData(i),this}invert(){return new ee(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class te{constructor(n,i,o){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||Qe||self||window||void 0)&&(globalThis||Qe||self||window||void 0).__awaiter||function(Q,n,i,o){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function m(N){try{v(o.next(N))}catch(T){h(T)}}function B(N){try{v(o.throw(N))}catch(T){h(T)}}function v(N){N.done?u(N.value):l(N.value).then(m,B)}v((o=o.apply(Q,n||[])).next())})};class oe{constructor(n,i=500,o){this.reader=n,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of n){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const u=o.deviceId||o.id,h=o.label||`Video device ${i.length+1}`,m=o.groupId,B={deviceId:u,label:h,kind:l,groupId:m};i.push(B)}return i})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new te(i.deviceId,i.label))})}findDeviceById(n){return re(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return re(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(n,i){return re(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(n,i){return re(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,i,o){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,o)})}decodeFromVideoDevice(n,i,o){return re(this,void 0,void 0,function*(){let l;n?l={deviceId:{exact:n}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,o)})}decodeFromConstraints(n,i,o){return re(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(l,i,o)})}decodeFromStream(n,i,o){return re(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return re(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((i,o)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const o=document.getElementById(n);if(!o)throw new p(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new p(`element with id '${n}' must be an ${i} element`);return o}decodeFromImage(n,i){if(!n&&!i)throw new p("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new p("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,o){if(n===void 0&&i===void 0)throw new p("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new p("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(n){if(!n)throw new p("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new p("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=n,o}decodeFromVideoUrl(n){if(!n)throw new p("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=n,o}decodeFromVideoUrlContinuously(n,i){if(!n)throw new p("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,i);return o.src=n,l}_decodeOnLoadImage(n){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,o=!0){this._stopAsyncDecode=!1;const l=(u,h)=>{if(this._stopAsyncDecode){h(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(n);u(m)}catch(m){const B=i&&m instanceof V,N=(m instanceof E||m instanceof O)&&o;if(B||N)return setTimeout(l,this._timeBetweenDecodingAttempts,u,h);h(m)}};return new Promise((u,h)=>l(u,h))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(n);i(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof E||l instanceof O,h=l instanceof V;(u||h)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,o){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),o=new le(i),l=new ae(o);return new y(l)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,l;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,l=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,l=n.naturalHeight||n.height)),i.style.width=o+"px",i.style.height=l+"px",i.width=o,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class ie{constructor(n,i,o=i==null?0:8*i.length,l,u,h=I.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=o,this.resultPoints=l,this.format=u,this.timestamp=h,this.text=n,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=l,this.format=u,this.resultMetadata=null,h==null?this.timestamp=I.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(i.length+n.length);I.arraycopy(i,0,o,0,i.length),I.arraycopy(n,0,o,i.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Oe;(function(Q){Q[Q.AZTEC=0]="AZTEC",Q[Q.CODABAR=1]="CODABAR",Q[Q.CODE_39=2]="CODE_39",Q[Q.CODE_93=3]="CODE_93",Q[Q.CODE_128=4]="CODE_128",Q[Q.DATA_MATRIX=5]="DATA_MATRIX",Q[Q.EAN_8=6]="EAN_8",Q[Q.EAN_13=7]="EAN_13",Q[Q.ITF=8]="ITF",Q[Q.MAXICODE=9]="MAXICODE",Q[Q.PDF_417=10]="PDF_417",Q[Q.QR_CODE=11]="QR_CODE",Q[Q.RSS_14=12]="RSS_14",Q[Q.RSS_EXPANDED=13]="RSS_EXPANDED",Q[Q.UPC_A=14]="UPC_A",Q[Q.UPC_E=15]="UPC_E",Q[Q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Oe||(Oe={}));var he=Oe,et;(function(Q){Q[Q.OTHER=0]="OTHER",Q[Q.ORIENTATION=1]="ORIENTATION",Q[Q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Q[Q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Q[Q.ISSUE_NUMBER=4]="ISSUE_NUMBER",Q[Q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Q[Q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Q[Q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Q[Q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Q[Q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Q[Q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(et||(et={}));var Ne=et;class Yr{constructor(n,i,o,l,u=-1,h=-1){this.rawBytes=n,this.text=i,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ir{exp(n){return this.expTable[n]}log(n){if(n===0)throw new w;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Rt{constructor(n,i){if(i.length===0)throw new w;this.field=n;const o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),I.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(n===1){o=0;for(let h=0,m=i.length;h!==m;h++){const B=i[h];o=Ir.addOrSubtract(o,B)}return o}o=i[0];const l=i.length,u=this.field;for(let h=1;h<l;h++)o=Ir.addOrSubtract(u.multiply(n,o),i[h]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){const h=i;i=o,o=h}let l=new Int32Array(o.length);const u=o.length-i.length;I.arraycopy(o,0,l,0,u);for(let h=u;h<o.length;h++)l[h]=Ir.addOrSubtract(i[h-u],o[h]);return new Rt(this.field,l)}multiply(n){if(!this.field.equals(n.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,l=n.coefficients,u=l.length,h=new Int32Array(o+u-1),m=this.field;for(let B=0;B<o;B++){const v=i[B];for(let N=0;N<u;N++)h[B+N]=Ir.addOrSubtract(h[B+N],m.multiply(v,l[N]))}return new Rt(m,h)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,o=this.field,l=new Int32Array(i),u=this.coefficients;for(let h=0;h<i;h++)l[h]=o.multiply(u[h],n);return new Rt(o,l)}multiplyByMonomial(n,i){if(n<0)throw new w;if(i===0)return this.field.getZero();const o=this.coefficients,l=o.length,u=new Int32Array(l+n),h=this.field;for(let m=0;m<l;m++)u[m]=h.multiply(o[m],i);return new Rt(h,u)}divide(n){if(!this.field.equals(n.field))throw new w("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new w("Divide by 0");const i=this.field;let o=i.getZero(),l=this;const u=n.getCoefficient(n.getDegree()),h=i.inverse(u);for(;l.getDegree()>=n.getDegree()&&!l.isZero();){const m=l.getDegree()-n.getDegree(),B=i.multiply(l.getCoefficient(l.getDegree()),h),v=n.multiplyByMonomial(m,B),N=i.buildMonomial(m,B);o=o.addOrSubtract(N),l=l.addOrSubtract(v)}return[o,l]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),i===0||o!==1){const l=this.field.log(o);l===0?n+="1":l===1?n+="a":(n+="a^",n+=l)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Se extends f{}Se.kind="ArithmeticException";class ve extends Ir{constructor(n,i,o){super(),this.primitive=n,this.size=i,this.generatorBase=o;const l=new Int32Array(i);let u=1;for(let m=0;m<i;m++)l[m]=u,u*=2,u>=i&&(u^=n,u&=i-1);this.expTable=l;const h=new Int32Array(i);for(let m=0;m<i-1;m++)h[l[m]]=m;this.logTable=h,this.zero=new Rt(this,Int32Array.from([0])),this.one=new Rt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new w;if(i===0)return this.zero;const o=new Int32Array(n+1);return o[0]=i,new Rt(this,o)}inverse(n){if(n===0)throw new Se;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}ve.AZTEC_DATA_12=new ve(4201,4096,1),ve.AZTEC_DATA_10=new ve(1033,1024,1),ve.AZTEC_DATA_6=new ve(67,64,1),ve.AZTEC_PARAM=new ve(19,16,1),ve.QR_CODE_FIELD_256=new ve(285,256,0),ve.DATA_MATRIX_FIELD_256=new ve(301,256,1),ve.AZTEC_DATA_8=ve.DATA_MATRIX_FIELD_256,ve.MAXICODE_FIELD_64=ve.AZTEC_DATA_6;class qe extends f{}qe.kind="ReedSolomonException";class nt extends f{}nt.kind="IllegalStateException";class Tr{constructor(n){this.field=n}decode(n,i){const o=this.field,l=new Rt(o,n),u=new Int32Array(i);let h=!0;for(let j=0;j<i;j++){const W=l.evaluateAt(o.exp(j+o.getGeneratorBase()));u[u.length-1-j]=W,W!==0&&(h=!1)}if(h)return;const m=new Rt(o,u),B=this.runEuclideanAlgorithm(o.buildMonomial(i,1),m,i),v=B[0],N=B[1],T=this.findErrorLocations(v),R=this.findErrorMagnitudes(N,T);for(let j=0;j<T.length;j++){const W=n.length-1-o.log(T[j]);if(W<0)throw new qe("Bad error location");n[W]=ve.addOrSubtract(n[W],R[j])}}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){const j=n;n=i,i=j}const l=this.field;let u=n,h=i,m=l.getZero(),B=l.getOne();for(;h.getDegree()>=(o/2|0);){let j=u,W=m;if(u=h,m=B,u.isZero())throw new qe("r_{i-1} was zero");h=j;let X=l.getZero();const $=u.getCoefficient(u.getDegree()),se=l.inverse($);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const xe=h.getDegree()-u.getDegree(),pe=l.multiply(h.getCoefficient(h.getDegree()),se);X=X.addOrSubtract(l.buildMonomial(xe,pe)),h=h.addOrSubtract(u.multiplyByMonomial(xe,pe))}if(B=X.multiply(m).addOrSubtract(W),h.getDegree()>=u.getDegree())throw new nt("Division algorithm failed to reduce polynomial?")}const v=B.getCoefficient(0);if(v===0)throw new qe("sigmaTilde(0) was zero");const N=l.inverse(v),T=B.multiplyScalar(N),R=h.multiplyScalar(N);return[T,R]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(i);let l=0;const u=this.field;for(let h=1;h<u.getSize()&&l<i;h++)n.evaluateAt(h)===0&&(o[l]=u.inverse(h),l++);if(l!==i)throw new qe("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,i){const o=i.length,l=new Int32Array(o),u=this.field;for(let h=0;h<o;h++){const m=u.inverse(i[h]);let B=1;for(let v=0;v<o;v++)if(h!==v){const N=u.multiply(i[v],m),T=N&1?N&-2:N|1;B=u.multiply(B,T)}l[h]=u.multiply(n.evaluateAt(m),u.inverse(B)),u.getGeneratorBase()!==0&&(l[h]=u.multiply(l[h],m))}return l}}var gt;(function(Q){Q[Q.UPPER=0]="UPPER",Q[Q.LOWER=1]="LOWER",Q[Q.MIXED=2]="MIXED",Q[Q.DIGIT=3]="DIGIT",Q[Q.PUNCT=4]="PUNCT",Q[Q.BINARY=5]="BINARY"})(gt||(gt={}));class We{decode(n){this.ddata=n;let i=n.getBits(),o=this.extractBits(i),l=this.correctBits(o),u=We.convertBoolArrayToByteArray(l),h=We.getEncodedData(l),m=new Yr(u,h,null,null);return m.setNumBits(l.length),m}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,o=gt.UPPER,l=gt.UPPER,u="",h=0;for(;h<i;)if(l===gt.BINARY){if(i-h<5)break;let m=We.readCode(n,h,5);if(h+=5,m===0){if(i-h<11)break;m=We.readCode(n,h,11)+31,h+=11}for(let B=0;B<m;B++){if(i-h<8){h=i;break}const v=We.readCode(n,h,8);u+=Y.castAsNonUtf8Char(v),h+=8}l=o}else{let m=l===gt.DIGIT?4:5;if(i-h<m)break;let B=We.readCode(n,h,m);h+=m;let v=We.getCharacter(l,B);v.startsWith("CTRL_")?(o=l,l=We.getTable(v.charAt(5)),v.charAt(6)==="L"&&(o=l)):(u+=v,l=o)}return u}static getTable(n){switch(n){case"L":return gt.LOWER;case"P":return gt.PUNCT;case"M":return gt.MIXED;case"D":return gt.DIGIT;case"B":return gt.BINARY;case"U":default:return gt.UPPER}}static getCharacter(n,i){switch(n){case gt.UPPER:return We.UPPER_TABLE[i];case gt.LOWER:return We.LOWER_TABLE[i];case gt.MIXED:return We.MIXED_TABLE[i];case gt.PUNCT:return We.PUNCT_TABLE[i];case gt.DIGIT:return We.DIGIT_TABLE[i];default:throw new nt("Bad table")}}correctBits(n){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=ve.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=ve.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=ve.AZTEC_DATA_10):(o=12,i=ve.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=n.length/o;if(u<l)throw new O;let h=n.length%o,m=new Int32Array(u);for(let R=0;R<u;R++,h+=o)m[R]=We.readCode(n,h,o);try{new Tr(i).decode(m,u-l)}catch(R){throw new O(R)}let B=(1<<o)-1,v=0;for(let R=0;R<l;R++){let j=m[R];if(j===0||j===B)throw new O;(j===1||j===B-1)&&v++}let N=new Array(l*o-v),T=0;for(let R=0;R<l;R++){let j=m[R];if(j===1||j===B-1)N.fill(j>1,T,T+o-1),T+=o-1;else for(let W=o-1;W>=0;--W)N[T++]=(j&1<<W)!==0}return N}extractBits(n){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(i?11:14)+o*4,u=new Int32Array(l),h=new Array(this.totalBitsInLayer(o,i));if(i)for(let m=0;m<u.length;m++)u[m]=m;else{let m=l+1+2*b.truncDivision(b.truncDivision(l,2)-1,15),B=l/2,v=b.truncDivision(m,2);for(let N=0;N<B;N++){let T=N+b.truncDivision(N,15);u[B-N-1]=v-T-1,u[B+N]=v+T+1}}for(let m=0,B=0;m<o;m++){let v=(o-m)*4+(i?9:12),N=m*2,T=l-1-N;for(let R=0;R<v;R++){let j=R*2;for(let W=0;W<2;W++)h[B+j+W]=n.get(u[N+W],u[N+R]),h[B+2*v+j+W]=n.get(u[N+R],u[T-W]),h[B+4*v+j+W]=n.get(u[T-W],u[T-R]),h[B+6*v+j+W]=n.get(u[T-R],u[N+W])}B+=v*8}return h}static readCode(n,i,o){let l=0;for(let u=i;u<i+o;u++)l<<=1,n[u]&&(l|=1);return l}static readByte(n,i){let o=n.length-i;return o>=8?We.readCode(n,i,8):We.readCode(n,i,o)<<8-o}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let o=0;o<i.length;o++)i[o]=We.readByte(n,8*o);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}We.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],We.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],We.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],We.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],We.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class He{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,o,l){const u=n-o,h=i-l;return Math.sqrt(u*u+h*h)}static sum(n){let i=0;for(let o=0,l=n.length;o!==l;o++){const u=n[o];i+=u}return i}}class PA{static floatToIntBits(n){return n}}PA.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Be{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof Be){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*PA.floatToIntBits(this.x)+PA.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),l=this.distance(n[0],n[2]);let u,h,m;if(o>=i&&o>=l?(h=n[0],u=n[1],m=n[2]):l>=o&&l>=i?(h=n[1],u=n[0],m=n[2]):(h=n[2],u=n[0],m=n[1]),this.crossProductZ(u,h,m)<0){const B=u;u=m,m=B}n[0]=u,n[1]=h,n[2]=m}static distance(n,i){return He.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,o){const l=i.x,u=i.y;return(o.x-l)*(n.y-u)-(o.y-u)*(n.x-l)}}class or{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class IA extends or{constructor(n,i,o,l,u){super(n,i),this.compact=o,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Rr{constructor(n,i,o,l){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=Rr.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),l==null&&(l=n.getHeight()/2|0);const u=i/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let n=this.leftInit,i=this.rightInit,o=this.upInit,l=this.downInit,u=!1,h=!0,m=!1,B=!1,v=!1,N=!1,T=!1;const R=this.width,j=this.height;for(;h;){h=!1;let W=!0;for(;(W||!B)&&i<R;)W=this.containsBlackPoint(o,l,i,!1),W?(i++,h=!0,B=!0):B||i++;if(i>=R){u=!0;break}let X=!0;for(;(X||!v)&&l<j;)X=this.containsBlackPoint(n,i,l,!0),X?(l++,h=!0,v=!0):v||l++;if(l>=j){u=!0;break}let $=!0;for(;($||!N)&&n>=0;)$=this.containsBlackPoint(o,l,n,!1),$?(n--,h=!0,N=!0):N||n--;if(n<0){u=!0;break}let se=!0;for(;(se||!T)&&o>=0;)se=this.containsBlackPoint(n,i,o,!0),se?(o--,h=!0,T=!0):T||o--;if(o<0){u=!0;break}h&&(m=!0)}if(!u&&m){const W=i-n;let X=null;for(let pe=1;X===null&&pe<W;pe++)X=this.getBlackPointOnSegment(n,l-pe,n+pe,l);if(X==null)throw new V;let $=null;for(let pe=1;$===null&&pe<W;pe++)$=this.getBlackPointOnSegment(n,o+pe,n+pe,o);if($==null)throw new V;let se=null;for(let pe=1;se===null&&pe<W;pe++)se=this.getBlackPointOnSegment(i,o+pe,i-pe,o);if(se==null)throw new V;let xe=null;for(let pe=1;xe===null&&pe<W;pe++)xe=this.getBlackPointOnSegment(i,l-pe,i-pe,l);if(xe==null)throw new V;return this.centerEdges(xe,X,se,$)}else throw new V}getBlackPointOnSegment(n,i,o,l){const u=He.round(He.distance(n,i,o,l)),h=(o-n)/u,m=(l-i)/u,B=this.image;for(let v=0;v<u;v++){const N=He.round(n+v*h),T=He.round(i+v*m);if(B.get(N,T))return new Be(N,T)}return null}centerEdges(n,i,o,l){const u=n.getX(),h=n.getY(),m=i.getX(),B=i.getY(),v=o.getX(),N=o.getY(),T=l.getX(),R=l.getY(),j=Rr.CORR;return u<this.width/2?[new Be(T-j,R+j),new Be(m+j,B+j),new Be(v-j,N-j),new Be(u+j,h-j)]:[new Be(T+j,R+j),new Be(m+j,B-j),new Be(v-j,N+j),new Be(u-j,h-j)]}containsBlackPoint(n,i,o,l){const u=this.image;if(l){for(let h=n;h<=i;h++)if(u.get(h,o))return!0}else for(let h=n;h<=i;h++)if(u.get(o,h))return!0;return!1}}Rr.INIT_SIZE=10,Rr.CORR=1;class ti{static checkAndNudgePoints(n,i){const o=n.getWidth(),l=n.getHeight();let u=!0;for(let h=0;h<i.length&&u;h+=2){const m=Math.floor(i[h]),B=Math.floor(i[h+1]);if(m<-1||m>o||B<-1||B>l)throw new V;u=!1,m===-1?(i[h]=0,u=!0):m===o&&(i[h]=o-1,u=!0),B===-1?(i[h+1]=0,u=!0):B===l&&(i[h+1]=l-1,u=!0)}u=!0;for(let h=i.length-2;h>=0&&u;h-=2){const m=Math.floor(i[h]),B=Math.floor(i[h+1]);if(m<-1||m>o||B<-1||B>l)throw new V;u=!1,m===-1?(i[h]=0,u=!0):m===o&&(i[h]=o-1,u=!0),B===-1?(i[h+1]=0,u=!0):B===l&&(i[h+1]=l-1,u=!0)}}}class qt{constructor(n,i,o,l,u,h,m,B,v){this.a11=n,this.a21=i,this.a31=o,this.a12=l,this.a22=u,this.a32=h,this.a13=m,this.a23=B,this.a33=v}static quadrilateralToQuadrilateral(n,i,o,l,u,h,m,B,v,N,T,R,j,W,X,$){const se=qt.quadrilateralToSquare(n,i,o,l,u,h,m,B);return qt.squareToQuadrilateral(v,N,T,R,j,W,X,$).times(se)}transformPoints(n){const i=n.length,o=this.a11,l=this.a12,u=this.a13,h=this.a21,m=this.a22,B=this.a23,v=this.a31,N=this.a32,T=this.a33;for(let R=0;R<i;R+=2){const j=n[R],W=n[R+1],X=u*j+B*W+T;n[R]=(o*j+h*W+v)/X,n[R+1]=(l*j+m*W+N)/X}}transformPointsWithValues(n,i){const o=this.a11,l=this.a12,u=this.a13,h=this.a21,m=this.a22,B=this.a23,v=this.a31,N=this.a32,T=this.a33,R=n.length;for(let j=0;j<R;j++){const W=n[j],X=i[j],$=u*W+B*X+T;n[j]=(o*W+h*X+v)/$,i[j]=(l*W+m*X+N)/$}}static squareToQuadrilateral(n,i,o,l,u,h,m,B){const v=n-o+u-m,N=i-l+h-B;if(v===0&&N===0)return new qt(o-n,u-o,n,l-i,h-l,i,0,0,1);{const T=o-u,R=m-u,j=l-h,W=B-h,X=T*W-R*j,$=(v*W-R*N)/X,se=(T*N-v*j)/X;return new qt(o-n+$*o,m-n+se*m,n,l-i+$*l,B-i+se*B,i,$,se,1)}}static quadrilateralToSquare(n,i,o,l,u,h,m,B){return qt.squareToQuadrilateral(n,i,o,l,u,h,m,B).buildAdjoint()}buildAdjoint(){return new qt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new qt(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Fn extends ti{sampleGrid(n,i,o,l,u,h,m,B,v,N,T,R,j,W,X,$,se,xe,pe){const de=qt.quadrilateralToQuadrilateral(l,u,h,m,B,v,N,T,R,j,W,X,$,se,xe,pe);return this.sampleGridWithTransform(n,i,o,de)}sampleGridWithTransform(n,i,o,l){if(i<=0||o<=0)throw new V;const u=new q(i,o),h=new Float32Array(2*i);for(let m=0;m<o;m++){const B=h.length,v=m+.5;for(let N=0;N<B;N+=2)h[N]=N/2+.5,h[N+1]=v;l.transformPoints(h),ti.checkAndNudgePoints(n,h);try{for(let N=0;N<B;N+=2)n.get(Math.floor(h[N]),Math.floor(h[N+1]))&&u.set(N/2,m)}catch{throw new V}}return u}}class KA{static setGridSampler(n){KA.gridSampler=n}static getInstance(){return KA.gridSampler}}KA.gridSampler=new Fn;class $t{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new Be(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class xa{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(n){let h=o[0];o[0]=o[2],o[2]=h}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new IA(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new V;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(o,i);let l=0;for(let h=0;h<4;h++){let m=o[(this.shift+h)%4];this.compact?(l<<=7,l+=m>>1&127):(l<<=10,l+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,i){let o=0;n.forEach((l,u,h)=>{let m=(l>>i-2<<1)+(l&1);o=(o<<3)+m}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(b.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new V}getCorrectedParameterData(n,i){let o,l;i?(o=7,l=2):(o=10,l=4);let u=o-l,h=new Int32Array(o);for(let B=o-1;B>=0;--B)h[B]=n&15,n>>=4;try{new Tr(ve.AZTEC_PARAM).decode(h,u)}catch{throw new V}let m=0;for(let B=0;B<l;B++)m=(m<<4)+h[B];return m}getBullsEyeCorners(n){let i=n,o=n,l=n,u=n,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,h,1,-1),R=this.getFirstDifferent(o,h,1,1),j=this.getFirstDifferent(l,h,-1,1),W=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(W,T)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(T,R,j,W))break}i=T,o=R,l=j,u=W,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let m=new Be(i.getX()+.5,i.getY()-.5),B=new Be(o.getX()+.5,o.getY()+.5),v=new Be(l.getX()-.5,l.getY()+.5),N=new Be(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,B,v,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,o,l;try{let m=new Rr(this.image).detect();n=m[0],i=m[1],o=m[2],l=m[3]}catch{let B=this.image.getWidth()/2,v=this.image.getHeight()/2;n=this.getFirstDifferent(new $t(B+7,v-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new $t(B+7,v+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new $t(B-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new $t(B-7,v-7),!1,-1,-1).toResultPoint()}let u=He.round((n.getX()+l.getX()+i.getX()+o.getX())/4),h=He.round((n.getY()+l.getY()+i.getY()+o.getY())/4);try{let m=new Rr(this.image,15,u,h).detect();n=m[0],i=m[1],o=m[2],l=m[3]}catch{n=this.getFirstDifferent(new $t(u+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new $t(u+7,h+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new $t(u-7,h+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new $t(u-7,h-7),!1,-1,-1).toResultPoint()}return u=He.round((n.getX()+l.getX()+i.getX()+o.getX())/4),h=He.round((n.getY()+l.getY()+i.getY()+o.getY())/4),new $t(u,h)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,o,l,u){let h=KA.getInstance(),m=this.getDimension(),B=m/2-this.nbCenterLayers,v=m/2+this.nbCenterLayers;return h.sampleGrid(n,m,m,B,B,v,B,v,v,B,v,i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(n,i,o){let l=0,u=this.distanceResultPoint(n,i),h=u/o,m=n.getX(),B=n.getY(),v=h*(i.getX()-n.getX())/u,N=h*(i.getY()-n.getY())/u;for(let T=0;T<o;T++)this.image.get(He.round(m+T*v),He.round(B+T*N))&&(l|=1<<o-T-1);return l}isWhiteOrBlackRectangle(n,i,o,l){let u=3;n=new $t(n.getX()-u,n.getY()+u),i=new $t(i.getX()-u,i.getY()-u),o=new $t(o.getX()+u,o.getY()-u),l=new $t(l.getX()+u,l.getY()+u);let h=this.getColor(l,n);if(h===0)return!1;let m=this.getColor(n,i);return m!==h||(m=this.getColor(i,o),m!==h)?!1:(m=this.getColor(o,l),m===h)}getColor(n,i){let o=this.distancePoint(n,i),l=(i.getX()-n.getX())/o,u=(i.getY()-n.getY())/o,h=0,m=n.getX(),B=n.getY(),v=this.image.get(n.getX(),n.getY()),N=Math.ceil(o);for(let R=0;R<N;R++)m+=l,B+=u,this.image.get(He.round(m),He.round(B))!==v&&h++;let T=h/o;return T>.1&&T<.9?0:T<=.1===v?1:-1}getFirstDifferent(n,i,o,l){let u=n.getX()+o,h=n.getY()+l;for(;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=o,h+=l;for(u-=o,h-=l;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=o;for(u-=o;this.isValid(u,h)&&this.image.get(u,h)===i;)h+=l;return h-=l,new $t(u,h)}expandSquare(n,i,o){let l=o/(2*i),u=n[0].getX()-n[2].getX(),h=n[0].getY()-n[2].getY(),m=(n[0].getX()+n[2].getX())/2,B=(n[0].getY()+n[2].getY())/2,v=new Be(m+l*u,B+l*h),N=new Be(m-l*u,B-l*h);u=n[1].getX()-n[3].getX(),h=n[1].getY()-n[3].getY(),m=(n[1].getX()+n[3].getX())/2,B=(n[1].getY()+n[3].getY())/2;let T=new Be(m+l*u,B+l*h),R=new Be(m-l*u,B-l*h);return[v,T,N,R]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=He.round(n.getX()),o=He.round(n.getY());return this.isValid(i,o)}distancePoint(n,i){return He.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return He.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class _A{decode(n,i=null){let o=null,l=new xa(n.getBlackMatrix()),u=null,h=null;try{let N=l.detectMirror(!1);u=N.getPoints(),this.reportFoundResultPoints(i,u),h=new We().decode(N)}catch(N){o=N}if(h==null)try{let N=l.detectMirror(!0);u=N.getPoints(),this.reportFoundResultPoints(i,u),h=new We().decode(N)}catch(N){throw o??N}let m=new ie(h.getText(),h.getRawBytes(),h.getNumBits(),u,he.AZTEC,I.currentTimeMillis()),B=h.getByteSegments();B!=null&&m.putMetadata(Ne.BYTE_SEGMENTS,B);let v=h.getECLevel();return v!=null&&m.putMetadata(Ne.ERROR_CORRECTION_LEVEL,v),m}reportFoundResultPoints(n,i){if(n!=null){let o=n.get(D.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((l,u,h)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class Bs extends oe{constructor(n=500){super(new _A,n)}}class _t{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(D.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),h=this.doDecode(u,i),m=h.getResultMetadata();let B=270;m!==null&&m.get(Ne.ORIENTATION)===!0&&(B=B+m.get(Ne.ORIENTATION)%360),h.putMetadata(Ne.ORIENTATION,B);const v=h.getResultPoints();if(v!==null){const N=u.getHeight();for(let T=0;T<v.length;T++)v[T]=new Be(N-v[T].getY()-1,v[T].getX())}return h}else throw new V}}reset(){}doDecode(n,i){const o=n.getWidth(),l=n.getHeight();let u=new S(o);const h=i&&i.get(D.TRY_HARDER)===!0,m=Math.max(1,l>>(h?8:5));let B;h?B=l:B=15;const v=Math.trunc(l/2);for(let N=0;N<B;N++){const T=Math.trunc((N+1)/2),R=(N&1)===0,j=v+m*(R?T:-T);if(j<0||j>=l)break;try{u=n.getBlackRow(j,u)}catch{continue}for(let W=0;W<2;W++){if(W===1&&(u.reverse(),i&&i.get(D.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;i.forEach(($,se)=>X.set(se,$)),X.delete(D.NEED_RESULT_POINT_CALLBACK),i=X}try{const X=this.decodeRow(j,u,i);if(W===1){X.putMetadata(Ne.ORIENTATION,180);const $=X.getResultPoints();$!==null&&($[0]=new Be(o-$[0].getX()-1,$[0].getY()),$[1]=new Be(o-$[1].getX()-1,$[1].getY()))}return X}catch{}}}throw new V}static recordPattern(n,i,o){const l=o.length;for(let v=0;v<l;v++)o[v]=0;const u=n.getSize();if(i>=u)throw new V;let h=!n.get(i),m=0,B=i;for(;B<u;){if(n.get(B)!==h)o[m]++;else{if(++m===l)break;o[m]=1,h=!h}B++}if(!(m===l||m===l-1&&B===u))throw new V}static recordPatternInReverse(n,i,o){let l=o.length,u=n.get(i);for(;i>0&&l>=0;)n.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new V;_t.recordPattern(n,i+1,o)}static patternMatchVariance(n,i,o){const l=n.length;let u=0,h=0;for(let v=0;v<l;v++)u+=n[v],h+=i[v];if(u<h)return Number.POSITIVE_INFINITY;const m=u/h;o*=m;let B=0;for(let v=0;v<l;v++){const N=n[v],T=i[v]*m,R=N>T?N-T:T-N;if(R>o)return Number.POSITIVE_INFINITY;B+=R}return B/u}}class me extends _t{static findStartPattern(n){const i=n.getSize(),o=n.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),h=o,m=!1;const B=6;for(let v=o;v<i;v++)if(n.get(v)!==m)u[l]++;else{if(l===B-1){let N=me.MAX_AVG_VARIANCE,T=-1;for(let R=me.CODE_START_A;R<=me.CODE_START_C;R++){const j=_t.patternMatchVariance(u,me.CODE_PATTERNS[R],me.MAX_INDIVIDUAL_VARIANCE);j<N&&(N=j,T=R)}if(T>=0&&n.isRange(Math.max(0,h-(v-h)/2),h,!1))return Int32Array.from([h,v,T]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,m=!m}throw new V}static decodeCode(n,i,o){_t.recordPattern(n,o,i);let l=me.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<me.CODE_PATTERNS.length;h++){const m=me.CODE_PATTERNS[h],B=this.patternMatchVariance(i,m,me.MAX_INDIVIDUAL_VARIANCE);B<l&&(l=B,u=h)}if(u>=0)return u;throw new V}decodeRow(n,i,o){const l=o&&o.get(D.ASSUME_GS1)===!0,u=me.findStartPattern(i),h=u[2];let m=0;const B=new Uint8Array(20);B[m++]=h;let v;switch(h){case me.CODE_START_A:v=me.CODE_CODE_A;break;case me.CODE_START_B:v=me.CODE_CODE_B;break;case me.CODE_START_C:v=me.CODE_CODE_C;break;default:throw new O}let N=!1,T=!1,R="",j=u[0],W=u[1];const X=Int32Array.from([0,0,0,0,0,0]);let $=0,se=0,xe=h,pe=0,de=!0,Ve=!1,ke=!1;for(;!N;){const ci=T;switch(T=!1,$=se,se=me.decodeCode(i,X,W),B[m++]=se,se!==me.CODE_STOP&&(de=!0),se!==me.CODE_STOP&&(pe++,xe+=pe*se),j=W,W+=X.reduce((qv,$v)=>qv+$v,0),se){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new O}switch(v){case me.CODE_CODE_A:if(se<64)ke===Ve?R+=String.fromCharCode(32+se):R+=String.fromCharCode(32+se+128),ke=!1;else if(se<96)ke===Ve?R+=String.fromCharCode(se-64):R+=String.fromCharCode(se+64),ke=!1;else switch(se!==me.CODE_STOP&&(de=!1),se){case me.CODE_FNC_1:l&&(R.length===0?R+="]C1":R+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!Ve&&ke?(Ve=!0,ke=!1):Ve&&ke?(Ve=!1,ke=!1):ke=!0;break;case me.CODE_SHIFT:T=!0,v=me.CODE_CODE_B;break;case me.CODE_CODE_B:v=me.CODE_CODE_B;break;case me.CODE_CODE_C:v=me.CODE_CODE_C;break;case me.CODE_STOP:N=!0;break}break;case me.CODE_CODE_B:if(se<96)ke===Ve?R+=String.fromCharCode(32+se):R+=String.fromCharCode(32+se+128),ke=!1;else switch(se!==me.CODE_STOP&&(de=!1),se){case me.CODE_FNC_1:l&&(R.length===0?R+="]C1":R+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!Ve&&ke?(Ve=!0,ke=!1):Ve&&ke?(Ve=!1,ke=!1):ke=!0;break;case me.CODE_SHIFT:T=!0,v=me.CODE_CODE_A;break;case me.CODE_CODE_A:v=me.CODE_CODE_A;break;case me.CODE_CODE_C:v=me.CODE_CODE_C;break;case me.CODE_STOP:N=!0;break}break;case me.CODE_CODE_C:if(se<100)se<10&&(R+="0"),R+=se;else switch(se!==me.CODE_STOP&&(de=!1),se){case me.CODE_FNC_1:l&&(R.length===0?R+="]C1":R+="");break;case me.CODE_CODE_A:v=me.CODE_CODE_A;break;case me.CODE_CODE_B:v=me.CODE_CODE_B;break;case me.CODE_STOP:N=!0;break}break}ci&&(v=v===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const Lr=W-j;if(W=i.getNextUnset(W),!i.isRange(W,Math.min(i.getSize(),W+(W-j)/2),!1))throw new V;if(xe-=pe*$,xe%103!==$)throw new E;const NA=R.length;if(NA===0)throw new V;NA>0&&de&&(v===me.CODE_CODE_C?R=R.substring(0,NA-2):R=R.substring(0,NA-1));const jr=(u[1]+u[0])/2,ct=j+Lr/2,dr=B.length,$r=new Uint8Array(dr);for(let ci=0;ci<dr;ci++)$r[ci]=B[ci];const li=[new Be(jr,n),new Be(ct,n)];return new ie(R,$r,0,li,he.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class Nt extends _t{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=Nt.findAsteriskPattern(i,l),h=i.getNextSet(u[1]),m=i.getSize(),B,v;do{Nt.recordPattern(i,h,l);let X=Nt.toNarrowWidePattern(l);if(X<0)throw new V;B=Nt.patternToChar(X),this.decodeRowResult+=B,v=h;for(let $ of l)h+=$;h=i.getNextSet(h)}while(B!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let X of l)N+=X;let T=h-v-N;if(h!==m&&T*2<N)throw new V;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,$=0;for(let se=0;se<X;se++)$+=Nt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(se));if(this.decodeRowResult.charAt(X)!==Nt.ALPHABET_STRING.charAt($%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new V;let R;this.extendedMode?R=Nt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let j=(u[1]+u[0])/2,W=v+N/2;return new ie(R,null,0,[new Be(j,n),new Be(W,n)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let o=n.getSize(),l=n.getNextSet(0),u=0,h=l,m=!1,B=i.length;for(let v=l;v<o;v++)if(n.get(v)!==m)i[u]++;else{if(u===B-1){if(this.toNarrowWidePattern(i)===Nt.ASTERISK_ENCODING&&n.isRange(Math.max(0,h-Math.floor((v-h)/2)),h,!1))return[h,v];h+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,m=!m}throw new V}static toNarrowWidePattern(n){let i=n.length,o=0,l;do{let u=2147483647;for(let B of n)B<u&&B>o&&(u=B);o=u,l=0;let h=0,m=0;for(let B=0;B<i;B++){let v=n[B];v>o&&(m|=1<<i-1-B,l++,h+=v)}if(l===3){for(let B=0;B<i&&l>0;B++){let v=n[B];if(v>o&&(l--,v*2>=h))return-1}return m}}while(l>3);return-1}static patternToChar(n){for(let i=0;i<Nt.CHARACTER_ENCODINGS.length;i++)if(Nt.CHARACTER_ENCODINGS[i]===n)return Nt.ALPHABET_STRING.charAt(i);if(n===Nt.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(n){let i=n.length,o="";for(let l=0;l<i;l++){let u=n.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=n.charAt(l+1),m="\0";switch(u){case"+":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)+32);else throw new O;break;case"$":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)-64);else throw new O;break;case"%":if(h>="A"&&h<="E")m=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")m=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")m=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")m="\0";else if(h==="V")m="@";else if(h==="W")m="`";else if(h==="X"||h==="Y"||h==="Z")m="";else throw new O;break;case"/":if(h>="A"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")m=":";else throw new O;break}o+=m,l++}else o+=u}return o}}Nt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Nt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Nt.ASTERISK_ENCODING=148;class st extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,o){let l=this.decodeStart(i),u=this.decodeEnd(i),h=new K;st.decodeMiddle(i,l[1],u[0],h);let m=h.toString(),B=null;o!=null&&(B=o.get(D.ALLOWED_LENGTHS)),B==null&&(B=st.DEFAULT_ALLOWED_LENGTHS);let v=m.length,N=!1,T=0;for(let W of B){if(v===W){N=!0;break}W>T&&(T=W)}if(!N&&v>T&&(N=!0),!N)throw new O;const R=[new Be(l[1],n),new Be(u[0],n)];return new ie(m,null,0,R,he.ITF,new Date().getTime())}static decodeMiddle(n,i,o,l){let u=new Int32Array(10),h=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),h.fill(0),m.fill(0);i<o;){_t.recordPattern(n,i,u);for(let v=0;v<5;v++){let N=2*v;h[v]=u[N],m[v]=u[N+1]}let B=st.decodeDigit(h);l.append(B.toString()),B=this.decodeDigit(m),l.append(B.toString()),u.forEach(function(v){i+=v})}}decodeStart(n){let i=st.skipWhiteSpace(n),o=st.findGuardPattern(n,i,st.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let l=i-1;o>0&&l>=0&&!n.get(l);l--)o--;if(o!==0)throw new V}static skipWhiteSpace(n){const i=n.getSize(),o=n.getNextSet(0);if(o===i)throw new V;return o}decodeEnd(n){n.reverse();try{let i=st.skipWhiteSpace(n),o;try{o=st.findGuardPattern(n,i,st.END_PATTERN_REVERSED[0])}catch(u){u instanceof V&&(o=st.findGuardPattern(n,i,st.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let l=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-l,o}finally{n.reverse()}}static findGuardPattern(n,i,o){let l=o.length,u=new Int32Array(l),h=n.getSize(),m=!1,B=0,v=i;u.fill(0);for(let N=i;N<h;N++)if(n.get(N)!==m)u[B]++;else{if(B===l-1){if(_t.patternMatchVariance(u,o,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return[v,N];v+=u[0]+u[1],I.arraycopy(u,2,u,0,B-1),u[B-1]=0,u[B]=0,B--}else B++;u[B]=1,m=!m}throw new V}static decodeDigit(n){let i=st.MAX_AVG_VARIANCE,o=-1,l=st.PATTERNS.length;for(let u=0;u<l;u++){let h=st.PATTERNS[u],m=_t.patternMatchVariance(n,h,st.MAX_INDIVIDUAL_VARIANCE);m<i?(i=m,o=u):m===i&&(o=-1)}if(o>=0)return o%10;throw new V}}st.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],st.MAX_AVG_VARIANCE=.38,st.MAX_INDIVIDUAL_VARIANCE=.5,st.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],st.START_PATTERN=Int32Array.from([1,1,1,1]),st.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Bt extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,o,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),o=Bt.findGuardPattern(n,l,!1,this.START_END_PATTERN,u);let h=o[0];l=o[1];let m=h-(l-h);m>=0&&(i=n.isRange(m,h,!1))}return o}static checkChecksum(n){return Bt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return Bt.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let l=i-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new O;o+=u}o*=3;for(let l=i-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new O;o+=u}return(1e3-o)%10}static decodeEnd(n,i){return Bt.findGuardPattern(n,i,!1,Bt.START_END_PATTERN,new Int32Array(Bt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,o,l){return this.findGuardPattern(n,i,o,l,new Int32Array(l.length))}static findGuardPattern(n,i,o,l,u){let h=n.getSize();i=o?n.getNextUnset(i):n.getNextSet(i);let m=0,B=i,v=l.length,N=o;for(let T=i;T<h;T++)if(n.get(T)!==N)u[m]++;else{if(m===v-1){if(_t.patternMatchVariance(u,l,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return Int32Array.from([B,T]);B+=u[0]+u[1];let R=u.slice(2,u.length-1);for(let j=0;j<m-1;j++)u[j]=R[j];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,N=!N}throw new V}static decodeDigit(n,i,o,l){this.recordPattern(n,o,i);let u=this.MAX_AVG_VARIANCE,h=-1,m=l.length;for(let B=0;B<m;B++){let v=l[B],N=_t.patternMatchVariance(i,v,Bt.MAX_INDIVIDUAL_VARIANCE);N<u&&(u=N,h=B)}if(h>=0)return h;throw new V}}Bt.MAX_AVG_VARIANCE=.48,Bt.MAX_INDIVIDUAL_VARIANCE=.7,Bt.START_END_PATTERN=Int32Array.from([1,1,1]),Bt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Bt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class In{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,l),h=l.toString(),m=In.parseExtensionString(h),B=[new Be((o[0]+o[1])/2,n),new Be(u,n)],v=new ie(h,null,0,B,he.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(n,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=i[1],m=0;for(let v=0;v<5&&h<u;v++){let N=Bt.decodeDigit(n,l,h,Bt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+N%10);for(let T of l)h+=T;N>=10&&(m|=1<<4-v),v!==4&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(o.length!==5)throw new V;let B=this.determineCheckDigit(m);if(In.extensionChecksum(o.toString())!==B)throw new V;return h}static extensionChecksum(n){let i=n.length,o=0;for(let l=i-2;l>=0;l-=2)o+=n.charAt(l).charCodeAt(0)-48;o*=3;for(let l=i-1;l>=0;l-=2)o+=n.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new V}static parseExtensionString(n){if(n.length!==5)return null;let i=In.parseExtension5String(n);return i==null?null:new Map([[Ne.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(n.substring(1)),l=(o/100).toString(),u=o%100,h=u<10?"0"+u:u.toString();return i+l+"."+h}}class pa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,l),h=l.toString(),m=pa.parseExtensionString(h),B=[new Be((o[0]+o[1])/2,n),new Be(u,n)],v=new ie(h,null,0,B,he.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(n,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=i[1],m=0;for(let B=0;B<2&&h<u;B++){let v=Bt.decodeDigit(n,l,h,Bt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let N of l)h+=N;v>=10&&(m|=1<<1-B),B!==1&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(o.length!==2)throw new V;if(parseInt(o.toString())%4!==m)throw new V;return h}static parseExtensionString(n){return n.length!==2?null:new Map([[Ne.ISSUE_NUMBER,parseInt(n)]])}}class ma{static decodeRow(n,i,o){let l=Bt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new In().decodeRow(n,i,l)}catch{return new pa().decodeRow(n,i,l)}}}ma.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class $e extends Bt{constructor(){super(),this.decodeRowStringBuffer="",$e.L_AND_G_PATTERNS=$e.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=$e.L_PATTERNS[n-10],o=new Int32Array(i.length);for(let l=0;l<i.length;l++)o[l]=i[i.length-l-1];$e.L_AND_G_PATTERNS[n]=o}}decodeRow(n,i,o){let l=$e.findStartGuardPattern(i),u=o==null?null:o.get(D.NEED_RESULT_POINT_CALLBACK);if(u!=null){const de=new Be((l[0]+l[1])/2,n);u.foundPossibleResultPoint(de)}let h=this.decodeMiddle(i,l,this.decodeRowStringBuffer),m=h.rowOffset,B=h.resultString;if(u!=null){const de=new Be(m,n);u.foundPossibleResultPoint(de)}let v=this.decodeEnd(i,m);if(u!=null){const de=new Be((v[0]+v[1])/2,n);u.foundPossibleResultPoint(de)}let N=v[1],T=N+(N-v[0]);if(T>=i.getSize()||!i.isRange(N,T,!1))throw new V;let R=B.toString();if(R.length<8)throw new O;if(!$e.checkChecksum(R))throw new E;let j=(l[1]+l[0])/2,W=(v[1]+v[0])/2,X=this.getBarcodeFormat(),$=[new Be(j,n),new Be(W,n)],se=new ie(R,null,0,$,X,new Date().getTime()),xe=0;try{let de=ma.decodeRow(n,i,v[1]);se.putMetadata(Ne.UPC_EAN_EXTENSION,de.getText()),se.putAllMetadata(de.getResultMetadata()),se.addResultPoints(de.getResultPoints()),xe=de.getText().length}catch{}let pe=o==null?null:o.get(D.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let de=!1;for(let Ve in pe)if(xe.toString()===Ve){de=!0;break}if(!de)throw new V}return se}decodeEnd(n,i){return $e.findGuardPattern(n,i,!1,$e.START_END_PATTERN,new Int32Array($e.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return $e.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return $e.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let l=i-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new O;o+=u}o*=3;for(let l=i-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new O;o+=u}return(1e3-o)%10}}class VA extends $e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=i[1],m=0;for(let v=0;v<6&&h<u;v++){let N=$e.decodeDigit(n,l,h,$e.L_AND_G_PATTERNS);o+=String.fromCharCode(48+N%10);for(let T of l)h+=T;N>=10&&(m|=1<<5-v)}o=VA.determineFirstDigit(o,m),h=$e.findGuardPattern(n,h,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&h<u;v++){let N=$e.decodeDigit(n,l,h,$e.L_PATTERNS);o+=String.fromCharCode(48+N);for(let T of l)h+=T}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(n,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode(48+o)+n,n;throw new V}}VA.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Al extends $e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=i[1];for(let B=0;B<4&&h<u;B++){let v=$e.decodeDigit(n,l,h,$e.L_PATTERNS);o+=String.fromCharCode(48+v);for(let N of l)h+=N}h=$e.findGuardPattern(n,h,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<4&&h<u;B++){let v=$e.decodeDigit(n,l,h,$e.L_PATTERNS);o+=String.fromCharCode(48+v);for(let N of l)h+=N}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return he.EAN_8}}class nl extends $e{constructor(){super(...arguments),this.ean13Reader=new VA}getBarcodeFormat(){return he.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,o))}decodeMiddle(n,i,o){return this.ean13Reader.decodeMiddle(n,i,o)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let o=new ie(i.substring(1),null,null,n.getResultPoints(),he.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new V}reset(){this.ean13Reader.reset()}}class qr extends $e{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,o){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=n.getSize();let h=i[1],m=0;for(let v=0;v<6&&h<u;v++){const N=qr.decodeDigit(n,l,h,qr.L_AND_G_PATTERNS);o+=String.fromCharCode(48+N%10);for(let T of l)h+=T;N>=10&&(m|=1<<5-v)}let B=qr.determineNumSysAndCheckDigit(o,m);return{rowOffset:h,resultString:B}}decodeEnd(n,i){return qr.findGuardPatternWithoutCounters(n,i,!0,qr.MIDDLE_END_PATTERN)}checkChecksum(n){return $e.checkChecksum(qr.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let u=String.fromCharCode(48+o),h=String.fromCharCode(48+l);return u+n+h}throw V.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new K;o.append(n.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(l),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(l);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}qr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ri extends _t{constructor(n){super();let i=n==null?null:n.get(D.POSSIBLE_FORMATS),o=[];A(i)?(o.push(new VA),o.push(new nl),o.push(new Al),o.push(new qr)):(i.indexOf(he.EAN_13)>-1&&o.push(new VA),i.indexOf(he.UPC_A)>-1&&o.push(new nl),i.indexOf(he.EAN_8)>-1&&o.push(new Al),i.indexOf(he.UPC_E)>-1&&o.push(new qr)),this.readers=o}decodeRow(n,i,o){for(let l of this.readers)try{const u=l.decodeRow(n,i,o),h=u.getBarcodeFormat()===he.EAN_13&&u.getText().charAt(0)==="0",m=o==null?null:o.get(D.POSSIBLE_FORMATS),B=m==null||m.includes(he.UPC_A);if(h&&B){const v=u.getRawBytes(),N=new ie(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),he.UPC_A);return N.putAllMetadata(u.getResultMetadata()),N}return u}catch{}throw new V}reset(){for(let n of this.readers)n.reset()}}class Zt extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let o=0;o<i.length;o++)if(_t.patternMatchVariance(n,i[o],Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return o;throw new V}static count(n){return He.sum(new Int32Array(n))}static increment(n,i){let o=0,l=i[0];for(let u=1;u<n.length;u++)i[u]>l&&(l=i[u],o=u);n[o]++}static decrement(n,i){let o=0,l=i[0];for(let u=1;u<n.length;u++)i[u]<l&&(l=i[u],o=u);n[o]--}static isFinderPattern(n){let i=n[0]+n[1],o=i+n[2]+n[3],l=i/o;if(l>=Zt.MIN_FINDER_PATTERN_RATIO&&l<=Zt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let m of n)m>h&&(h=m),m<u&&(u=m);return h<10*u}return!1}}Zt.MAX_AVG_VARIANCE=.2,Zt.MAX_INDIVIDUAL_VARIANCE=.45,Zt.MIN_FINDER_PATTERN_RATIO=9.5/12,Zt.MAX_FINDER_PATTERN_RATIO=12.5/14;class _n{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof _n))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ys{constructor(n,i,o,l,u){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Be(o,u)),this.resultPoints.push(new Be(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof ys))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class oA{constructor(){}static getRSSvalue(n,i,o){let l=0;for(let B of n)l+=B;let u=0,h=0,m=n.length;for(let B=0;B<m-1;B++){let v;for(v=1,h|=1<<B;v<n[B];v++,h&=~(1<<B)){let N=oA.combins(l-v-1,m-B-2);if(o&&h===0&&l-v-(m-B-1)>=m-B-1&&(N-=oA.combins(l-v-(m-B),m-B-2)),m-B-1>1){let T=0;for(let R=l-v-(m-B-2);R>i;R--)T+=oA.combins(l-v-R-1,m-B-3);N-=T*(m-1-B)}else l-v>i&&N--;u+=N}l-=v}return u}static combins(n,i){let o,l;n-i>i?(l=i,o=n-i):(l=n-i,o=i);let u=1,h=1;for(let m=n;m>o;m--)u*=m,h<=l&&(u/=h,h++);for(;h<=l;)u/=h,h++;return u}}class sl{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let o=12*i,l=new S(o),u=0,m=n[0].getRightChar().getValue();for(let B=11;B>=0;--B)m&1<<B&&l.set(u),u++;for(let B=1;B<n.length;++B){let v=n[B],N=v.getLeftChar().getValue();for(let T=11;T>=0;--T)N&1<<T&&l.set(u),u++;if(v.getRightChar()!=null){let T=v.getRightChar().getValue();for(let R=11;R>=0;--R)T&1<<R&&l.set(u),u++}}return l}}class Ot{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class lA{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class lr extends lA{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===lr.FNC1}}lr.FNC1="$";class an extends lA{constructor(n,i,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class cA extends lA{constructor(n,i,o){if(super(n),i<0||i>10||o<0||o>10)throw new O;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===cA.FNC1}isSecondDigitFNC1(){return this.secondDigit===cA.FNC1}isAnyFNC1(){return this.firstDigit===cA.FNC1||this.secondDigit===cA.FNC1}}cA.FNC1=10;class Fe{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new V;let i=n.substring(0,2);for(let u of Fe.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(2,u[2],n):Fe.processFixedAI(2,u[1],n);if(n.length<3)throw new V;let o=n.substring(0,3);for(let u of Fe.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(3,u[2],n):Fe.processFixedAI(3,u[1],n);for(let u of Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,u[2],n):Fe.processFixedAI(4,u[1],n);if(n.length<4)throw new V;let l=n.substring(0,4);for(let u of Fe.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,u[2],n):Fe.processFixedAI(4,u[1],n);throw new V}static processFixedAI(n,i,o){if(o.length<n)throw new V;let l=o.substring(0,n);if(o.length<n+i)throw new V;let u=o.substring(n,n+i),h=o.substring(n+i),m="("+l+")"+u,B=Fe.parseFieldsInGeneralPurpose(h);return B==null?m:m+B}static processVariableAI(n,i,o){let l=o.substring(0,n),u;o.length<n+i?u=o.length:u=n+i;let h=o.substring(n,u),m=o.substring(u),B="("+l+")"+h,v=Fe.parseFieldsInGeneralPurpose(m);return v==null?B:B+v}}Fe.VARIABLE_LENGTH=[],Fe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Fe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Fe.VARIABLE_LENGTH,20],["22",Fe.VARIABLE_LENGTH,29],["30",Fe.VARIABLE_LENGTH,8],["37",Fe.VARIABLE_LENGTH,8],["90",Fe.VARIABLE_LENGTH,30],["91",Fe.VARIABLE_LENGTH,30],["92",Fe.VARIABLE_LENGTH,30],["93",Fe.VARIABLE_LENGTH,30],["94",Fe.VARIABLE_LENGTH,30],["95",Fe.VARIABLE_LENGTH,30],["96",Fe.VARIABLE_LENGTH,30],["97",Fe.VARIABLE_LENGTH,3],["98",Fe.VARIABLE_LENGTH,30],["99",Fe.VARIABLE_LENGTH,30]],Fe.THREE_DIGIT_DATA_LENGTH=[["240",Fe.VARIABLE_LENGTH,30],["241",Fe.VARIABLE_LENGTH,30],["242",Fe.VARIABLE_LENGTH,6],["250",Fe.VARIABLE_LENGTH,30],["251",Fe.VARIABLE_LENGTH,30],["253",Fe.VARIABLE_LENGTH,17],["254",Fe.VARIABLE_LENGTH,20],["400",Fe.VARIABLE_LENGTH,30],["401",Fe.VARIABLE_LENGTH,30],["402",17],["403",Fe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Fe.VARIABLE_LENGTH,20],["421",Fe.VARIABLE_LENGTH,15],["422",3],["423",Fe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Fe.VARIABLE_LENGTH,15],["391",Fe.VARIABLE_LENGTH,18],["392",Fe.VARIABLE_LENGTH,15],["393",Fe.VARIABLE_LENGTH,18],["703",Fe.VARIABLE_LENGTH,30]],Fe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Fe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Fe.VARIABLE_LENGTH,20],["8003",Fe.VARIABLE_LENGTH,30],["8004",Fe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Fe.VARIABLE_LENGTH,30],["8008",Fe.VARIABLE_LENGTH,12],["8018",18],["8020",Fe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Fe.VARIABLE_LENGTH,70],["8200",Fe.VARIABLE_LENGTH,70]];class Ai{constructor(n){this.buffer=new K,this.information=n}decodeAllCodes(n,i){let o=i,l=null;do{let u=this.decodeGeneralPurposeField(o,l),h=Fe.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&n.append(h),u.isRemaining()?l=""+u.getRemainingValue():l=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new cA(this.information.getSize(),cA.FNC1,cA.FNC1):new cA(this.information.getSize(),u-1,cA.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),o=(i-8)/11,l=(i-8)%11;return new cA(n+7,o,l)}extractNumericValueFromBitArray(n,i){return Ai.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,o){let l=0;for(let u=0;u<o;++u)n.get(i+u)&&(l|=1<<o-u-1);return l}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new an(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new an(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new an(this.current.getPosition(),this.buffer.toString()):i=new an(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Ot(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new an(this.current.getPosition(),this.buffer.toString());return new Ot(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ot(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new an(this.current.getPosition(),this.buffer.toString());return new Ot(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ot(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new an(this.current.getPosition(),this.buffer.toString());return new Ot(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ot(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,8);return l>=232&&l<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new lr(n+5,lr.FNC1);if(i>=5&&i<15)return new lr(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new lr(n+7,""+(o+1));if(o>=90&&o<116)return new lr(n+7,""+(o+7));let l=this.extractNumericValueFromBitArray(n,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new O}return new lr(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new lr(n+5,lr.FNC1);if(i>=5&&i<15)return new lr(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new lr(n+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new nt("Decoding invalid alphanumeric value: "+o)}return new lr(n+6,l)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class $0{constructor(n){this.information=n,this.generalDecoder=new Ai(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Or extends $0{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,o)}encodeCompressedGtinWithoutAI(n,i,o){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}Or.appendCheckDigit(n,o)}static appendCheckDigit(n,i){let o=0;for(let l=0;l<13;l++){let u=n.charAt(l+i).charCodeAt(0)-48;o+=l&1?u:3*u}o=10-o%10,o===10&&(o=0),n.append(o)}}Or.GTIN_SIZE=40;class ni extends Or{constructor(n){super(n)}parseInformation(){let n=new K;n.append("(01)");let i=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(ni.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,ni.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,ni.HEADER_SIZE+44)}}ni.HEADER_SIZE=4;class il extends $0{constructor(n){super(n)}parseInformation(){let n=new K;return this.getGeneralDecoder().decodeAllCodes(n,il.HEADER_SIZE)}}il.HEADER_SIZE=5;class al extends Or{constructor(n){super(n)}encodeCompressedWeight(n,i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(n,l);let u=this.checkWeight(l),h=1e5;for(let m=0;m<5;++m)u/h===0&&n.append("0"),h/=10;n.append(u)}}class GA extends al{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=GA.HEADER_SIZE+al.GTIN_SIZE+GA.WEIGHT_SIZE)throw new V;let n=new K;return this.encodeCompressedGtin(n,GA.HEADER_SIZE),this.encodeCompressedWeight(n,GA.HEADER_SIZE+al.GTIN_SIZE,GA.WEIGHT_SIZE),n.toString()}}GA.HEADER_SIZE=5,GA.WEIGHT_SIZE=15;class Cv extends GA{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class Ev extends GA{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class zA extends Or{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<zA.HEADER_SIZE+Or.GTIN_SIZE)throw new V;let n=new K;this.encodeCompressedGtin(n,zA.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(zA.HEADER_SIZE+Or.GTIN_SIZE,zA.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(zA.HEADER_SIZE+Or.GTIN_SIZE+zA.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}zA.HEADER_SIZE=8,zA.LAST_DIGIT_SIZE=2;class _r extends Or{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<_r.HEADER_SIZE+Or.GTIN_SIZE)throw new V;let n=new K;this.encodeCompressedGtin(n,_r.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(_r.HEADER_SIZE+Or.GTIN_SIZE,_r.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(_r.HEADER_SIZE+Or.GTIN_SIZE+_r.LAST_DIGIT_SIZE,_r.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(_r.HEADER_SIZE+Or.GTIN_SIZE+_r.LAST_DIGIT_SIZE+_r.FIRST_THREE_DIGITS_SIZE,null);return n.append(l.getNewString()),n.toString()}}_r.HEADER_SIZE=8,_r.LAST_DIGIT_SIZE=2,_r.FIRST_THREE_DIGITS_SIZE=10;class yt extends al{constructor(n,i,o){super(n),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=yt.HEADER_SIZE+yt.GTIN_SIZE+yt.WEIGHT_SIZE+yt.DATE_SIZE)throw new V;let n=new K;return this.encodeCompressedGtin(n,yt.HEADER_SIZE),this.encodeCompressedWeight(n,yt.HEADER_SIZE+yt.GTIN_SIZE,yt.WEIGHT_SIZE),this.encodeCompressedDate(n,yt.HEADER_SIZE+yt.GTIN_SIZE+yt.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,yt.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let l=o%32;o/=32;let u=o%12+1;o/=12;let h=o;h/10==0&&n.append("0"),n.append(h),u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}yt.HEADER_SIZE=8,yt.WEIGHT_SIZE=20,yt.DATE_SIZE=16;function Ag(Q){try{if(Q.get(1))return new ni(Q);if(!Q.get(2))return new il(Q);switch(Ai.extractNumericValueFromBitArray(Q,1,4)){case 4:return new Cv(Q);case 5:return new Ev(Q)}switch(Ai.extractNumericValueFromBitArray(Q,1,5)){case 12:return new zA(Q);case 13:return new _r(Q)}switch(Ai.extractNumericValueFromBitArray(Q,1,7)){case 56:return new yt(Q,"310","11");case 57:return new yt(Q,"320","11");case 58:return new yt(Q,"310","13");case 59:return new yt(Q,"320","13");case 60:return new yt(Q,"310","15");case 61:return new yt(Q,"320","15");case 62:return new yt(Q,"310","17");case 63:return new yt(Q,"320","17")}}catch(n){throw console.log(n),new nt("unknown decoder: "+Q)}}class Nn{constructor(n,i,o,l){this.leftchar=n,this.rightchar=i,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof Nn?Nn.equalsOrNull(n.leftchar,i.leftchar)&&Nn.equalsOrNull(n.rightchar,i.rightchar)&&Nn.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:Nn.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Z0{constructor(n,i,o){this.pairs=n,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Z0?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let o;return n.forEach((l,u)=>{i.forEach(h=>{l.getLeftChar().getValue()===h.getLeftChar().getValue()&&l.getRightChar().getValue()===h.getRightChar().getValue()&&l.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(o=!0)})}),o}}class ue extends Zt{constructor(n){super(...arguments),this.pairs=new Array(ue.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,o){this.pairs.length=0,this.startFromEven=!1;try{return ue.constructResult(this.decodeRow2pairs(n,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ue.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(u){if(u instanceof V){if(!this.pairs.length)throw new V;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(n,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new V}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let o=i;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let h of n)this.pairs.push(h.getPairs());if(this.pairs.push(l.getPairs()),!ue.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(l);try{return this.checkRows(u,o+1)}catch(h){this.verbose&&console.log(h)}}throw new V}static isValidSequence(n){for(let i of ue.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let o=!0;for(let l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!=i[l]){o=!1;break}if(o)return!0}return!1}storeRow(n,i){let o=0,l=!1,u=!1;for(;o<this.rows.length;){let h=this.rows[o];if(h.getRowNumber()>n){u=h.isEquivalent(this.pairs);break}l=h.isEquivalent(this.pairs),o++}u||l||ue.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Z0(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let o of i)if(o.getPairs().length!==n.length){for(let l of o.getPairs())for(let u of n)if(Nn.equals(l,u))break}}static isPartialRow(n,i){for(let o of i){let l=!0;for(let u of n){let h=!1;for(let m of o.getPairs())if(u.equals(m)){h=!0;break}if(!h){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=sl.buildBitArray(n),l=Ag(i).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),h=n[n.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],h[0],h[1]];return new ie(l,null,null,m,he.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let B=this.pairs.get(m);l+=B.getLeftChar().getChecksumPortion(),u++;let v=B.getRightChar();v!=null&&(l+=v.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(n,i){let o;return n.get(i)?(o=n.getNextUnset(i),o=n.getNextSet(o)):(o=n.getNextSet(i),o=n.getNextUnset(o)),o}retrieveNextPair(n,i,o){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,h=!0,m=-1;do this.findNextPair(n,i,m),u=this.parseFoundFinderPattern(n,o,l),u==null?m=ue.getNextSecondBar(n,this.startEnd[0]):h=!1;while(h);let B=this.decodeDataCharacter(n,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new V;let v;try{v=this.decodeDataCharacter(n,u,l,!1)}catch(N){v=null,this.verbose&&console.log(N)}return new Nn(B,v,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h;o>=0?h=o:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let m=i.length%2!=0;this.startFromEven&&(m=!m);let B=!1;for(;h<u&&(B=!n.get(h),!!B);)h++;let v=0,N=h;for(let T=h;T<u;T++)if(n.get(T)!=B)l[v]++;else{if(v==3){if(m&&ue.reverseCounters(l),ue.isFinderPattern(l)){this.startEnd[0]=N,this.startEnd[1]=T;return}m&&ue.reverseCounters(l),N+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,B=!B}throw new V}static reverseCounters(n){let i=n.length;for(let o=0;o<i/2;++o){let l=n[o];n[o]=n[i-o-1],n[i-o-1]=l}}parseFoundFinderPattern(n,i,o){let l,u,h;if(o){let v=this.startEnd[0]-1;for(;v>=0&&!n.get(v);)v--;v++,l=this.startEnd[0]-v,u=v,h=this.startEnd[1]}else u=this.startEnd[0],h=n.getNextUnset(this.startEnd[1]+1),l=h-this.startEnd[1];let m=this.getDecodeFinderCounters();I.arraycopy(m,0,m,1,m.length-1),m[0]=l;let B;try{B=this.parseFinderValue(m,ue.FINDER_PATTERNS)}catch{return null}return new ys(B,[u,h],u,h,i)}decodeDataCharacter(n,i,o,l){let u=this.getDataCharacterCounters();for(let ct=0;ct<u.length;ct++)u[ct]=0;if(l)ue.recordPatternInReverse(n,i.getStartEnd()[0],u);else{ue.recordPattern(n,i.getStartEnd()[1],u);for(let ct=0,dr=u.length-1;ct<dr;ct++,dr--){let $r=u[ct];u[ct]=u[dr],u[dr]=$r}}let h=17,m=He.sum(new Int32Array(u))/h,B=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(m-B)/B>.3)throw new V;let v=this.getOddCounts(),N=this.getEvenCounts(),T=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let ct=0;ct<u.length;ct++){let dr=1*u[ct]/m,$r=dr+.5;if($r<1){if(dr<.3)throw new V;$r=1}else if($r>8){if(dr>8.7)throw new V;$r=8}let li=ct/2;ct&1?(N[li]=$r,R[li]=dr-$r):(v[li]=$r,T[li]=dr-$r)}this.adjustOddEvenCounts(h);let j=4*i.getValue()+(o?0:2)+(l?0:1)-1,W=0,X=0;for(let ct=v.length-1;ct>=0;ct--){if(ue.isNotA1left(i,o,l)){let dr=ue.WEIGHTS[j][2*ct];X+=v[ct]*dr}W+=v[ct]}let $=0;for(let ct=N.length-1;ct>=0;ct--)if(ue.isNotA1left(i,o,l)){let dr=ue.WEIGHTS[j][2*ct+1];$+=N[ct]*dr}let se=X+$;if(W&1||W>13||W<4)throw new V;let xe=(13-W)/2,pe=ue.SYMBOL_WIDEST[xe],de=9-pe,Ve=oA.getRSSvalue(v,pe,!0),ke=oA.getRSSvalue(N,de,!1),Lr=ue.EVEN_TOTAL_SUBSET[xe],NA=ue.GSUM[xe],jr=Ve*Lr+ke+NA;return new _n(jr,se)}static isNotA1left(n,i,o){return!(n.getValue()==0&&i&&o)}adjustOddEvenCounts(n){let i=He.sum(new Int32Array(this.getOddCounts())),o=He.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let h=!1,m=!1;o>13?m=!0:o<4&&(h=!0);let B=i+o-n,v=(i&1)==1,N=(o&1)==0;if(B==1)if(v){if(N)throw new V;u=!0}else{if(!N)throw new V;m=!0}else if(B==-1)if(v){if(N)throw new V;l=!0}else{if(!N)throw new V;h=!0}else if(B==0){if(v){if(!N)throw new V;i<o?(l=!0,m=!0):(u=!0,h=!0)}else if(N)throw new V}else throw new V;if(l){if(u)throw new V;ue.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ue.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new V;ue.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&ue.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ue.SYMBOL_WIDEST=[7,5,4,3,1],ue.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ue.GSUM=[0,348,1388,2948,3988],ue.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ue.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ue.FINDER_PAT_A=0,ue.FINDER_PAT_B=1,ue.FINDER_PAT_C=2,ue.FINDER_PAT_D=3,ue.FINDER_PAT_E=4,ue.FINDER_PAT_F=5,ue.FINDER_PATTERN_SEQUENCES=[[ue.FINDER_PAT_A,ue.FINDER_PAT_A],[ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B],[ue.FINDER_PAT_A,ue.FINDER_PAT_C,ue.FINDER_PAT_B,ue.FINDER_PAT_D],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_C],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_D,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_D],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_E],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F]],ue.MAX_PAIRS=11;class bv extends _n{constructor(n,i,o){super(n,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class St extends Zt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,o){const l=this.decodePair(i,!1,n,o);St.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,n,o);St.addOrTally(this.possibleRightPairs,u),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&St.checkChecksum(h,m))return St.constructResult(h,m)}throw new V}static addOrTally(n,i){if(i==null)return;let o=!1;for(let l of n)if(l.getValue()===i.getValue()){l.incrementCount(),o=!0;break}o||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let o=4537077*n.getValue()+i.getValue(),l=new String(o).toString(),u=new K;for(let v=13-l.length;v>0;v--)u.append("0");u.append(l);let h=0;for(let v=0;v<13;v++){let N=u.charAt(v).charCodeAt(0)-48;h+=v&1?N:3*N}h=10-h%10,h===10&&(h=0),u.append(h.toString());let m=n.getFinderPattern().getResultPoints(),B=i.getFinderPattern().getResultPoints();return new ie(u.toString(),null,0,[m[0],m[1],B[0],B[1]],he.RSS_14,new Date().getTime())}static checkChecksum(n,i){let o=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(n,i,o,l){try{let u=this.findFinderPattern(n,i),h=this.parseFoundFinderPattern(n,o,i,u),m=l==null?null:l.get(D.NEED_RESULT_POINT_CALLBACK);if(m!=null){let N=(u[0]+u[1])/2;i&&(N=n.getSize()-1-N),m.foundPossibleResultPoint(new Be(N,o))}let B=this.decodeDataCharacter(n,h,!0),v=this.decodeDataCharacter(n,h,!1);return new bv(1597*B.getValue()+v.getValue(),B.getChecksumPortion()+4*v.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(n,i,o){let l=this.getDataCharacterCounters();for(let $=0;$<l.length;$++)l[$]=0;if(o)_t.recordPatternInReverse(n,i.getStartEnd()[0],l);else{_t.recordPattern(n,i.getStartEnd()[1]+1,l);for(let $=0,se=l.length-1;$<se;$++,se--){let xe=l[$];l[$]=l[se],l[se]=xe}}let u=o?16:15,h=He.sum(new Int32Array(l))/u,m=this.getOddCounts(),B=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let $=0;$<l.length;$++){let se=l[$]/h,xe=Math.floor(se+.5);xe<1?xe=1:xe>8&&(xe=8);let pe=Math.floor($/2);$&1?(B[pe]=xe,N[pe]=se-xe):(m[pe]=xe,v[pe]=se-xe)}this.adjustOddEvenCounts(o,u);let T=0,R=0;for(let $=m.length-1;$>=0;$--)R*=9,R+=m[$],T+=m[$];let j=0,W=0;for(let $=B.length-1;$>=0;$--)j*=9,j+=B[$],W+=B[$];let X=R+3*j;if(o){if(T&1||T>12||T<4)throw new V;let $=(12-T)/2,se=St.OUTSIDE_ODD_WIDEST[$],xe=9-se,pe=oA.getRSSvalue(m,se,!1),de=oA.getRSSvalue(B,xe,!0),Ve=St.OUTSIDE_EVEN_TOTAL_SUBSET[$],ke=St.OUTSIDE_GSUM[$];return new _n(pe*Ve+de+ke,X)}else{if(W&1||W>10||W<4)throw new V;let $=(10-W)/2,se=St.INSIDE_ODD_WIDEST[$],xe=9-se,pe=oA.getRSSvalue(m,se,!0),de=oA.getRSSvalue(B,xe,!1),Ve=St.INSIDE_ODD_TOTAL_SUBSET[$],ke=St.INSIDE_GSUM[$];return new _n(de*Ve+pe+ke,X)}}findFinderPattern(n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),u=!1,h=0;for(;h<l&&(u=!n.get(h),i!==u);)h++;let m=0,B=h;for(let v=h;v<l;v++)if(n.get(v)!==u)o[m]++;else{if(m===3){if(Zt.isFinderPattern(o))return[B,v];B+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,m--}else m++;o[m]=1,u=!u}throw new V}parseFoundFinderPattern(n,i,o,l){let u=n.get(l[0]),h=l[0]-1;for(;h>=0&&u!==n.get(h);)h--;h++;const m=l[0]-h,B=this.getDecodeFinderCounters(),v=new Int32Array(B.length);I.arraycopy(B,0,v,1,B.length-1),v[0]=m;const N=this.parseFinderValue(v,St.FINDER_PATTERNS);let T=h,R=l[1];return o&&(T=n.getSize()-1-T,R=n.getSize()-1-R),new ys(N,[h,l[1]],T,R,i)}adjustOddEvenCounts(n,i){let o=He.sum(new Int32Array(this.getOddCounts())),l=He.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,m=!1,B=!1;n?(o>12?h=!0:o<4&&(u=!0),l>12?B=!0:l<4&&(m=!0)):(o>11?h=!0:o<5&&(u=!0),l>10?B=!0:l<4&&(m=!0));let v=o+l-i,N=(o&1)===(n?1:0),T=(l&1)===1;if(v===1)if(N){if(T)throw new V;h=!0}else{if(!T)throw new V;B=!0}else if(v===-1)if(N){if(T)throw new V;u=!0}else{if(!T)throw new V;m=!0}else if(v===0){if(N){if(!T)throw new V;o<l?(u=!0,B=!0):(h=!0,m=!0)}else if(T)throw new V}else throw new V;if(u){if(h)throw new V;Zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(B)throw new V;Zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}B&&Zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}St.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],St.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],St.OUTSIDE_GSUM=[0,161,961,2015,2715],St.INSIDE_GSUM=[0,336,1036,1516],St.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],St.INSIDE_ODD_WIDEST=[2,4,6,8],St.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class si extends _t{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const o=n?n.get(D.POSSIBLE_FORMATS):null,l=n&&n.get(D.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(he.EAN_13)||o.includes(he.UPC_A)||o.includes(he.EAN_8)||o.includes(he.UPC_E))&&this.readers.push(new ri(n)),o.includes(he.CODE_39)&&this.readers.push(new Nt(l)),o.includes(he.CODE_128)&&this.readers.push(new me),o.includes(he.ITF)&&this.readers.push(new st),o.includes(he.RSS_14)&&this.readers.push(new St),o.includes(he.RSS_EXPANDED)&&this.readers.push(new ue(this.verbose))):(this.readers.push(new ri(n)),this.readers.push(new Nt),this.readers.push(new ri(n)),this.readers.push(new me),this.readers.push(new st),this.readers.push(new St),this.readers.push(new ue(this.verbose)))}decodeRow(n,i,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(n,i,o)}catch{}throw new V}reset(){this.readers.forEach(n=>n.reset())}}class Fv extends oe{constructor(n=500,i){super(new si(i),n,i)}}class rt{constructor(n,i,o){this.ecCodewords=n,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class tt{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xe{constructor(n,i,o,l,u,h){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=h;let m=0;const B=h.getECCodewords(),v=h.getECBlocks();for(let N of v)m+=N.getCount()*(N.getDataCodewords()+B);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new O;for(let o of Xe.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===i)return o;throw new O}toString(){return""+this.versionNumber}static buildVersions(){return[new Xe(1,10,10,8,8,new rt(5,new tt(1,3))),new Xe(2,12,12,10,10,new rt(7,new tt(1,5))),new Xe(3,14,14,12,12,new rt(10,new tt(1,8))),new Xe(4,16,16,14,14,new rt(12,new tt(1,12))),new Xe(5,18,18,16,16,new rt(14,new tt(1,18))),new Xe(6,20,20,18,18,new rt(18,new tt(1,22))),new Xe(7,22,22,20,20,new rt(20,new tt(1,30))),new Xe(8,24,24,22,22,new rt(24,new tt(1,36))),new Xe(9,26,26,24,24,new rt(28,new tt(1,44))),new Xe(10,32,32,14,14,new rt(36,new tt(1,62))),new Xe(11,36,36,16,16,new rt(42,new tt(1,86))),new Xe(12,40,40,18,18,new rt(48,new tt(1,114))),new Xe(13,44,44,20,20,new rt(56,new tt(1,144))),new Xe(14,48,48,22,22,new rt(68,new tt(1,174))),new Xe(15,52,52,24,24,new rt(42,new tt(2,102))),new Xe(16,64,64,14,14,new rt(56,new tt(2,140))),new Xe(17,72,72,16,16,new rt(36,new tt(4,92))),new Xe(18,80,80,18,18,new rt(48,new tt(4,114))),new Xe(19,88,88,20,20,new rt(56,new tt(4,144))),new Xe(20,96,96,22,22,new rt(68,new tt(4,174))),new Xe(21,104,104,24,24,new rt(56,new tt(6,136))),new Xe(22,120,120,18,18,new rt(68,new tt(6,175))),new Xe(23,132,132,20,20,new rt(62,new tt(8,163))),new Xe(24,144,144,22,22,new rt(62,new tt(8,156),new tt(2,155))),new Xe(25,8,18,6,16,new rt(7,new tt(1,5))),new Xe(26,8,32,6,14,new rt(11,new tt(1,10))),new Xe(27,12,26,10,24,new rt(14,new tt(1,16))),new Xe(28,12,36,10,16,new rt(18,new tt(1,22))),new Xe(29,16,36,14,16,new rt(24,new tt(1,32))),new Xe(30,16,48,14,22,new rt(28,new tt(1,49)))]}}Xe.VERSIONS=Xe.buildVersions();class J0{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new O;this.version=J0.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new q(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),o=n.getWidth();return Xe.getVersionForDimensions(i,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,l=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let m=!1,B=!1,v=!1,N=!1;do if(o===u&&l===0&&!m)n[i++]=this.readCorner1(u,h)&255,o-=2,l+=2,m=!0;else if(o===u-2&&l===0&&h&3&&!B)n[i++]=this.readCorner2(u,h)&255,o-=2,l+=2,B=!0;else if(o===u+4&&l===2&&!(h&7)&&!v)n[i++]=this.readCorner3(u,h)&255,o-=2,l+=2,v=!0;else if(o===u-2&&l===0&&(h&7)===4&&!N)n[i++]=this.readCorner4(u,h)&255,o-=2,l+=2,N=!0;else{do o<u&&l>=0&&!this.readMappingMatrix.get(l,o)&&(n[i++]=this.readUtah(o,l,u,h)&255),o-=2,l+=2;while(o>=0&&l<h);o+=1,l+=3;do o>=0&&l<h&&!this.readMappingMatrix.get(l,o)&&(n[i++]=this.readUtah(o,l,u,h)&255),o+=2,l-=2;while(o<u&&l>=0);o+=3,l+=1}while(o<u||l<h);if(i!==this.version.getTotalCodewords())throw new O;return n}readModule(n,i,o,l){return n<0&&(n+=o,i+=4-(o+4&7)),i<0&&(i+=l,n+=4-(l+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,o,l){let u=0;return this.readModule(n-2,i-2,o,l)&&(u|=1),u<<=1,this.readModule(n-2,i-1,o,l)&&(u|=1),u<<=1,this.readModule(n-1,i-2,o,l)&&(u|=1),u<<=1,this.readModule(n-1,i-1,o,l)&&(u|=1),u<<=1,this.readModule(n-1,i,o,l)&&(u|=1),u<<=1,this.readModule(n,i-2,o,l)&&(u|=1),u<<=1,this.readModule(n,i-1,o,l)&&(u|=1),u<<=1,this.readModule(n,i,o,l)&&(u|=1),u}readCorner1(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,1,n,i)&&(o|=1),o<<=1,this.readModule(n-1,2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}readCorner2(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-4,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner3(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-3,n,i)&&(o|=1),o<<=1,this.readModule(1,i-2,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner4(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new w("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=i/l|0,m=o/u|0,B=h*l,v=m*u,N=new q(v,B);for(let T=0;T<h;++T){const R=T*l;for(let j=0;j<m;++j){const W=j*u;for(let X=0;X<l;++X){const $=T*(l+2)+1+X,se=R+X;for(let xe=0;xe<u;++xe){const pe=j*(u+2)+1+xe;if(n.get(pe,$)){const de=W+xe;N.set(de,se)}}}}}return N}}class eu{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const o=i.getECBlocks();let l=0;const u=o.getECBlocks();for(let X of u)l+=X.getCount();const h=new Array(l);let m=0;for(let X of u)for(let $=0;$<X.getCount();$++){const se=X.getDataCodewords(),xe=o.getECCodewords()+se;h[m++]=new eu(se,new Uint8Array(xe))}const v=h[0].codewords.length-o.getECCodewords(),N=v-1;let T=0;for(let X=0;X<N;X++)for(let $=0;$<m;$++)h[$].codewords[X]=n[T++];const R=i.getVersionNumber()===24,j=R?8:m;for(let X=0;X<j;X++)h[X].codewords[v-1]=n[T++];const W=h[0].codewords.length;for(let X=v;X<W;X++)for(let $=0;$<m;$++){const se=R?($+8)%m:$,xe=R&&se>7?X-1:X;h[se].codewords[xe]=n[T++]}if(T!==n.length)throw new w;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class tu{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new w(""+n);let i=0,o=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(o>0){const h=8-o,m=n<h?n:h,B=h-m,v=255>>8-m<<B;i=(u[l]&v)>>B,n-=m,o+=m,o===8&&(o=0,l++)}if(n>0){for(;n>=8;)i=i<<8|u[l]&255,l++,n-=8;if(n>0){const h=8-n,m=255>>h<<h;i=i<<n|(u[l]&m)>>h,o+=n}}return this.bitOffset=o,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Gt;(function(Q){Q[Q.PAD_ENCODE=0]="PAD_ENCODE",Q[Q.ASCII_ENCODE=1]="ASCII_ENCODE",Q[Q.C40_ENCODE=2]="C40_ENCODE",Q[Q.TEXT_ENCODE=3]="TEXT_ENCODE",Q[Q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Q[Q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Q[Q.BASE256_ENCODE=6]="BASE256_ENCODE"})(Gt||(Gt={}));class Sn{static decode(n){const i=new tu(n),o=new K,l=new K,u=new Array;let h=Gt.ASCII_ENCODE;do if(h===Gt.ASCII_ENCODE)h=this.decodeAsciiSegment(i,o,l);else{switch(h){case Gt.C40_ENCODE:this.decodeC40Segment(i,o);break;case Gt.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case Gt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case Gt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case Gt.BASE256_ENCODE:this.decodeBase256Segment(i,o,u);break;default:throw new O}h=Gt.ASCII_ENCODE}while(h!==Gt.PAD_ENCODE&&i.available()>0);return l.length()>0&&o.append(l.toString()),new Yr(n,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,i,o){let l=!1;do{let u=n.readBits(8);if(u===0)throw new O;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),Gt.ASCII_ENCODE;if(u===129)return Gt.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&i.append("0"),i.append(""+h)}else switch(u){case 230:return Gt.C40_ENCODE;case 231:return Gt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return Gt.ANSIX12_ENCODE;case 239:return Gt.TEXT_ENCODE;case 240:return Gt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new O;break}}while(n.available()>0);return Gt.ASCII_ENCODE}static decodeC40Segment(n,i){let o=!1;const l=[];let u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),l);for(let m=0;m<3;m++){const B=l[m];switch(u){case 0:if(B<3)u=B+1;else if(B<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[B];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v)}else throw new O;break;case 1:o?(i.append(String.fromCharCode(B+128)),o=!1):i.append(String.fromCharCode(B)),u=0;break;case 2:if(B<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[B];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v)}else switch(B){case 27:i.append("");break;case 30:o=!0;break;default:throw new O}u=0;break;case 3:o?(i.append(String.fromCharCode(B+224)),o=!1):i.append(String.fromCharCode(B+96)),u=0;break;default:throw new O}}}while(n.available()>0)}static decodeTextSegment(n,i){let o=!1,l=[],u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),l);for(let m=0;m<3;m++){const B=l[m];switch(u){case 0:if(B<3)u=B+1;else if(B<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[B];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v)}else throw new O;break;case 1:o?(i.append(String.fromCharCode(B+128)),o=!1):i.append(String.fromCharCode(B)),u=0;break;case 2:if(B<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[B];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v)}else switch(B){case 27:i.append("");break;case 30:o=!0;break;default:throw new O}u=0;break;case 3:if(B<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[B];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v),u=0}else throw new O;break;default:throw new O}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const o=[];do{if(n.available()===8)return;const l=n.readBits(8);if(l===254)return;this.parseTwoBytes(l,n.readBits(8),o);for(let u=0;u<3;u++){const h=o[u];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new O;break}}}while(n.available()>0)}static parseTwoBytes(n,i,o){let l=(n<<8)+i-1,u=Math.floor(l/1600);o[0]=u,l-=u*1600,u=Math.floor(l/40),o[1]=u,o[2]=l-u*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let l=n.readBits(6);if(l===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(n.available()>0)}static decodeBase256Segment(n,i,o){let l=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),l++);let h;if(u===0?h=n.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(n.readBits(8),l++),h<0)throw new O;const m=new Uint8Array(h);for(let B=0;B<h;B++){if(n.available()<8)throw new O;m[B]=this.unrandomize255State(n.readBits(8),l++)}o.push(m);try{i.append(z.decode(m,Y.ISO88591))}catch(B){throw new nt("Platform does not support required encoding: "+B.message)}}static unrandomize255State(n,i){const o=149*i%255+1,l=n-o;return l>=0?l:l+256}}Sn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Sn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Sn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Sn.TEXT_SHIFT2_SET_CHARS=Sn.C40_SHIFT2_SET_CHARS,Sn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Iv{constructor(){this.rsDecoder=new Tr(ve.DATA_MATRIX_FIELD_256)}decode(n){const i=new J0(n),o=i.getVersion(),l=i.readCodewords(),u=eu.getDataBlocks(l,o);let h=0;for(let v of u)h+=v.getNumDataCodewords();const m=new Uint8Array(h),B=u.length;for(let v=0;v<B;v++){const N=u[v],T=N.getCodewords(),R=N.getNumDataCodewords();this.correctErrors(T,R);for(let j=0;j<R;j++)m[j*B+v]=T[j]}return Sn.decode(m)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new E}for(let l=0;l<i;l++)n[l]=o[l]}}class kt{constructor(n){this.image=n,this.rectangleDetector=new Rr(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new V;i=this.shiftToModuleCenter(i);const o=i[0],l=i[1],u=i[2],h=i[3];let m=this.transitionsBetween(o,h)+1,B=this.transitionsBetween(u,h)+1;(m&1)===1&&(m+=1),(B&1)===1&&(B+=1),4*m<7*B&&4*B<7*m&&(m=B=Math.max(m,B));let v=kt.sampleGrid(this.image,o,l,u,h,m,B);return new or(v,[o,l,u,h])}static shiftPoint(n,i,o){let l=(i.getX()-n.getX())/(o+1),u=(i.getY()-n.getY())/(o+1);return new Be(n.getX()+l,n.getY()+u)}static moveAway(n,i,o){let l=n.getX(),u=n.getY();return l<i?l-=1:l+=1,u<o?u-=1:u+=1,new Be(l,u)}detectSolid1(n){let i=n[0],o=n[1],l=n[3],u=n[2],h=this.transitionsBetween(i,o),m=this.transitionsBetween(o,l),B=this.transitionsBetween(l,u),v=this.transitionsBetween(u,i),N=h,T=[u,i,o,l];return N>m&&(N=m,T[0]=i,T[1]=o,T[2]=l,T[3]=u),N>B&&(N=B,T[0]=o,T[1]=l,T[2]=u,T[3]=i),N>v&&(T[0]=l,T[1]=u,T[2]=i,T[3]=o),T}detectSolid2(n){let i=n[0],o=n[1],l=n[2],u=n[3],h=this.transitionsBetween(i,u),m=kt.shiftPoint(o,l,(h+1)*4),B=kt.shiftPoint(l,o,(h+1)*4),v=this.transitionsBetween(m,i),N=this.transitionsBetween(B,u);return v<N?(n[0]=i,n[1]=o,n[2]=l,n[3]=u):(n[0]=o,n[1]=l,n[2]=u,n[3]=i),n}correctTopRight(n){let i=n[0],o=n[1],l=n[2],u=n[3],h=this.transitionsBetween(i,u),m=this.transitionsBetween(o,u),B=kt.shiftPoint(i,o,(m+1)*4),v=kt.shiftPoint(l,o,(h+1)*4);h=this.transitionsBetween(B,u),m=this.transitionsBetween(v,u);let N=new Be(u.getX()+(l.getX()-o.getX())/(h+1),u.getY()+(l.getY()-o.getY())/(h+1)),T=new Be(u.getX()+(i.getX()-o.getX())/(m+1),u.getY()+(i.getY()-o.getY())/(m+1));if(!this.isValid(N))return this.isValid(T)?T:null;if(!this.isValid(T))return N;let R=this.transitionsBetween(B,N)+this.transitionsBetween(v,N),j=this.transitionsBetween(B,T)+this.transitionsBetween(v,T);return R>j?N:T}shiftToModuleCenter(n){let i=n[0],o=n[1],l=n[2],u=n[3],h=this.transitionsBetween(i,u)+1,m=this.transitionsBetween(l,u)+1,B=kt.shiftPoint(i,o,m*4),v=kt.shiftPoint(l,o,h*4);h=this.transitionsBetween(B,u)+1,m=this.transitionsBetween(v,u)+1,(h&1)===1&&(h+=1),(m&1)===1&&(m+=1);let N=(i.getX()+o.getX()+l.getX()+u.getX())/4,T=(i.getY()+o.getY()+l.getY()+u.getY())/4;i=kt.moveAway(i,N,T),o=kt.moveAway(o,N,T),l=kt.moveAway(l,N,T),u=kt.moveAway(u,N,T);let R,j;return B=kt.shiftPoint(i,o,m*4),B=kt.shiftPoint(B,u,h*4),R=kt.shiftPoint(o,i,m*4),R=kt.shiftPoint(R,l,h*4),v=kt.shiftPoint(l,u,m*4),v=kt.shiftPoint(v,o,h*4),j=kt.shiftPoint(u,l,m*4),j=kt.shiftPoint(j,i,h*4),[B,R,v,j]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,o,l,u,h,m){return KA.getInstance().sampleGrid(n,h,m,.5,.5,h-.5,.5,h-.5,m-.5,.5,m-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(n,i){let o=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),m=Math.abs(h-l)>Math.abs(u-o);if(m){let X=o;o=l,l=X,X=u,u=h,h=X}let B=Math.abs(u-o),v=Math.abs(h-l),N=-B/2,T=l<h?1:-1,R=o<u?1:-1,j=0,W=this.image.get(m?l:o,m?o:l);for(let X=o,$=l;X!==u;X+=R){let se=this.image.get(m?$:X,m?X:$);if(se!==W&&(j++,W=se),N+=v,N>0){if($===h)break;$+=T,N-=B}}return j}}class Un{constructor(){this.decoder=new Iv}decode(n,i=null){let o,l;if(i!=null&&i.has(D.PURE_BARCODE)){const v=Un.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(v),l=Un.NO_POINTS}else{const v=new kt(n.getBlackMatrix()).detect();o=this.decoder.decode(v.getBits()),l=v.getPoints()}const u=o.getRawBytes(),h=new ie(o.getText(),u,8*u.length,l,he.DATA_MATRIX,I.currentTimeMillis()),m=o.getByteSegments();m!=null&&h.putMetadata(Ne.BYTE_SEGMENTS,m);const B=o.getECLevel();return B!=null&&h.putMetadata(Ne.ERROR_CORRECTION_LEVEL,B),h}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i==null||o==null)throw new V;const l=this.moduleSize(i,n);let u=i[1];const h=o[1];let m=i[0];const v=(o[0]-m+1)/l,N=(h-u+1)/l;if(v<=0||N<=0)throw new V;const T=l/2;u+=T,m+=T;const R=new q(v,N);for(let j=0;j<N;j++){const W=u+j*l;for(let X=0;X<v;X++)n.get(m+X*l,W)&&R.set(X,j)}return R}static moduleSize(n,i){const o=i.getWidth();let l=n[0];const u=n[1];for(;l<o&&i.get(l,u);)l++;if(l===o)throw new V;const h=l-n[0];if(h===0)throw new V;return h}}Un.NO_POINTS=[];class _v extends oe{constructor(n=500){super(new Un,n)}}var ii;(function(Q){Q[Q.L=0]="L",Q[Q.M=1]="M",Q[Q.Q=2]="Q",Q[Q.H=3]="H"})(ii||(ii={}));class ut{constructor(n,i,o){this.value=n,this.stringValue=i,this.bits=o,ut.FOR_BITS.set(o,this),ut.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return ut.L;case"M":return ut.M;case"Q":return ut.Q;case"H":return ut.H;default:throw new p(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof ut))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=ut.FOR_BITS.size)throw new w;return ut.FOR_BITS.get(n)}}ut.FOR_BITS=new Map,ut.FOR_VALUE=new Map,ut.L=new ut(ii.L,"L",1),ut.M=new ut(ii.M,"M",0),ut.Q=new ut(ii.Q,"Q",3),ut.H=new ut(ii.H,"H",2);class wr{constructor(n){this.errorCorrectionLevel=ut.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return b.bitCount(n^i)}static decodeFormatInformation(n,i){const o=wr.doDecodeFormatInformation(n,i);return o!==null?o:wr.doDecodeFormatInformation(n^wr.FORMAT_INFO_MASK_QR,i^wr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let o=Number.MAX_SAFE_INTEGER,l=0;for(const u of wr.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===n||h===i)return new wr(u[1]);let m=wr.numBitsDiffering(n,h);m<o&&(l=u[1],o=m),n!==i&&(m=wr.numBitsDiffering(i,h),m<o&&(l=u[1],o=m))}return o<=3?new wr(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof wr))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}wr.FORMAT_INFO_MASK_QR=21522,wr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class J{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const o of i)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class L{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ue{constructor(n,i,...o){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=o;let l=0;const u=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();for(const m of h)l+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new O;try{return this.getVersionForNumber((n-17)/4)}catch{throw new O}}static getVersionForNumber(n){if(n<1||n>40)throw new w;return Ue.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<Ue.VERSION_DECODE_INFO.length;l++){const u=Ue.VERSION_DECODE_INFO[l];if(u===n)return Ue.getVersionForNumber(l+7);const h=wr.numBitsDiffering(n,u);h<i&&(o=l+7,i=h)}return i<=3?Ue.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new q(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const u=this.alignmentPatternCenters[l]-2;for(let h=0;h<o;h++)l===0&&(h===0||h===o-1)||l===o-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}Ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ue.VERSIONS=[new Ue(1,new Int32Array(0),new J(7,new L(1,19)),new J(10,new L(1,16)),new J(13,new L(1,13)),new J(17,new L(1,9))),new Ue(2,Int32Array.from([6,18]),new J(10,new L(1,34)),new J(16,new L(1,28)),new J(22,new L(1,22)),new J(28,new L(1,16))),new Ue(3,Int32Array.from([6,22]),new J(15,new L(1,55)),new J(26,new L(1,44)),new J(18,new L(2,17)),new J(22,new L(2,13))),new Ue(4,Int32Array.from([6,26]),new J(20,new L(1,80)),new J(18,new L(2,32)),new J(26,new L(2,24)),new J(16,new L(4,9))),new Ue(5,Int32Array.from([6,30]),new J(26,new L(1,108)),new J(24,new L(2,43)),new J(18,new L(2,15),new L(2,16)),new J(22,new L(2,11),new L(2,12))),new Ue(6,Int32Array.from([6,34]),new J(18,new L(2,68)),new J(16,new L(4,27)),new J(24,new L(4,19)),new J(28,new L(4,15))),new Ue(7,Int32Array.from([6,22,38]),new J(20,new L(2,78)),new J(18,new L(4,31)),new J(18,new L(2,14),new L(4,15)),new J(26,new L(4,13),new L(1,14))),new Ue(8,Int32Array.from([6,24,42]),new J(24,new L(2,97)),new J(22,new L(2,38),new L(2,39)),new J(22,new L(4,18),new L(2,19)),new J(26,new L(4,14),new L(2,15))),new Ue(9,Int32Array.from([6,26,46]),new J(30,new L(2,116)),new J(22,new L(3,36),new L(2,37)),new J(20,new L(4,16),new L(4,17)),new J(24,new L(4,12),new L(4,13))),new Ue(10,Int32Array.from([6,28,50]),new J(18,new L(2,68),new L(2,69)),new J(26,new L(4,43),new L(1,44)),new J(24,new L(6,19),new L(2,20)),new J(28,new L(6,15),new L(2,16))),new Ue(11,Int32Array.from([6,30,54]),new J(20,new L(4,81)),new J(30,new L(1,50),new L(4,51)),new J(28,new L(4,22),new L(4,23)),new J(24,new L(3,12),new L(8,13))),new Ue(12,Int32Array.from([6,32,58]),new J(24,new L(2,92),new L(2,93)),new J(22,new L(6,36),new L(2,37)),new J(26,new L(4,20),new L(6,21)),new J(28,new L(7,14),new L(4,15))),new Ue(13,Int32Array.from([6,34,62]),new J(26,new L(4,107)),new J(22,new L(8,37),new L(1,38)),new J(24,new L(8,20),new L(4,21)),new J(22,new L(12,11),new L(4,12))),new Ue(14,Int32Array.from([6,26,46,66]),new J(30,new L(3,115),new L(1,116)),new J(24,new L(4,40),new L(5,41)),new J(20,new L(11,16),new L(5,17)),new J(24,new L(11,12),new L(5,13))),new Ue(15,Int32Array.from([6,26,48,70]),new J(22,new L(5,87),new L(1,88)),new J(24,new L(5,41),new L(5,42)),new J(30,new L(5,24),new L(7,25)),new J(24,new L(11,12),new L(7,13))),new Ue(16,Int32Array.from([6,26,50,74]),new J(24,new L(5,98),new L(1,99)),new J(28,new L(7,45),new L(3,46)),new J(24,new L(15,19),new L(2,20)),new J(30,new L(3,15),new L(13,16))),new Ue(17,Int32Array.from([6,30,54,78]),new J(28,new L(1,107),new L(5,108)),new J(28,new L(10,46),new L(1,47)),new J(28,new L(1,22),new L(15,23)),new J(28,new L(2,14),new L(17,15))),new Ue(18,Int32Array.from([6,30,56,82]),new J(30,new L(5,120),new L(1,121)),new J(26,new L(9,43),new L(4,44)),new J(28,new L(17,22),new L(1,23)),new J(28,new L(2,14),new L(19,15))),new Ue(19,Int32Array.from([6,30,58,86]),new J(28,new L(3,113),new L(4,114)),new J(26,new L(3,44),new L(11,45)),new J(26,new L(17,21),new L(4,22)),new J(26,new L(9,13),new L(16,14))),new Ue(20,Int32Array.from([6,34,62,90]),new J(28,new L(3,107),new L(5,108)),new J(26,new L(3,41),new L(13,42)),new J(30,new L(15,24),new L(5,25)),new J(28,new L(15,15),new L(10,16))),new Ue(21,Int32Array.from([6,28,50,72,94]),new J(28,new L(4,116),new L(4,117)),new J(26,new L(17,42)),new J(28,new L(17,22),new L(6,23)),new J(30,new L(19,16),new L(6,17))),new Ue(22,Int32Array.from([6,26,50,74,98]),new J(28,new L(2,111),new L(7,112)),new J(28,new L(17,46)),new J(30,new L(7,24),new L(16,25)),new J(24,new L(34,13))),new Ue(23,Int32Array.from([6,30,54,78,102]),new J(30,new L(4,121),new L(5,122)),new J(28,new L(4,47),new L(14,48)),new J(30,new L(11,24),new L(14,25)),new J(30,new L(16,15),new L(14,16))),new Ue(24,Int32Array.from([6,28,54,80,106]),new J(30,new L(6,117),new L(4,118)),new J(28,new L(6,45),new L(14,46)),new J(30,new L(11,24),new L(16,25)),new J(30,new L(30,16),new L(2,17))),new Ue(25,Int32Array.from([6,32,58,84,110]),new J(26,new L(8,106),new L(4,107)),new J(28,new L(8,47),new L(13,48)),new J(30,new L(7,24),new L(22,25)),new J(30,new L(22,15),new L(13,16))),new Ue(26,Int32Array.from([6,30,58,86,114]),new J(28,new L(10,114),new L(2,115)),new J(28,new L(19,46),new L(4,47)),new J(28,new L(28,22),new L(6,23)),new J(30,new L(33,16),new L(4,17))),new Ue(27,Int32Array.from([6,34,62,90,118]),new J(30,new L(8,122),new L(4,123)),new J(28,new L(22,45),new L(3,46)),new J(30,new L(8,23),new L(26,24)),new J(30,new L(12,15),new L(28,16))),new Ue(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new L(3,117),new L(10,118)),new J(28,new L(3,45),new L(23,46)),new J(30,new L(4,24),new L(31,25)),new J(30,new L(11,15),new L(31,16))),new Ue(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new L(7,116),new L(7,117)),new J(28,new L(21,45),new L(7,46)),new J(30,new L(1,23),new L(37,24)),new J(30,new L(19,15),new L(26,16))),new Ue(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new L(5,115),new L(10,116)),new J(28,new L(19,47),new L(10,48)),new J(30,new L(15,24),new L(25,25)),new J(30,new L(23,15),new L(25,16))),new Ue(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new L(13,115),new L(3,116)),new J(28,new L(2,46),new L(29,47)),new J(30,new L(42,24),new L(1,25)),new J(30,new L(23,15),new L(28,16))),new Ue(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new L(17,115)),new J(28,new L(10,46),new L(23,47)),new J(30,new L(10,24),new L(35,25)),new J(30,new L(19,15),new L(35,16))),new Ue(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new L(17,115),new L(1,116)),new J(28,new L(14,46),new L(21,47)),new J(30,new L(29,24),new L(19,25)),new J(30,new L(11,15),new L(46,16))),new Ue(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new L(13,115),new L(6,116)),new J(28,new L(14,46),new L(23,47)),new J(30,new L(44,24),new L(7,25)),new J(30,new L(59,16),new L(1,17))),new Ue(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new L(12,121),new L(7,122)),new J(28,new L(12,47),new L(26,48)),new J(30,new L(39,24),new L(14,25)),new J(30,new L(22,15),new L(41,16))),new Ue(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new L(6,121),new L(14,122)),new J(28,new L(6,47),new L(34,48)),new J(30,new L(46,24),new L(10,25)),new J(30,new L(2,15),new L(64,16))),new Ue(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new L(17,122),new L(4,123)),new J(28,new L(29,46),new L(14,47)),new J(30,new L(49,24),new L(10,25)),new J(30,new L(24,15),new L(46,16))),new Ue(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new L(4,122),new L(18,123)),new J(28,new L(13,46),new L(32,47)),new J(30,new L(48,24),new L(14,25)),new J(30,new L(42,15),new L(32,16))),new Ue(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new L(20,117),new L(4,118)),new J(28,new L(40,47),new L(7,48)),new J(30,new L(43,24),new L(22,25)),new J(30,new L(10,15),new L(67,16))),new Ue(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new L(19,118),new L(6,119)),new J(28,new L(18,47),new L(31,48)),new J(30,new L(34,24),new L(34,25)),new J(30,new L(20,15),new L(61,16)))];var Jt;(function(Q){Q[Q.DATA_MASK_000=0]="DATA_MASK_000",Q[Q.DATA_MASK_001=1]="DATA_MASK_001",Q[Q.DATA_MASK_010=2]="DATA_MASK_010",Q[Q.DATA_MASK_011=3]="DATA_MASK_011",Q[Q.DATA_MASK_100=4]="DATA_MASK_100",Q[Q.DATA_MASK_101=5]="DATA_MASK_101",Q[Q.DATA_MASK_110=6]="DATA_MASK_110",Q[Q.DATA_MASK_111=7]="DATA_MASK_111"})(Jt||(Jt={}));class uA{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let o=0;o<i;o++)for(let l=0;l<i;l++)this.isMasked(o,l)&&n.flip(l,o)}}uA.values=new Map([[Jt.DATA_MASK_000,new uA(Jt.DATA_MASK_000,(Q,n)=>(Q+n&1)===0)],[Jt.DATA_MASK_001,new uA(Jt.DATA_MASK_001,(Q,n)=>(Q&1)===0)],[Jt.DATA_MASK_010,new uA(Jt.DATA_MASK_010,(Q,n)=>n%3===0)],[Jt.DATA_MASK_011,new uA(Jt.DATA_MASK_011,(Q,n)=>(Q+n)%3===0)],[Jt.DATA_MASK_100,new uA(Jt.DATA_MASK_100,(Q,n)=>(Math.floor(Q/2)+Math.floor(n/3)&1)===0)],[Jt.DATA_MASK_101,new uA(Jt.DATA_MASK_101,(Q,n)=>Q*n%6===0)],[Jt.DATA_MASK_110,new uA(Jt.DATA_MASK_110,(Q,n)=>Q*n%6<3)],[Jt.DATA_MASK_111,new uA(Jt.DATA_MASK_111,(Q,n)=>(Q+n+Q*n%3&1)===0)]]);class Nv{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new O;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const i=this.bitMatrix.getHeight();let o=0;const l=i-7;for(let u=i-1;u>=l;u--)o=this.copyBit(8,u,o);for(let u=i-8;u<i;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=wr.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new O}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return Ue.getVersionForNumber(i);let o=0;const l=n-11;for(let h=5;h>=0;h--)for(let m=n-9;m>=l;m--)o=this.copyBit(m,h,o);let u=Ue.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;o=0;for(let h=5;h>=0;h--)for(let m=n-9;m>=l;m--)o=this.copyBit(h,m,o);if(u=Ue.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new O}copyBit(n,i,o){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),o=uA.values.get(n.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let h=!0;const m=new Uint8Array(i.getTotalCodewords());let B=0,v=0,N=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let R=0;R<l;R++){const j=h?l-1-R:R;for(let W=0;W<2;W++)u.get(T-W,j)||(N++,v<<=1,this.bitMatrix.get(T-W,j)&&(v|=1),N===8&&(m[B++]=v,N=0,v=0))}h=!h}if(B!==i.getTotalCodewords())throw new O;return m}remask(){if(this.parsedFormatInfo===null)return;const n=uA.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,o=n.getWidth();i<o;i++)for(let l=i+1,u=n.getHeight();l<u;l++)n.get(i,l)!==n.get(l,i)&&(n.flip(l,i),n.flip(i,l))}}class ru{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,o){if(n.length!==i.getTotalCodewords())throw new w;const l=i.getECBlocksForLevel(o);let u=0;const h=l.getECBlocks();for(const W of h)u+=W.getCount();const m=new Array(u);let B=0;for(const W of h)for(let X=0;X<W.getCount();X++){const $=W.getDataCodewords(),se=l.getECCodewordsPerBlock()+$;m[B++]=new ru($,new Uint8Array(se))}const v=m[0].codewords.length;let N=m.length-1;for(;N>=0&&m[N].codewords.length!==v;)N--;N++;const T=v-l.getECCodewordsPerBlock();let R=0;for(let W=0;W<T;W++)for(let X=0;X<B;X++)m[X].codewords[W]=n[R++];for(let W=N;W<B;W++)m[W].codewords[T]=n[R++];const j=m[0].codewords.length;for(let W=T;W<j;W++)for(let X=0;X<B;X++){const $=X<N?W:W+1;m[X].codewords[$]=n[R++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var dA;(function(Q){Q[Q.TERMINATOR=0]="TERMINATOR",Q[Q.NUMERIC=1]="NUMERIC",Q[Q.ALPHANUMERIC=2]="ALPHANUMERIC",Q[Q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Q[Q.BYTE=4]="BYTE",Q[Q.ECI=5]="ECI",Q[Q.KANJI=6]="KANJI",Q[Q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Q[Q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Q[Q.HANZI=9]="HANZI"})(dA||(dA={}));class De{constructor(n,i,o,l){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=l,De.FOR_BITS.set(l,this),De.FOR_VALUE.set(n,this)}static forBits(n){const i=De.FOR_BITS.get(n);if(i===void 0)throw new w;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof De))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(dA.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(dA.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(dA.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(dA.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(dA.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(dA.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(dA.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(dA.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(dA.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(dA.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Et{static decode(n,i,o,l){const u=new tu(n);let h=new K;const m=new Array;let B=-1,v=-1;try{let N=null,T=!1,R;do{if(u.available()<4)R=De.TERMINATOR;else{const j=u.readBits(4);R=De.forBits(j)}switch(R){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:T=!0;break;case De.STRUCTURED_APPEND:if(u.available()<16)throw new O;B=u.readBits(8),v=u.readBits(8);break;case De.ECI:const j=Et.parseECIValue(u);if(N=P.getCharacterSetECIByValue(j),N===null)throw new O;break;case De.HANZI:const W=u.readBits(4),X=u.readBits(R.getCharacterCountBits(i));W===Et.GB2312_SUBSET&&Et.decodeHanziSegment(u,h,X);break;default:const $=u.readBits(R.getCharacterCountBits(i));switch(R){case De.NUMERIC:Et.decodeNumericSegment(u,h,$);break;case De.ALPHANUMERIC:Et.decodeAlphanumericSegment(u,h,$,T);break;case De.BYTE:Et.decodeByteSegment(u,h,$,N,m,l);break;case De.KANJI:Et.decodeKanjiSegment(u,h,$);break;default:throw new O}break}}while(R!==De.TERMINATOR)}catch{throw new O}return new Yr(n,h.toString(),m.length===0?null:m,o===null?null:o.toString(),B,v)}static decodeHanziSegment(n,i,o){if(o*13>n.available())throw new O;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const h=n.readBits(13);let m=h/96<<8&4294967295|h%96;m<959?m+=41377:m+=42657,l[u]=m>>8&255,l[u+1]=m&255,u+=2,o--}try{i.append(z.decode(l,Y.GB2312))}catch(h){throw new O(h)}}static decodeKanjiSegment(n,i,o){if(o*13>n.available())throw new O;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const h=n.readBits(13);let m=h/192<<8&4294967295|h%192;m<7936?m+=33088:m+=49472,l[u]=m>>8,l[u+1]=m,u+=2,o--}try{i.append(z.decode(l,Y.SHIFT_JIS))}catch(h){throw new O(h)}}static decodeByteSegment(n,i,o,l,u,h){if(8*o>n.available())throw new O;const m=new Uint8Array(o);for(let v=0;v<o;v++)m[v]=n.readBits(8);let B;l===null?B=Y.guessEncoding(m,h):B=l.getName();try{i.append(z.decode(m,B))}catch(v){throw new O(v)}u.push(m)}static toAlphaNumericChar(n){if(n>=Et.ALPHANUMERIC_CHARS.length)throw new O;return Et.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,o,l){const u=i.length();for(;o>1;){if(n.available()<11)throw new O;const h=n.readBits(11);i.append(Et.toAlphaNumericChar(Math.floor(h/45))),i.append(Et.toAlphaNumericChar(h%45)),o-=2}if(o===1){if(n.available()<6)throw new O;i.append(Et.toAlphaNumericChar(n.readBits(6)))}if(l)for(let h=u;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(n,i,o){for(;o>=3;){if(n.available()<10)throw new O;const l=n.readBits(10);if(l>=1e3)throw new O;i.append(Et.toAlphaNumericChar(Math.floor(l/100))),i.append(Et.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Et.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(n.available()<7)throw new O;const l=n.readBits(7);if(l>=100)throw new O;i.append(Et.toAlphaNumericChar(Math.floor(l/10))),i.append(Et.toAlphaNumericChar(l%10))}else if(o===1){if(n.available()<4)throw new O;const l=n.readBits(4);if(l>=10)throw new O;i.append(Et.toAlphaNumericChar(l))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=n.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=n.readBits(16);return(i&31)<<16&4294967295|o}throw new O}}Et.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Et.GB2312_SUBSET=1;class ng{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class Sv{constructor(){this.rsDecoder=new Tr(ve.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(q.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const o=new Nv(n);let l=null;try{return this.decodeBitMatrixParser(o,i)}catch(u){l=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,i);return u.setOther(new ng(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(n,i){const o=n.readVersion(),l=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),h=ru.getDataBlocks(u,o,l);let m=0;for(const N of h)m+=N.getNumDataCodewords();const B=new Uint8Array(m);let v=0;for(const N of h){const T=N.getCodewords(),R=N.getNumDataCodewords();this.correctErrors(T,R);for(let j=0;j<R;j++)B[v++]=T[j]}return Et.decode(B,o,l,i)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new E}for(let l=0;l<i;l++)n[l]=o[l]}}class Au extends Be{constructor(n,i,o){super(n,i),this.estimatedModuleSize=o}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const l=(this.getX()+i)/2,u=(this.getY()+n)/2,h=(this.estimatedModuleSize+o)/2;return new Au(l,u,h)}}class ol{constructor(n,i,o,l,u,h,m){this.image=n,this.startX=i,this.startY=o,this.width=l,this.height=u,this.moduleSize=h,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,o=this.width,l=n+o,u=this.startY+i/2,h=new Int32Array(3),m=this.image;for(let B=0;B<i;B++){const v=u+(B&1?-Math.floor((B+1)/2):Math.floor((B+1)/2));h[0]=0,h[1]=0,h[2]=0;let N=n;for(;N<l&&!m.get(N,v);)N++;let T=0;for(;N<l;){if(m.get(N,v))if(T===1)h[1]++;else if(T===2){if(this.foundPatternCross(h)){const R=this.handlePossibleCenter(h,v,N);if(R!==null)return R}h[0]=h[2],h[1]=1,h[2]=0,T=1}else h[++T]++;else T===1&&T++,h[T]++;N++}if(this.foundPatternCross(h)){const R=this.handlePossibleCenter(h,v,l);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,o=i/2;for(let l=0;l<3;l++)if(Math.abs(i-n[l])>=o)return!1;return!0}crossCheckVertical(n,i,o,l){const u=this.image,h=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let B=n;for(;B>=0&&u.get(i,B)&&m[1]<=o;)m[1]++,B--;if(B<0||m[1]>o)return NaN;for(;B>=0&&!u.get(i,B)&&m[0]<=o;)m[0]++,B--;if(m[0]>o)return NaN;for(B=n+1;B<h&&u.get(i,B)&&m[1]<=o;)m[1]++,B++;if(B===h||m[1]>o)return NaN;for(;B<h&&!u.get(i,B)&&m[2]<=o;)m[2]++,B++;if(m[2]>o)return NaN;const v=m[0]+m[1]+m[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(m)?ol.centerFromEnd(m,B):NaN}handlePossibleCenter(n,i,o){const l=n[0]+n[1]+n[2],u=ol.centerFromEnd(n,o),h=this.crossCheckVertical(i,u,2*n[1],l);if(!isNaN(h)){const m=(n[0]+n[1]+n[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(m,h,u))return v.combineEstimate(h,u,m);const B=new Au(u,h,m);this.possibleCenters.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return null}}class nu extends Be{constructor(n,i,o,l){super(n,i),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const l=this.count+1,u=(this.count*this.getX()+i)/l,h=(this.count*this.getY()+n)/l,m=(this.count*this.estimatedModuleSize+o)/l;return new nu(u,h,m,l)}}class Uv{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class er{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(D.TRY_HARDER)!==void 0,o=n!=null&&n.get(D.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),h=l.getWidth();let m=Math.floor(3*u/(4*er.MAX_MODULES));(m<er.MIN_SKIP||i)&&(m=er.MIN_SKIP);let B=!1;const v=new Int32Array(5);for(let T=m-1;T<u&&!B;T+=m){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let R=0;for(let j=0;j<h;j++)if(l.get(j,T))(R&1)===1&&R++,v[R]++;else if(R&1)v[R]++;else if(R===4)if(er.foundPatternCross(v)){if(this.handlePossibleCenter(v,T,j,o)===!0)if(m=2,this.hasSkipped===!0)B=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>v[2]&&(T+=X-v[2]-m,j=h-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,R=3;continue}R=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,R=3;else v[++R]++;er.foundPatternCross(v)&&this.handlePossibleCenter(v,T,h,o)===!0&&(m=v[0],this.hasSkipped&&(B=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return Be.orderBestPatterns(N),new Uv(N)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let u=0;u<5;u++){const h=n[u];if(h===0)return!1;i+=h}if(i<7)return!1;const o=i/7,l=o/2;return Math.abs(o-n[0])<l&&Math.abs(o-n[1])<l&&Math.abs(3*o-n[2])<3*l&&Math.abs(o-n[3])<l&&Math.abs(o-n[4])<l}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,o,l){const u=this.getCrossCheckStateCount();let h=0;const m=this.image;for(;n>=h&&i>=h&&m.get(i-h,n-h);)u[2]++,h++;if(n<h||i<h)return!1;for(;n>=h&&i>=h&&!m.get(i-h,n-h)&&u[1]<=o;)u[1]++,h++;if(n<h||i<h||u[1]>o)return!1;for(;n>=h&&i>=h&&m.get(i-h,n-h)&&u[0]<=o;)u[0]++,h++;if(u[0]>o)return!1;const B=m.getHeight(),v=m.getWidth();for(h=1;n+h<B&&i+h<v&&m.get(i+h,n+h);)u[2]++,h++;if(n+h>=B||i+h>=v)return!1;for(;n+h<B&&i+h<v&&!m.get(i+h,n+h)&&u[3]<o;)u[3]++,h++;if(n+h>=B||i+h>=v||u[3]>=o)return!1;for(;n+h<B&&i+h<v&&m.get(i+h,n+h)&&u[4]<o;)u[4]++,h++;if(u[4]>=o)return!1;const N=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(N-l)<2*l&&er.foundPatternCross(u)}crossCheckVertical(n,i,o,l){const u=this.image,h=u.getHeight(),m=this.getCrossCheckStateCount();let B=n;for(;B>=0&&u.get(i,B);)m[2]++,B--;if(B<0)return NaN;for(;B>=0&&!u.get(i,B)&&m[1]<=o;)m[1]++,B--;if(B<0||m[1]>o)return NaN;for(;B>=0&&u.get(i,B)&&m[0]<=o;)m[0]++,B--;if(m[0]>o)return NaN;for(B=n+1;B<h&&u.get(i,B);)m[2]++,B++;if(B===h)return NaN;for(;B<h&&!u.get(i,B)&&m[3]<o;)m[3]++,B++;if(B===h||m[3]>=o)return NaN;for(;B<h&&u.get(i,B)&&m[4]<o;)m[4]++,B++;if(m[4]>=o)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-l)>=2*l?NaN:er.foundPatternCross(m)?er.centerFromEnd(m,B):NaN}crossCheckHorizontal(n,i,o,l){const u=this.image,h=u.getWidth(),m=this.getCrossCheckStateCount();let B=n;for(;B>=0&&u.get(B,i);)m[2]++,B--;if(B<0)return NaN;for(;B>=0&&!u.get(B,i)&&m[1]<=o;)m[1]++,B--;if(B<0||m[1]>o)return NaN;for(;B>=0&&u.get(B,i)&&m[0]<=o;)m[0]++,B--;if(m[0]>o)return NaN;for(B=n+1;B<h&&u.get(B,i);)m[2]++,B++;if(B===h)return NaN;for(;B<h&&!u.get(B,i)&&m[3]<o;)m[3]++,B++;if(B===h||m[3]>=o)return NaN;for(;B<h&&u.get(B,i)&&m[4]<o;)m[4]++,B++;if(m[4]>=o)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-l)>=l?NaN:er.foundPatternCross(m)?er.centerFromEnd(m,B):NaN}handlePossibleCenter(n,i,o,l){const u=n[0]+n[1]+n[2]+n[3]+n[4];let h=er.centerFromEnd(n,o),m=this.crossCheckVertical(i,Math.floor(h),n[2],u);if(!isNaN(m)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(m),n[2],u),!isNaN(h)&&(!l||this.crossCheckDiagonal(Math.floor(m),Math.floor(h),n[2],u)))){const B=u/7;let v=!1;const N=this.possibleCenters;for(let T=0,R=N.length;T<R;T++){const j=N[T];if(j.aboutEquals(B,m,h)){N[T]=j.combineEstimate(m,h,B),v=!0;break}}if(!v){const T=new nu(h,m,B);N.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=er.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const o=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=er.CENTER_QUORUM&&(n++,i+=h.getEstimatedModuleSize());if(n<3)return!1;const l=i/o;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new V;const i=this.possibleCenters;let o;if(n>3){let l=0,u=0;for(const B of this.possibleCenters){const v=B.getEstimatedModuleSize();l+=v,u+=v*v}o=l/n;let h=Math.sqrt(u/n-o*o);i.sort((B,v)=>{const N=Math.abs(v.getEstimatedModuleSize()-o),T=Math.abs(B.getEstimatedModuleSize()-o);return N<T?-1:N>T?1:0});const m=Math.max(.2*o,h);for(let B=0;B<i.length&&i.length>3;B++){const v=i[B];Math.abs(v.getEstimatedModuleSize()-o)>m&&(i.splice(B,1),B--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();o=l/i.length,i.sort((u,h)=>{if(h.getCount()===u.getCount()){const m=Math.abs(h.getEstimatedModuleSize()-o),B=Math.abs(u.getEstimatedModuleSize()-o);return m<B?1:m>B?-1:0}else return h.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}er.CENTER_QUORUM=2,er.MIN_SKIP=3,er.MAX_MODULES=57;class wa{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(D.NEED_RESULT_POINT_CALLBACK);const o=new er(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const i=n.getTopLeft(),o=n.getTopRight(),l=n.getBottomLeft(),u=this.calculateModuleSize(i,o,l);if(u<1)throw new V("No pattern found in proccess finder.");const h=wa.computeDimension(i,o,l,u),m=Ue.getProvisionalVersionForDimension(h),B=m.getDimensionForVersion()-7;let v=null;if(m.getAlignmentPatternCenters().length>0){const j=o.getX()-i.getX()+l.getX(),W=o.getY()-i.getY()+l.getY(),X=1-3/B,$=Math.floor(i.getX()+X*(j-i.getX())),se=Math.floor(i.getY()+X*(W-i.getY()));for(let xe=4;xe<=16;xe<<=1)try{v=this.findAlignmentInRegion(u,$,se,xe);break}catch(pe){if(!(pe instanceof V))throw pe}}const N=wa.createTransform(i,o,l,v,h),T=wa.sampleGrid(this.image,N,h);let R;return v===null?R=[l,i,o]:R=[l,i,o,v],new or(T,R)}static createTransform(n,i,o,l,u){const h=u-3.5;let m,B,v,N;return l!==null?(m=l.getX(),B=l.getY(),v=h-3,N=v):(m=i.getX()-n.getX()+o.getX(),B=i.getY()-n.getY()+o.getY(),v=h,N=h),qt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,v,N,3.5,h,n.getX(),n.getY(),i.getX(),i.getY(),m,B,o.getX(),o.getY())}static sampleGrid(n,i,o){return KA.getInstance().sampleGridWithTransform(n,o,o,i)}static computeDimension(n,i,o,l){const u=He.round(Be.distance(n,i)/l),h=He.round(Be.distance(n,o)/l);let m=Math.floor((u+h)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new V("Dimensions could be not found.")}return m}calculateModuleSize(n,i,o){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,o,l){let u=this.sizeOfBlackWhiteBlackRun(n,i,o,l),h=1,m=n-(o-n);m<0?(h=n/(n-m),m=0):m>=this.image.getWidth()&&(h=(this.image.getWidth()-1-n)/(m-n),m=this.image.getWidth()-1);let B=Math.floor(i-(l-i)*h);return h=1,B<0?(h=i/(i-B),B=0):B>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(B-i),B=this.image.getHeight()-1),m=Math.floor(n+(m-n)*h),u+=this.sizeOfBlackWhiteBlackRun(n,i,m,B),u-1}sizeOfBlackWhiteBlackRun(n,i,o,l){const u=Math.abs(l-i)>Math.abs(o-n);if(u){let j=n;n=i,i=j,j=o,o=l,l=j}const h=Math.abs(o-n),m=Math.abs(l-i);let B=-h/2;const v=n<o?1:-1,N=i<l?1:-1;let T=0;const R=o+v;for(let j=n,W=i;j!==R;j+=v){const X=u?W:j,$=u?j:W;if(T===1===this.image.get(X,$)){if(T===2)return He.distance(j,W,n,i);T++}if(B+=m,B>0){if(W===l)break;W+=N,B-=h}}return T===2?He.distance(o+v,l,n,i):NaN}findAlignmentInRegion(n,i,o,l){const u=Math.floor(l*n),h=Math.max(0,i-u),m=Math.min(this.image.getWidth()-1,i+u);if(m-h<n*3)throw new V("Alignment top exceeds estimated module size.");const B=Math.max(0,o-u),v=Math.min(this.image.getHeight()-1,o+u);if(v-B<n*3)throw new V("Alignment bottom exceeds estimated module size.");return new ol(this.image,h,B,m-h,v-B,n,this.resultPointCallback).find()}}class Qn{constructor(){this.decoder=new Sv}getDecoder(){return this.decoder}decode(n,i){let o,l;if(i!=null&&i.get(D.PURE_BARCODE)!==void 0){const B=Qn.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(B,i),l=Qn.NO_POINTS}else{const B=new wa(n.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(B.getBits(),i),l=B.getPoints()}o.getOther()instanceof ng&&o.getOther().applyMirroredCorrection(l);const u=new ie(o.getText(),o.getRawBytes(),void 0,l,he.QR_CODE,void 0),h=o.getByteSegments();h!==null&&u.putMetadata(Ne.BYTE_SEGMENTS,h);const m=o.getECLevel();return m!==null&&u.putMetadata(Ne.ERROR_CORRECTION_LEVEL,m),o.hasStructuredAppend()&&(u.putMetadata(Ne.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(Ne.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i===null||o===null)throw new V;const l=this.moduleSize(i,n);let u=i[1],h=o[1],m=i[0],B=o[0];if(m>=B||u>=h)throw new V;if(h-u!==B-m&&(B=m+(h-u),B>=n.getWidth()))throw new V;const v=Math.round((B-m+1)/l),N=Math.round((h-u+1)/l);if(v<=0||N<=0)throw new V;if(N!==v)throw new V;const T=Math.floor(l/2);u+=T,m+=T;const R=m+Math.floor((v-1)*l)-B;if(R>0){if(R>T)throw new V;m-=R}const j=u+Math.floor((N-1)*l)-h;if(j>0){if(j>T)throw new V;u-=j}const W=new q(v,N);for(let X=0;X<N;X++){const $=u+Math.floor(X*l);for(let se=0;se<v;se++)n.get(m+Math.floor(se*l),$)&&W.set(se,X)}return W}static moduleSize(n,i){const o=i.getHeight(),l=i.getWidth();let u=n[0],h=n[1],m=!0,B=0;for(;u<l&&h<o;){if(m!==i.get(u,h)){if(++B===5)break;m=!m}u++,h++}if(u===l||h===o)throw new V;return(u-n[0])/7}}Qn.NO_POINTS=new Array;class Re{PDF417Common(){}static getBitCountSum(n){return He.sum(n)}static toIntArray(n){if(n==null||!n.length)return Re.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let o=0;for(const l of n)i[o++]=l;return i}static getCodeword(n){const i=C.binarySearch(Re.SYMBOL_TABLE,n&262143);return i<0?-1:(Re.CODEWORD_TABLE[i]-1)%Re.NUMBER_OF_CODEWORDS}}Re.NUMBER_OF_CODEWORDS=929,Re.MAX_CODEWORDS_IN_BARCODE=Re.NUMBER_OF_CODEWORDS-1,Re.MIN_ROWS_IN_BARCODE=3,Re.MAX_ROWS_IN_BARCODE=90,Re.MODULES_IN_CODEWORD=17,Re.MODULES_IN_STOP_PATTERN=18,Re.BARS_IN_MODULE=8,Re.EMPTY_INT_ARRAY=new Int32Array([]),Re.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Re.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qv{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(n,i,o){let l=n.getBlackMatrix(),u=je.detect(o,l);return u.length||(l=l.clone(),l.rotate180(),u=je.detect(o,l)),new Qv(l,u)}static detect(n,i){const o=new Array;let l=0,u=0,h=!1;for(;l<i.getHeight();){const m=je.findVertices(i,l,u);if(m[0]==null&&m[3]==null){if(!h)break;h=!1,u=0;for(const B of o)B[1]!=null&&(l=Math.trunc(Math.max(l,B[1].getY()))),B[3]!=null&&(l=Math.max(l,Math.trunc(B[3].getY())));l+=je.ROW_STEP;continue}if(h=!0,o.push(m),!n)break;m[2]!=null?(u=Math.trunc(m[2].getX()),l=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),l=Math.trunc(m[4].getY()))}return o}static findVertices(n,i,o){const l=n.getHeight(),u=n.getWidth(),h=new Array(8);return je.copyToResult(h,je.findRowsWithPattern(n,l,u,i,o,je.START_PATTERN),je.INDEXES_START_PATTERN),h[4]!=null&&(o=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),je.copyToResult(h,je.findRowsWithPattern(n,l,u,i,o,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),h}static copyToResult(n,i,o){for(let l=0;l<o.length;l++)n[o[l]]=i[l]}static findRowsWithPattern(n,i,o,l,u,h){const m=new Array(4);let B=!1;const v=new Int32Array(h.length);for(;l<i;l+=je.ROW_STEP){let T=je.findGuardPattern(n,u,l,o,!1,h,v);if(T!=null){for(;l>0;){const R=je.findGuardPattern(n,u,--l,o,!1,h,v);if(R!=null)T=R;else{l++;break}}m[0]=new Be(T[0],l),m[1]=new Be(T[1],l),B=!0;break}}let N=l+1;if(B){let T=0,R=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;N<i;N++){const j=je.findGuardPattern(n,R[0],N,o,!1,h,v);if(j!=null&&Math.abs(R[0]-j[0])<je.MAX_PATTERN_DRIFT&&Math.abs(R[1]-j[1])<je.MAX_PATTERN_DRIFT)R=j,T=0;else{if(T>je.SKIPPED_ROW_COUNT_MAX)break;T++}}N-=T+1,m[2]=new Be(R[0],N),m[3]=new Be(R[1],N)}return N-l<je.BARCODE_MIN_HEIGHT&&C.fill(m,null),m}static findGuardPattern(n,i,o,l,u,h,m){C.fillWithin(m,0,m.length,0);let B=i,v=0;for(;n.get(B,o)&&B>0&&v++<je.MAX_PIXEL_DRIFT;)B--;let N=B,T=0,R=h.length;for(let j=u;N<l;N++)if(n.get(N,o)!==j)m[T]++;else{if(T===R-1){if(je.patternMatchVariance(m,h,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([B,N]);B+=m[0]+m[1],I.arraycopy(m,2,m,0,T-1),m[T-1]=0,m[T]=0,T--}else T++;m[T]=1,j=!j}return T===R-1&&je.patternMatchVariance(m,h,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([B,N-1]):null}static patternMatchVariance(n,i,o){let l=n.length,u=0,h=0;for(let v=0;v<l;v++)u+=n[v],h+=i[v];if(u<h)return 1/0;let m=u/h;o*=m;let B=0;for(let v=0;v<l;v++){let N=n[v],T=i[v]*m,R=N>T?N-T:T-N;if(R>o)return 1/0;B+=R}return B/u}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class cr{constructor(n,i){if(i.length===0)throw new w;this.field=n;let o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),I.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)i=this.field.add(this.field.multiply(n,i),this.coefficients[l]);return i}add(n){if(!this.field.equals(n.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){let h=i;i=o,o=h}let l=new Int32Array(o.length),u=o.length-i.length;I.arraycopy(o,0,l,0,u);for(let h=u;h<o.length;h++)l[h]=this.field.add(i[h-u],o[h]);return new cr(this.field,l)}subtract(n){if(!this.field.equals(n.field))throw new w("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof cr?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new cr(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,l=n.coefficients,u=l.length,h=new Int32Array(o+u-1);for(let m=0;m<o;m++){let B=i[m];for(let v=0;v<u;v++)h[m+v]=this.field.add(h[m+v],this.field.multiply(B,l[v]))}return new cr(this.field,h)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new cr(this.field,i)}multiplyScalar(n){if(n===0)return new cr(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],n);return new cr(this.field,o)}multiplyByMonomial(n,i){if(n<0)throw new w;if(i===0)return new cr(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+n);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new cr(this.field,l)}toString(){let n=new K;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(i===0||o!==1)&&n.append(o),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class Dv{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new w;return this.logTable[n]}inverse(n){if(n===0)throw new Se;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class su extends Dv{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let l=0;l<n;l++)this.expTable[l]=o,o=o*i%n;for(let l=0;l<n-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new cr(this,new Int32Array([0])),this.one=new cr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new w;if(i===0)return this.zero;let o=new Int32Array(n+1);return o[0]=i,new cr(this,o)}}su.PDF417_GF=new su(Re.NUMBER_OF_CODEWORDS,3);class sg{constructor(){this.field=su.PDF417_GF}decode(n,i,o){let l=new cr(this.field,n),u=new Int32Array(i),h=!1;for(let W=i;W>0;W--){let X=l.evaluateAt(this.field.exp(W));u[i-W]=X,X!==0&&(h=!0)}if(!h)return 0;let m=this.field.getOne();if(o!=null)for(const W of o){let X=this.field.exp(n.length-1-W),$=new cr(this.field,new Int32Array([this.field.subtract(0,X),1]));m=m.multiply($)}let B=new cr(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),B,i),N=v[0],T=v[1],R=this.findErrorLocations(N),j=this.findErrorMagnitudes(T,N,R);for(let W=0;W<R.length;W++){let X=n.length-1-this.field.log(R[W]);if(X<0)throw E.getChecksumInstance();n[X]=this.field.subtract(n[X],j[W])}return R.length}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){let R=n;n=i,i=R}let l=n,u=i,h=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let R=l,j=h;if(l=u,h=m,l.isZero())throw E.getChecksumInstance();u=R;let W=this.field.getZero(),X=l.getCoefficient(l.getDegree()),$=this.field.inverse(X);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let se=u.getDegree()-l.getDegree(),xe=this.field.multiply(u.getCoefficient(u.getDegree()),$);W=W.add(this.field.buildMonomial(se,xe)),u=u.subtract(l.multiplyByMonomial(se,xe))}m=W.multiply(h).subtract(j).negative()}let B=m.getCoefficient(0);if(B===0)throw E.getChecksumInstance();let v=this.field.inverse(B),N=m.multiply(v),T=u.multiply(v);return[N,T]}findErrorLocations(n){let i=n.getDegree(),o=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)n.evaluateAt(u)===0&&(o[l]=this.field.inverse(u),l++);if(l!==i)throw E.getChecksumInstance();return o}findErrorMagnitudes(n,i,o){let l=i.getDegree(),u=new Int32Array(l);for(let v=1;v<=l;v++)u[l-v]=this.field.multiply(v,i.getCoefficient(v));let h=new cr(this.field,u),m=o.length,B=new Int32Array(m);for(let v=0;v<m;v++){let N=this.field.inverse(o[v]),T=this.field.subtract(0,n.evaluateAt(N)),R=this.field.inverse(h.evaluateAt(N));B[v]=this.field.multiply(T,R)}return B}}class vs{constructor(n,i,o,l,u){n instanceof vs?this.constructor_2(n):this.constructor_1(n,i,o,l,u)}constructor_1(n,i,o,l,u){const h=i==null||o==null,m=l==null||u==null;if(h&&m)throw new V;h?(i=new Be(0,l.getY()),o=new Be(0,u.getY())):m&&(l=new Be(n.getWidth()-1,i.getY()),u=new Be(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=i,this.bottomLeft=o,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new vs(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,o){let l=this.topLeft,u=this.bottomLeft,h=this.topRight,m=this.bottomRight;if(n>0){let B=o?this.topLeft:this.topRight,v=Math.trunc(B.getY()-n);v<0&&(v=0);let N=new Be(B.getX(),v);o?l=N:h=N}if(i>0){let B=o?this.bottomLeft:this.bottomRight,v=Math.trunc(B.getY()+i);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let N=new Be(B.getX(),v);o?u=N:m=N}return new vs(this.image,l,u,h,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Tv{constructor(n,i,o,l){this.columnCount=n,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ba{constructor(){this.buffer=""}static form(n,i){let o=-1;function l(h,m,B,v,N,T){if(h==="%%")return"%";if(i[++o]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let R=N?parseInt(N.substr(1)):void 0,j;switch(T){case"s":j=i[o];break;case"c":j=i[o][0];break;case"f":j=parseFloat(i[o]).toFixed(h);break;case"p":j=parseFloat(i[o]).toPrecision(h);break;case"e":j=parseFloat(i[o]).toExponential(h);break;case"x":j=parseInt(i[o]).toString(R||16);break;case"d":j=parseFloat(parseInt(i[o],R||10).toPrecision(h)).toFixed(0);break}j=typeof j=="object"?JSON.stringify(j):(+j).toString(R);let W=parseInt(B),X=B&&B[0]+""=="0"?"0":" ";for(;j.length<W;)j=m!==void 0?j+X:X+j;return j}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}format(n,...i){this.buffer+=Ba.form(n,i)}toString(){return this.buffer}}class ya{constructor(n){this.boundingBox=new vs(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let o=1;o<ya.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(n)-o;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(n)+o,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Ba;let i=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return n.toString()}}ya.MAX_NEARBY_DISTANCE=5;class va{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[o,l]of this.values.entries()){const u={getKey:()=>o,getValue:()=>l};u.getValue()>n?(n=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===n&&i.push(u.getKey())}return Re.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class ig extends ya{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),B=-1,v=1,N=0;for(let T=h;T<m;T++){if(i[T]==null)continue;let R=i[T],j=R.getRowNumber()-B;if(j===0)N++;else if(j===1)v=Math.max(v,N),N=1,B=R.getRowNumber();else if(j<0||R.getRowNumber()>=n.getRowCount()||j>T)i[T]=null;else{let W;v>2?W=(v-2)*j:W=j;let X=W>=T;for(let $=1;$<=W&&!X;$++)X=i[T-$]!=null;X?i[T]=null:(B=R.getRowNumber(),N=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.getCodewords(),B=-1;for(let v=u;v<h;v++){if(m[v]==null)continue;let N=m[v];N.setRowNumberAsRowIndicatorColumn();let T=N.getRowNumber()-B;T===0||(T===1?B=N.getRowNumber():N.getRowNumber()>=n.getRowCount()?m[v]=null:B=N.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new va,o=new va,l=new va,u=new va;for(let m of n){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let B=m.getValue()%30,v=m.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:o.setValue(B*3+1);break;case 1:u.setValue(B/3),l.setValue(B%3);break;case 2:i.setValue(B+1);break}}if(i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Re.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Re.MAX_ROWS_IN_BARCODE)return null;let h=new Tv(i.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,h),h}removeIncorrectCodewords(n,i){for(let o=0;o<n.length;o++){let l=n[o];if(n[o]==null)continue;let u=l.getValue()%30,h=l.getRowNumber();if(h>i.getRowCount()){n[o]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(n[o]=null);break;case 2:u+1!==i.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ca{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Re.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&i[o]!=null&&n[o].getRowNumber()===i[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[o];u!=null&&(u.setRowNumber(n[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let m=this.detectionResultColumns[h].getCodewords()[o];m!=null&&(u=Ca.adjustRowNumberIfValid(l,u,m),m.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let m=this.detectionResultColumns[h].getCodewords()[o];m!=null&&(u=Ca.adjustRowNumberIfValid(l,u,m),m.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,o){if(!this.detectionResultColumns[n-1])return;let l=o[i],u=this.detectionResultColumns[n-1].getCodewords(),h=u;this.detectionResultColumns[n+1]!=null&&(h=this.detectionResultColumns[n+1].getCodewords());let m=new Array(14);m[2]=u[i],m[3]=h[i],i>0&&(m[0]=o[i-1],m[4]=u[i-1],m[5]=h[i-1]),i>1&&(m[8]=o[i-2],m[10]=u[i-2],m[11]=h[i-2]),i<o.length-1&&(m[1]=o[i+1],m[6]=u[i+1],m[7]=h[i+1]),i<o.length-2&&(m[9]=o[i+2],m[12]=u[i+2],m[13]=h[i+2]);for(let B of m)if(Ca.adjustRowNumber(l,B))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ba;for(let o=0;o<n.getCodewords().length;o++){i.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[o];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Ea{constructor(n,i,o,l){this.rowNumber=Ea.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Ea.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Ea.BARCODE_ROW_UNKNOWN=-1;class kr{static initialize(){for(let n=0;n<Re.SYMBOL_TABLE.length;n++){let i=Re.SYMBOL_TABLE[n],o=i&1;for(let l=0;l<Re.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===o;)u+=1,i>>=1;o=i&1,kr.RATIOS_TABLE[n]||(kr.RATIOS_TABLE[n]=new Array(Re.BARS_IN_MODULE)),kr.RATIOS_TABLE[n][Re.BARS_IN_MODULE-l-1]=Math.fround(u/Re.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=kr.getDecodedCodewordValue(kr.sampleBitCounts(n));return i!==-1?i:kr.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=He.sum(n),o=new Int32Array(Re.BARS_IN_MODULE),l=0,u=0;for(let h=0;h<Re.MODULES_IN_CODEWORD;h++){let m=i/(2*Re.MODULES_IN_CODEWORD)+h*i/Re.MODULES_IN_CODEWORD;u+n[l]<=m&&(u+=n[l],l++),o[l]++}return o}static getDecodedCodewordValue(n){let i=kr.getBitValue(n);return Re.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let o=0;o<n.length;o++)for(let l=0;l<n[o];l++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=He.sum(n),o=new Array(Re.BARS_IN_MODULE);if(i>1)for(let h=0;h<o.length;h++)o[h]=Math.fround(n[h]/i);let l=PA.MAX_VALUE,u=-1;this.bSymbolTableReady||kr.initialize();for(let h=0;h<kr.RATIOS_TABLE.length;h++){let m=0,B=kr.RATIOS_TABLE[h];for(let v=0;v<Re.BARS_IN_MODULE;v++){let N=Math.fround(B[v]-o[v]);if(m+=Math.fround(N*N),m>=l)break}m<l&&(l=m,u=Re.SYMBOL_TABLE[h])}return u}}kr.bSymbolTableReady=!1,kr.RATIOS_TABLE=new Array(Re.SYMBOL_TABLE.length).map(Q=>new Array(Re.BARS_IN_MODULE));class ag{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class og{static parseLong(n,i=void 0){return parseInt(n,i)}}class lg extends f{}lg.kind="NullPointerException";class Rv{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,o){if(n==null)throw new lg;if(i<0||i>n.length||o<0||i+o>n.length||i+o<0)throw new U;if(o===0)return;for(let l=0;l<o;l++)this.write(n[i+l])}flush(){}close(){}}class Ov extends f{}class kv extends Rv{constructor(n=32){if(super(),this.count=0,n<0)throw new w("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new Ov;o=b.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,o){if(i<0||i>n.length||o<0||i+o-n.length>0)throw new U;this.ensureCapacity(this.count+o),I.arraycopy(n,i,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return C.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var at;(function(Q){Q[Q.ALPHA=0]="ALPHA",Q[Q.LOWER=1]="LOWER",Q[Q.MIXED=2]="MIXED",Q[Q.PUNCT=3]="PUNCT",Q[Q.ALPHA_SHIFT=4]="ALPHA_SHIFT",Q[Q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(at||(at={}));function cg(){if(typeof window<"u")return window.BigInt||null;if(typeof Qe<"u")return Qe.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ll;function Dn(Q){if(typeof ll>"u"&&(ll=cg()),ll===null)throw new Error("BigInt is not supported!");return ll(Q)}function Lv(){let Q=[];Q[0]=Dn(1);let n=Dn(900);Q[1]=n;for(let i=2;i<16;i++)Q[i]=Q[i-1]*n;return Q}class ne{static decode(n,i){let o=new K(""),l=P.ISO8859_1;o.enableDecoding(l);let u=1,h=n[u++],m=new ag;for(;u<n[0];){switch(h){case ne.TEXT_COMPACTION_MODE_LATCH:u=ne.textCompaction(n,u,o);break;case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:u=ne.byteCompaction(h,n,l,u,o);break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u++]);break;case ne.NUMERIC_COMPACTION_MODE_LATCH:u=ne.numericCompaction(n,u,o);break;case ne.ECI_CHARSET:P.getCharacterSetECIByValue(n[u++]);break;case ne.ECI_GENERAL_PURPOSE:u+=2;break;case ne.ECI_USER_DEFINED:u++;break;case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ne.decodeMacroBlock(n,u,m);break;case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:throw new O;default:u--,u=ne.textCompaction(n,u,o);break}if(u<n.length)h=n[u++];else throw O.getFormatInstance()}if(o.length()===0)throw O.getFormatInstance();let B=new Yr(null,o.toString(),null,i);return B.setOther(m),B}static decodeMacroBlock(n,i,o){if(i+ne.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw O.getFormatInstance();let l=new Int32Array(ne.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<ne.NUMBER_OF_SEQUENCE_CODEWORDS;m++,i++)l[m]=n[i];o.setSegmentIndex(b.parseInt(ne.decodeBase900toBase10(l,ne.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new K;i=ne.textCompaction(n,i,u),o.setFileId(u.toString());let h=-1;for(n[i]===ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<n[0];)switch(n[i]){case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new K;i=ne.textCompaction(n,i+1,m),o.setFileName(m.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let B=new K;i=ne.textCompaction(n,i+1,B),o.setSender(B.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new K;i=ne.textCompaction(n,i+1,v),o.setAddressee(v.toString());break;case ne.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new K;i=ne.numericCompaction(n,i+1,N),o.setSegmentCount(b.parseInt(N.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new K;i=ne.numericCompaction(n,i+1,T),o.setTimestamp(og.parseLong(T.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new K;i=ne.numericCompaction(n,i+1,R),o.setChecksum(b.parseInt(R.toString()));break;case ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let j=new K;i=ne.numericCompaction(n,i+1,j),o.setFileSize(og.parseLong(j.toString()));break;default:throw O.getFormatInstance()}break;case ne.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw O.getFormatInstance()}if(h!==-1){let m=i-h;o.isLastSegment()&&m--,o.setOptionalData(C.copyOfRange(n,h,h+m))}return i}static textCompaction(n,i,o){let l=new Int32Array((n[0]-i)*2),u=new Int32Array((n[0]-i)*2),h=0,m=!1;for(;i<n[0]&&!m;){let B=n[i++];if(B<ne.TEXT_COMPACTION_MODE_LATCH)l[h]=B/30,l[h+1]=B%30,h+=2;else switch(B){case ne.TEXT_COMPACTION_MODE_LATCH:l[h++]=ne.TEXT_COMPACTION_MODE_LATCH;break;case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:i--,m=!0;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[h]=ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,B=n[i++],u[h]=B,h++;break}}return ne.decodeTextCompaction(l,u,h,o),i}static decodeTextCompaction(n,i,o,l){let u=at.ALPHA,h=at.ALPHA,m=0;for(;m<o;){let B=n[m],v="";switch(u){case at.ALPHA:if(B<26)v=String.fromCharCode(65+B);else switch(B){case 26:v=" ";break;case ne.LL:u=at.LOWER;break;case ne.ML:u=at.MIXED;break;case ne.PS:h=u,u=at.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=at.ALPHA;break}break;case at.LOWER:if(B<26)v=String.fromCharCode(97+B);else switch(B){case 26:v=" ";break;case ne.AS:h=u,u=at.ALPHA_SHIFT;break;case ne.ML:u=at.MIXED;break;case ne.PS:h=u,u=at.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=at.ALPHA;break}break;case at.MIXED:if(B<ne.PL)v=ne.MIXED_CHARS[B];else switch(B){case ne.PL:u=at.PUNCT;break;case 26:v=" ";break;case ne.LL:u=at.LOWER;break;case ne.AL:u=at.ALPHA;break;case ne.PS:h=u,u=at.PUNCT_SHIFT;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=at.ALPHA;break}break;case at.PUNCT:if(B<ne.PAL)v=ne.PUNCT_CHARS[B];else switch(B){case ne.PAL:u=at.ALPHA;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=at.ALPHA;break}break;case at.ALPHA_SHIFT:if(u=h,B<26)v=String.fromCharCode(65+B);else switch(B){case 26:v=" ";break;case ne.TEXT_COMPACTION_MODE_LATCH:u=at.ALPHA;break}break;case at.PUNCT_SHIFT:if(u=h,B<ne.PAL)v=ne.PUNCT_CHARS[B];else switch(B){case ne.PAL:u=at.ALPHA;break;case ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[m]);break;case ne.TEXT_COMPACTION_MODE_LATCH:u=at.ALPHA;break}break}v!==""&&l.append(v),m++}}static byteCompaction(n,i,o,l,u){let h=new kv,m=0,B=0,v=!1;switch(n){case ne.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),T=i[l++];for(;l<i[0]&&!v;)switch(N[m++]=T,B=900*B+T,T=i[l++],T){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(m%5===0&&m>0){for(let R=0;R<6;++R)h.write(Number(Dn(B)>>Dn(8*(5-R))));B=0,m=0}break}l===i[0]&&T<ne.TEXT_COMPACTION_MODE_LATCH&&(N[m++]=T);for(let R=0;R<m;R++)h.write(N[R]);break;case ne.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!v;){let R=i[l++];if(R<ne.TEXT_COMPACTION_MODE_LATCH)m++,B=900*B+R;else switch(R){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.NUMERIC_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(m%5===0&&m>0){for(let j=0;j<6;++j)h.write(Number(Dn(B)>>Dn(8*(5-j))));B=0,m=0}}break}return u.append(z.decode(h.toByteArray(),o)),l}static numericCompaction(n,i,o){let l=0,u=!1,h=new Int32Array(ne.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!u;){let m=n[i++];if(i===n[0]&&(u=!0),m<ne.TEXT_COMPACTION_MODE_LATCH)h[l]=m,l++;else switch(m){case ne.TEXT_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH:case ne.BYTE_COMPACTION_MODE_LATCH_6:case ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ne.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%ne.MAX_NUMERIC_CODEWORDS===0||m===ne.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(o.append(ne.decodeBase900toBase10(h,l)),l=0)}return i}static decodeBase900toBase10(n,i){let o=Dn(0);for(let u=0;u<i;u++)o+=ne.EXP900[i-u-1]*Dn(n[u]);let l=o.toString();if(l.charAt(0)!=="1")throw new O;return l.substring(1)}}ne.TEXT_COMPACTION_MODE_LATCH=900,ne.BYTE_COMPACTION_MODE_LATCH=901,ne.NUMERIC_COMPACTION_MODE_LATCH=902,ne.BYTE_COMPACTION_MODE_LATCH_6=924,ne.ECI_USER_DEFINED=925,ne.ECI_GENERAL_PURPOSE=926,ne.ECI_CHARSET=927,ne.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ne.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ne.MACRO_PDF417_TERMINATOR=922,ne.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ne.MAX_NUMERIC_CODEWORDS=15,ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ne.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ne.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ne.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ne.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ne.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ne.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ne.PL=25,ne.LL=27,ne.AS=27,ne.ML=28,ne.AL=28,ne.PS=29,ne.PAL=29,ne.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ne.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ne.EXP900=cg()?Lv():[],ne.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Me{constructor(){}static decode(n,i,o,l,u,h,m){let B=new vs(n,i,o,l,u),v=null,N=null,T;for(let W=!0;;W=!1){if(i!=null&&(v=Me.getRowIndicatorColumn(n,B,i,!0,h,m)),l!=null&&(N=Me.getRowIndicatorColumn(n,B,l,!1,h,m)),T=Me.merge(v,N),T==null)throw V.getNotFoundInstance();let X=T.getBoundingBox();if(W&&X!=null&&(X.getMinY()<B.getMinY()||X.getMaxY()>B.getMaxY()))B=X;else break}T.setBoundingBox(B);let R=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,v),T.setDetectionResultColumn(R,N);let j=v!=null;for(let W=1;W<=R;W++){let X=j?W:R-W;if(T.getDetectionResultColumn(X)!==void 0)continue;let $;X===0||X===R?$=new ig(B,X===0):$=new ya(B),T.setDetectionResultColumn(X,$);let se=-1,xe=se;for(let pe=B.getMinY();pe<=B.getMaxY();pe++){if(se=Me.getStartColumn(T,X,pe,j),se<0||se>B.getMaxX()){if(xe===-1)continue;se=xe}let de=Me.detectCodeword(n,B.getMinX(),B.getMaxX(),j,se,pe,h,m);de!=null&&($.setCodeword(pe,de),xe=se,h=Math.min(h,de.getWidth()),m=Math.max(m,de.getWidth()))}}return Me.createDecoderResult(T)}static merge(n,i){if(n==null&&i==null)return null;let o=Me.getBarcodeMetadata(n,i);if(o==null)return null;let l=vs.merge(Me.adjustBoundingBox(n),Me.adjustBoundingBox(i));return new Ca(o,l)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let o=Me.getMax(i),l=0;for(let m of i)if(l+=o-m,m>0)break;let u=n.getCodewords();for(let m=0;l>0&&u[m]==null;m++)l--;let h=0;for(let m=i.length-1;m>=0&&(h+=o-i[m],!(i[m]>0));m--);for(let m=u.length-1;h>0&&u[m]==null;m--)h--;return n.getBoundingBox().addMissingRows(l,h,n.isLeft())}static getMax(n){let i=-1;for(let o of n)i=Math.max(i,o);return i}static getBarcodeMetadata(n,i){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(n,i,o,l,u,h){let m=new ig(i,l);for(let B=0;B<2;B++){let v=B===0?1:-1,N=Math.trunc(Math.trunc(o.getX()));for(let T=Math.trunc(Math.trunc(o.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=v){let R=Me.detectCodeword(n,0,n.getWidth(),l,N,T,u,h);R!=null&&(m.setCodeword(T,R),l?N=R.getStartX():N=R.getEndX())}}return m}static adjustCodewordCount(n,i){let o=i[0][1],l=o.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Me.getNumberOfECCodeWords(n.getBarcodeECLevel());if(l.length===0){if(u<1||u>Re.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();o.setValue(u)}else l[0]!==u&&o.setValue(u)}static createDecoderResult(n){let i=Me.createBarcodeMatrix(n);Me.adjustCodewordCount(n,i);let o=new Array,l=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],h=new Array;for(let B=0;B<n.getBarcodeRowCount();B++)for(let v=0;v<n.getBarcodeColumnCount();v++){let N=i[B][v+1].getValue(),T=B*n.getBarcodeColumnCount()+v;N.length===0?o.push(T):N.length===1?l[T]=N[0]:(h.push(T),u.push(N))}let m=new Array(u.length);for(let B=0;B<m.length;B++)m[B]=u[B];return Me.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),l,Re.toIntArray(o),Re.toIntArray(h),m)}static createDecoderResultFromAmbiguousValues(n,i,o,l,u){let h=new Int32Array(l.length),m=100;for(;m-- >0;){for(let B=0;B<h.length;B++)i[l[B]]=u[B][h[B]];try{return Me.decodeCodewords(i,n,o)}catch(B){if(!(B instanceof E))throw B}if(h.length===0)throw E.getChecksumInstance();for(let B=0;B<h.length;B++)if(h[B]<u[B].length-1){h[B]++;break}else if(h[B]=0,B===h.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new va;let o=0;for(let l of n.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][o].setValue(u.getValue())}}}o++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,o,l){let u=l?1:-1,h=null;if(Me.isValidBarcodeColumn(n,i-u)&&(h=n.getDetectionResultColumn(i-u).getCodeword(o)),h!=null)return l?h.getEndX():h.getStartX();if(h=n.getDetectionResultColumn(i).getCodewordNearby(o),h!=null)return l?h.getStartX():h.getEndX();if(Me.isValidBarcodeColumn(n,i-u)&&(h=n.getDetectionResultColumn(i-u).getCodewordNearby(o)),h!=null)return l?h.getEndX():h.getStartX();let m=0;for(;Me.isValidBarcodeColumn(n,i-u);){i-=u;for(let B of n.getDetectionResultColumn(i).getCodewords())if(B!=null)return(l?B.getEndX():B.getStartX())+u*m*(B.getEndX()-B.getStartX());m++}return l?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,o,l,u,h,m,B){u=Me.adjustCodewordStartColumn(n,i,o,l,u,h);let v=Me.getModuleBitCount(n,i,o,l,u,h);if(v==null)return null;let N,T=He.sum(v);if(l)N=u+T;else{for(let W=0;W<v.length/2;W++){let X=v[W];v[W]=v[v.length-1-W],v[v.length-1-W]=X}N=u,u=N-T}if(!Me.checkCodewordSkew(T,m,B))return null;let R=kr.getDecodedValue(v),j=Re.getCodeword(R);return j===-1?null:new Ea(u,N,Me.getCodewordBucketNumber(R),j)}static getModuleBitCount(n,i,o,l,u,h){let m=u,B=new Int32Array(8),v=0,N=l?1:-1,T=l;for(;(l?m<o:m>=i)&&v<B.length;)n.get(m,h)===T?(B[v]++,m+=N):(v++,T=!T);return v===B.length||m===(l?o:i)&&v===B.length-1?B:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,o,l,u,h){let m=u,B=l?-1:1;for(let v=0;v<2;v++){for(;(l?m>=i:m<o)&&l===n.get(m,h);){if(Math.abs(u-m)>Me.CODEWORD_SKEW_SIZE)return u;m+=B}B=-B,l=!l}return m}static checkCodewordSkew(n,i,o){return i-Me.CODEWORD_SKEW_SIZE<=n&&n<=o+Me.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,o){if(n.length===0)throw O.getFormatInstance();let l=1<<i+1,u=Me.correctErrors(n,o,l);Me.verifyCodewordCount(n,l);let h=ne.decode(n,""+i);return h.setErrorsCorrected(u),h.setErasures(o.length),h}static correctErrors(n,i,o){if(i!=null&&i.length>o/2+Me.MAX_ERRORS||o<0||o>Me.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Me.errorCorrection.decode(n,o,i)}static verifyCodewordCount(n,i){if(n.length<4)throw O.getFormatInstance();let o=n[0];if(o>n.length)throw O.getFormatInstance();if(o===0)if(i<n.length)n[0]=n.length-i;else throw O.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),o=0,l=i.length-1;for(;!((n&1)!==o&&(o=n&1,l--,l<0));)i[l]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Me.getCodewordBucketNumber(Me.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new Ba;for(let o=0;o<n.length;o++){i.format("Row %2d: ",o);for(let l=0;l<n[o].length;l++){let u=n[o][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Me.CODEWORD_SKEW_SIZE=2,Me.MAX_ERRORS=3,Me.MAX_EC_CODEWORDS=512,Me.errorCorrection=new sg;class ur{decode(n,i=null){let o=ur.decode(n,i,!1);if(o==null||o.length===0||o[0]==null)throw V.getNotFoundInstance();return o[0]}decodeMultiple(n,i=null){try{return ur.decode(n,i,!0)}catch(o){throw o instanceof O||o instanceof E?V.getNotFoundInstance():o}}static decode(n,i,o){const l=new Array,u=je.detectMultiple(n,i,o);for(const h of u.getPoints()){const m=Me.decode(u.getBits(),h[4],h[5],h[6],h[7],ur.getMinCodewordWidth(h),ur.getMaxCodewordWidth(h)),B=new ie(m.getText(),m.getRawBytes(),void 0,h,he.PDF_417);B.putMetadata(Ne.ERROR_CORRECTION_LEVEL,m.getECLevel());const v=m.getOther();v!=null&&B.putMetadata(Ne.PDF417_EXTRA_METADATA,v),l.push(B)}return l.map(h=>h)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?b.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(ur.getMaxWidth(n[0],n[4]),ur.getMaxWidth(n[6],n[2])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN),Math.max(ur.getMaxWidth(n[1],n[5]),ur.getMaxWidth(n[7],n[3])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(ur.getMinWidth(n[0],n[4]),ur.getMinWidth(n[6],n[2])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN),Math.min(ur.getMinWidth(n[1],n[5]),ur.getMinWidth(n[7],n[3])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN)))}reset(){}}class cl extends f{}cl.kind="ReaderException";class ug{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!A(n)&&n.get(D.TRY_HARDER)===!0,o=A(n)?null:n.get(D.POSSIBLE_FORMATS),l=new Array;if(!A(o)){const u=o.some(h=>h===he.UPC_A||h===he.UPC_E||h===he.EAN_13||h===he.EAN_8||h===he.CODABAR||h===he.CODE_39||h===he.CODE_93||h===he.CODE_128||h===he.ITF||h===he.RSS_14||h===he.RSS_EXPANDED);u&&!i&&l.push(new si(n,this.verbose)),o.includes(he.QR_CODE)&&l.push(new Qn),o.includes(he.DATA_MATRIX)&&l.push(new Un),o.includes(he.AZTEC)&&l.push(new _A),o.includes(he.PDF_417)&&l.push(new ur),u&&i&&l.push(new si(n,this.verbose))}l.length===0&&(i||l.push(new si(n,this.verbose)),l.push(new Qn),l.push(new Un),l.push(new _A),l.push(new ur),i&&l.push(new si(n,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new cl("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(o){if(o instanceof cl)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class jv extends oe{constructor(n=null,i=500){const o=new ug;o.setHints(n),super(o,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Mv extends oe{constructor(n=500){super(new ur,n)}}class Hv extends oe{constructor(n=500){super(new Qn,n)}}var iu;(function(Q){Q[Q.ERROR_CORRECTION=0]="ERROR_CORRECTION",Q[Q.CHARACTER_SET=1]="CHARACTER_SET",Q[Q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Q[Q.MIN_SIZE=3]="MIN_SIZE",Q[Q.MAX_SIZE=4]="MAX_SIZE",Q[Q.MARGIN=5]="MARGIN",Q[Q.PDF417_COMPACT=6]="PDF417_COMPACT",Q[Q.PDF417_COMPACTION=7]="PDF417_COMPACTION",Q[Q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Q[Q.AZTEC_LAYERS=9]="AZTEC_LAYERS",Q[Q.QR_VERSION=10]="QR_VERSION"})(iu||(iu={}));var zt=iu;class au{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Rt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let o=i[i.length-1];const l=this.field;for(let u=i.length;u<=n;u++){const h=o.multiply(new Rt(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(h),o=h}}return i[n]}encode(n,i){if(i===0)throw new w("No error correction bytes");const o=n.length-i;if(o<=0)throw new w("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(o);I.arraycopy(n,0,u,0,o);let h=new Rt(this.field,u);h=h.multiplyByMonomial(i,1);const B=h.divide(l)[1].getCoefficients(),v=i-B.length;for(let N=0;N<v;N++)n[o+N]=0;I.arraycopy(B,0,n,o+v,B.length)}}class Ut{constructor(){}static applyMaskPenaltyRule1(n){return Ut.applyMaskPenaltyRule1Internal(n,!0)+Ut.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const o=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let h=0;h<u-1;h++){const m=o[h];for(let B=0;B<l-1;B++){const v=m[B];v===m[B+1]&&v===o[h+1][B]&&v===o[h+1][B+1]&&i++}}return Ut.N2*i}static applyMaskPenaltyRule3(n){let i=0;const o=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let h=0;h<u;h++)for(let m=0;m<l;m++){const B=o[h];m+6<l&&B[m]===1&&B[m+1]===0&&B[m+2]===1&&B[m+3]===1&&B[m+4]===1&&B[m+5]===0&&B[m+6]===1&&(Ut.isWhiteHorizontal(B,m-4,m)||Ut.isWhiteHorizontal(B,m+7,m+11))&&i++,h+6<u&&o[h][m]===1&&o[h+1][m]===0&&o[h+2][m]===1&&o[h+3][m]===1&&o[h+4][m]===1&&o[h+5][m]===0&&o[h+6][m]===1&&(Ut.isWhiteVertical(o,m,h-4,h)||Ut.isWhiteVertical(o,m,h+7,h+11))&&i++}return i*Ut.N3}static isWhiteHorizontal(n,i,o){i=Math.max(i,0),o=Math.min(o,n.length);for(let l=i;l<o;l++)if(n[l]===1)return!1;return!0}static isWhiteVertical(n,i,o,l){o=Math.max(o,0),l=Math.min(l,n.length);for(let u=o;u<l;u++)if(n[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const o=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let B=0;B<u;B++){const v=o[B];for(let N=0;N<l;N++)v[N]===1&&i++}const h=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*Ut.N4}static getDataMaskBit(n,i,o){let l,u;switch(n){case 0:l=o+i&1;break;case 1:l=o&1;break;case 2:l=i%3;break;case 3:l=(o+i)%3;break;case 4:l=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:u=o*i,l=(u&1)+u%3;break;case 6:u=o*i,l=(u&1)+u%3&1;break;case 7:u=o*i,l=u%3+(o+i&1)&1;break;default:throw new w("Invalid mask pattern: "+n)}return l===0}static applyMaskPenaltyRule1Internal(n,i){let o=0;const l=i?n.getHeight():n.getWidth(),u=i?n.getWidth():n.getHeight(),h=n.getArray();for(let m=0;m<l;m++){let B=0,v=-1;for(let N=0;N<u;N++){const T=i?h[m][N]:h[N][m];T===v?B++:(B>=5&&(o+=Ut.N1+(B-5)),B=1,v=T)}B>=5&&(o+=Ut.N1+(B-5))}return o}}Ut.N1=3,Ut.N2=3,Ut.N3=40,Ut.N4=10;class ul{constructor(n,i){this.width=n,this.height=i;const o=new Array(i);for(let l=0;l!==i;l++)o[l]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,o){this.bytes[i][n]=o}setBoolean(n,i,o){this.bytes[i][n]=o?1:0}clear(n){for(const i of this.bytes)C.fill(i,n)}equals(n){if(!(n instanceof ul))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o],h=i.bytes[o];for(let m=0,B=this.width;m<B;++m)if(u[m]!==h[m])return!1}return!0}toString(){const n=new K;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i];for(let u=0,h=this.width;u<h;++u)switch(l[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Cs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new K;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Cs.NUM_MASK_PATTERNS}}Cs.NUM_MASK_PATTERNS=8;class lt extends f{}lt.kind="WriterException";class Te{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,o,l,u){Te.clearMatrix(u),Te.embedBasicPatterns(o,u),Te.embedTypeInfo(i,l,u),Te.maybeEmbedVersionInfo(o,u),Te.embedDataBits(n,l,u)}static embedBasicPatterns(n,i){Te.embedPositionDetectionPatternsAndSeparators(i),Te.embedDarkDotAtLeftBottomCorner(i),Te.maybeEmbedPositionAdjustmentPatterns(n,i),Te.embedTimingPatterns(i)}static embedTypeInfo(n,i,o){const l=new S;Te.makeTypeInfoBits(n,i,l);for(let u=0,h=l.getSize();u<h;++u){const m=l.get(l.getSize()-1-u),B=Te.TYPE_INFO_COORDINATES[u],v=B[0],N=B[1];if(o.setBoolean(v,N,m),u<8){const T=o.getWidth()-u-1;o.setBoolean(T,8,m)}else{const R=o.getHeight()-7+(u-8);o.setBoolean(8,R,m)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const o=new S;Te.makeVersionInfoBits(n,o);let l=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const m=o.get(l);l--,i.setBoolean(u,i.getHeight()-11+h,m),i.setBoolean(i.getHeight()-11+h,u,m)}}static embedDataBits(n,i,o){let l=0,u=-1,h=o.getWidth()-1,m=o.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);m>=0&&m<o.getHeight();){for(let B=0;B<2;++B){const v=h-B;if(!Te.isEmpty(o.get(v,m)))continue;let N;l<n.getSize()?(N=n.get(l),++l):N=!1,i!==255&&Ut.getDataMaskBit(i,v,m)&&(N=!N),o.setBoolean(v,m,N)}m+=u}u=-u,m+=u,h-=2}if(l!==n.getSize())throw new lt("Not all bits consumed: "+l+"/"+n.getSize())}static findMSBSet(n){return 32-b.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new w("0 polynomial");const o=Te.findMSBSet(i);for(n<<=o-1;Te.findMSBSet(n)>=o;)n^=i<<Te.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,i,o){if(!Cs.isValidMaskPattern(i))throw new lt("Invalid mask pattern");const l=n.getBits()<<3|i;o.appendBits(l,5);const u=Te.calculateBCHCode(l,Te.TYPE_INFO_POLY);o.appendBits(u,10);const h=new S;if(h.appendBits(Te.TYPE_INFO_MASK_PATTERN,15),o.xor(h),o.getSize()!==15)throw new lt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const o=Te.calculateBCHCode(n.getVersionNumber(),Te.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new lt("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const o=(i+1)%2;Te.isEmpty(n.get(i,6))&&n.setNumber(i,6,o),Te.isEmpty(n.get(6,i))&&n.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new lt;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,o){for(let l=0;l<8;++l){if(!Te.isEmpty(o.get(n+l,i)))throw new lt;o.setNumber(n+l,i,0)}}static embedVerticalSeparationPattern(n,i,o){for(let l=0;l<7;++l){if(!Te.isEmpty(o.get(n,i+l)))throw new lt;o.setNumber(n,i+l,0)}}static embedPositionAdjustmentPattern(n,i,o){for(let l=0;l<5;++l){const u=Te.POSITION_ADJUSTMENT_PATTERN[l];for(let h=0;h<5;++h)o.setNumber(n+h,i+l,u[h])}}static embedPositionDetectionPattern(n,i,o){for(let l=0;l<7;++l){const u=Te.POSITION_DETECTION_PATTERN[l];for(let h=0;h<7;++h)o.setNumber(n+h,i+l,u[h])}}static embedPositionDetectionPatternsAndSeparators(n){const i=Te.POSITION_DETECTION_PATTERN[0].length;Te.embedPositionDetectionPattern(0,0,n),Te.embedPositionDetectionPattern(n.getWidth()-i,0,n),Te.embedPositionDetectionPattern(0,n.getWidth()-i,n);const o=8;Te.embedHorizontalSeparationPattern(0,o-1,n),Te.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),Te.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const l=7;Te.embedVerticalSeparationPattern(l,0,n),Te.embedVerticalSeparationPattern(n.getHeight()-l-1,0,n),Te.embedVerticalSeparationPattern(l,n.getHeight()-l,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,l=Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,h=l.length;u!==h;u++){const m=l[u];if(m>=0)for(let B=0;B!==h;B++){const v=l[B];v>=0&&Te.isEmpty(i.get(v,m))&&Te.embedPositionAdjustmentPattern(v-2,m-2,i)}}}}Te.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Te.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Te.VERSION_INFO_POLY=7973,Te.TYPE_INFO_POLY=1335,Te.TYPE_INFO_MASK_PATTERN=21522;class Pv{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class xt{constructor(){}static calculateMaskPenalty(n){return Ut.applyMaskPenaltyRule1(n)+Ut.applyMaskPenaltyRule2(n)+Ut.applyMaskPenaltyRule3(n)+Ut.applyMaskPenaltyRule4(n)}static encode(n,i,o=null){let l=xt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(zt.CHARACTER_SET)!==void 0;u&&(l=o.get(zt.CHARACTER_SET).toString());const h=this.chooseMode(n,l),m=new S;if(h===De.BYTE&&(u||xt.DEFAULT_BYTE_MODE_ENCODING!==l)){const pe=P.getCharacterSetECIByName(l);pe!==void 0&&this.appendECI(pe,m)}this.appendModeInfo(h,m);const B=new S;this.appendBytes(n,h,B,l);let v;if(o!==null&&o.get(zt.QR_VERSION)!==void 0){const pe=Number.parseInt(o.get(zt.QR_VERSION).toString(),10);v=Ue.getVersionForNumber(pe);const de=this.calculateBitsNeeded(h,m,B,v);if(!this.willFit(de,v,i))throw new lt("Data too big for requested version")}else v=this.recommendVersion(i,h,m,B);const N=new S;N.appendBitArray(m);const T=h===De.BYTE?B.getSizeInBytes():n.length;this.appendLengthInfo(T,v,h,N),N.appendBitArray(B);const R=v.getECBlocksForLevel(i),j=v.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(j,N);const W=this.interleaveWithECBytes(N,v.getTotalCodewords(),j,R.getNumBlocks()),X=new Cs;X.setECLevel(i),X.setMode(h),X.setVersion(v);const $=v.getDimensionForVersion(),se=new ul($,$),xe=this.chooseMaskPattern(W,i,v,se);return X.setMaskPattern(xe),Te.buildMatrix(W,i,v,xe,se),X.setMatrix(se),X}static recommendVersion(n,i,o,l){const u=this.calculateBitsNeeded(i,o,l,Ue.getVersionForNumber(1)),h=this.chooseVersion(u,n),m=this.calculateBitsNeeded(i,o,l,h);return this.chooseVersion(m,n)}static calculateBitsNeeded(n,i,o,l){return i.getSize()+n.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(n){return n<xt.ALPHANUMERIC_TABLE.length?xt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(P.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return De.KANJI;let o=!1,l=!1;for(let u=0,h=n.length;u<h;++u){const m=n.charAt(u);if(xt.isDigit(m))o=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)l=!0;else return De.BYTE}return l?De.ALPHANUMERIC:o?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=z.encode(n,P.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,i,o,l){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let m=0;m<Cs.NUM_MASK_PATTERNS;m++){Te.buildMatrix(n,i,o,m,l);let B=this.calculateMaskPenalty(l);B<u&&(u=B,h=m)}return h}static chooseVersion(n,i){for(let o=1;o<=40;o++){const l=Ue.getVersionForNumber(o);if(xt.willFit(n,l,i))return l}throw new lt("Data too big")}static willFit(n,i,o){const l=i.getTotalCodewords(),h=i.getECBlocksForLevel(o).getTotalECCodewords(),m=l-h,B=(n+7)/8;return m>=B}static terminateBits(n,i){const o=n*8;if(i.getSize()>o)throw new lt("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let h=0;h<4&&i.getSize()<o;++h)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let h=l;h<8;h++)i.appendBit(!1);const u=n-i.getSizeInBytes();for(let h=0;h<u;++h)i.appendBits(h&1?17:236,8);if(i.getSize()!==o)throw new lt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,o,l,u,h){if(l>=o)throw new lt("Block ID too large");const m=n%o,B=o-m,v=Math.floor(n/o),N=v+1,T=Math.floor(i/o),R=T+1,j=v-T,W=N-R;if(j!==W)throw new lt("EC bytes mismatch");if(o!==B+m)throw new lt("RS blocks mismatch");if(n!==(T+j)*B+(R+W)*m)throw new lt("Total bytes mismatch");l<B?(u[0]=T,h[0]=j):(u[0]=R,h[0]=W)}static interleaveWithECBytes(n,i,o,l){if(n.getSizeInBytes()!==o)throw new lt("Number of bits and data bytes does not match");let u=0,h=0,m=0;const B=new Array;for(let N=0;N<l;++N){const T=new Int32Array(1),R=new Int32Array(1);xt.getNumDataBytesAndNumECBytesForBlockID(i,o,l,N,T,R);const j=T[0],W=new Uint8Array(j);n.toBytes(8*u,W,0,j);const X=xt.generateECBytes(W,R[0]);B.push(new Pv(W,X)),h=Math.max(h,j),m=Math.max(m,X.length),u+=T[0]}if(o!==u)throw new lt("Data bytes does not match offset");const v=new S;for(let N=0;N<h;++N)for(const T of B){const R=T.getDataBytes();N<R.length&&v.appendBits(R[N],8)}for(let N=0;N<m;++N)for(const T of B){const R=T.getErrorCorrectionBytes();N<R.length&&v.appendBits(R[N],8)}if(i!==v.getSizeInBytes())throw new lt("Interleaving error: "+i+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(n,i){const o=n.length,l=new Int32Array(o+i);for(let h=0;h<o;h++)l[h]=n[h]&255;new au(ve.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let h=0;h<i;h++)u[h]=l[o+h];return u}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,o,l){const u=o.getCharacterCountBits(i);if(n>=1<<u)throw new lt(n+" is bigger than "+((1<<u)-1));l.appendBits(n,u)}static appendBytes(n,i,o,l){switch(i){case De.NUMERIC:xt.appendNumericBytes(n,o);break;case De.ALPHANUMERIC:xt.appendAlphanumericBytes(n,o);break;case De.BYTE:xt.append8BitBytes(n,o,l);break;case De.KANJI:xt.appendKanjiBytes(n,o);break;default:throw new lt("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=xt.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const o=n.length;let l=0;for(;l<o;){const u=xt.getDigit(n.charAt(l));if(l+2<o){const h=xt.getDigit(n.charAt(l+1)),m=xt.getDigit(n.charAt(l+2));i.appendBits(u*100+h*10+m,10),l+=3}else if(l+1<o){const h=xt.getDigit(n.charAt(l+1));i.appendBits(u*10+h,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(n,i){const o=n.length;let l=0;for(;l<o;){const u=xt.getAlphanumericCode(n.charCodeAt(l));if(u===-1)throw new lt;if(l+1<o){const h=xt.getAlphanumericCode(n.charCodeAt(l+1));if(h===-1)throw new lt;i.appendBits(u*45+h,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(n,i,o){let l;try{l=z.encode(n,o)}catch(u){throw new lt(u)}for(let u=0,h=l.length;u!==h;u++){const m=l[u];i.appendBits(m,8)}}static appendKanjiBytes(n,i){let o;try{o=z.encode(n,P.SJIS)}catch(u){throw new lt(u)}const l=o.length;for(let u=0;u<l;u+=2){const h=o[u]&255,m=o[u+1]&255,B=h<<8&4294967295|m;let v=-1;if(B>=33088&&B<=40956?v=B-33088:B>=57408&&B<=60351&&(v=B-49472),v===-1)throw new lt("Invalid byte sequence");const N=(v>>8)*192+(v&255);i.appendBits(N,13)}}static appendECI(n,i){i.appendBits(De.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}xt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),xt.DEFAULT_BYTE_MODE_ENCODING=P.UTF8.getName();class Es{write(n,i,o,l=null){if(n.length===0)throw new w("Found empty contents");if(i<0||o<0)throw new w("Requested dimensions are too small: "+i+"x"+o);let u=ut.L,h=Es.QUIET_ZONE_SIZE;l!==null&&(l.get(zt.ERROR_CORRECTION)!==void 0&&(u=ut.fromString(l.get(zt.ERROR_CORRECTION).toString())),l.get(zt.MARGIN)!==void 0&&(h=Number.parseInt(l.get(zt.MARGIN).toString(),10)));const m=xt.encode(n,u,l);return this.renderResult(m,i,o,h)}writeToDom(n,i,o,l,u=null){typeof n=="string"&&(n=document.querySelector(n));const h=this.write(i,o,l,u);n&&n.appendChild(h)}renderResult(n,i,o,l){const u=n.getMatrix();if(u===null)throw new nt;const h=u.getWidth(),m=u.getHeight(),B=h+l*2,v=m+l*2,N=Math.max(i,B),T=Math.max(o,v),R=Math.min(Math.floor(N/B),Math.floor(T/v)),j=Math.floor((N-h*R)/2),W=Math.floor((T-m*R)/2),X=this.createSVGElement(N,T);for(let $=0,se=W;$<m;$++,se+=R)for(let xe=0,pe=j;xe<h;xe++,pe+=R)if(u.get(xe,$)===1){const de=this.createSvgRectElement(pe,se,R,R);X.appendChild(de)}return X}createSVGElement(n,i){const o=document.createElementNS(Es.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(n,i,o,l){const u=document.createElementNS(Es.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Es.QUIET_ZONE_SIZE=4,Es.SVG_NS="http://www.w3.org/2000/svg";class ai{encode(n,i,o,l,u){if(n.length===0)throw new w("Found empty contents");if(i!==he.QR_CODE)throw new w("Can only encode QR_CODE, but got "+i);if(o<0||l<0)throw new w(`Requested dimensions are too small: ${o}x${l}`);let h=ut.L,m=ai.QUIET_ZONE_SIZE;u!==null&&(u.get(zt.ERROR_CORRECTION)!==void 0&&(h=ut.fromString(u.get(zt.ERROR_CORRECTION).toString())),u.get(zt.MARGIN)!==void 0&&(m=Number.parseInt(u.get(zt.MARGIN).toString(),10)));const B=xt.encode(n,h,u);return ai.renderResult(B,o,l,m)}static renderResult(n,i,o,l){const u=n.getMatrix();if(u===null)throw new nt;const h=u.getWidth(),m=u.getHeight(),B=h+l*2,v=m+l*2,N=Math.max(i,B),T=Math.max(o,v),R=Math.min(Math.floor(N/B),Math.floor(T/v)),j=Math.floor((N-h*R)/2),W=Math.floor((T-m*R)/2),X=new q(N,T);for(let $=0,se=W;$<m;$++,se+=R)for(let xe=0,pe=j;xe<h;xe++,pe+=R)u.get(xe,$)===1&&X.setRegion(pe,se,R,R);return X}}ai.QUIET_ZONE_SIZE=4;class Kv{encode(n,i,o,l,u){let h;switch(i){case he.QR_CODE:h=new ai;break;default:throw new w("No encoder available for format "+i)}return h.encode(n,i,o,l,u)}}class WA extends Z{constructor(n,i,o,l,u,h,m,B){if(super(h,m),this.yuvData=n,this.dataWidth=i,this.dataHeight=o,this.left=l,this.top=u,l+h>i||u+m>o)throw new w("Crop rectangle does not fit within image data.");B&&this.reverseHorizontal(h,m)}getRow(n,i){if(n<0||n>=this.getHeight())throw new w("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(n+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,l,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=n*i,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return I.arraycopy(this.yuvData,u,l,0,o),l;for(let h=0;h<i;h++){const m=h*n;I.arraycopy(this.yuvData,u,l,m,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,i,o,l){return new WA(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,o,l,!1)}renderThumbnail(){const n=this.getWidth()/WA.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/WA.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const m=h*n;for(let B=0;B<n;B++){const v=l[u+B*WA.THUMBNAIL_SCALE_FACTOR]&255;o[m+B]=4278190080|v*65793}u+=this.dataWidth*WA.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/WA.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/WA.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const o=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const h=u+n/2;for(let m=u,B=u+n-1;m<h;m++,B--){const v=o[m];o[m]=o[B],o[B]=v}}}invert(){return new ee(this)}}WA.THUMBNAIL_SCALE_FACTOR=2;class ou extends Z{constructor(n,i,o,l,u,h,m){if(super(i,o),this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=m,n.BYTES_PER_ELEMENT===4){const B=i*o,v=new Uint8ClampedArray(B);for(let N=0;N<B;N++){const T=n[N],R=T>>16&255,j=T>>7&510,W=T&255;v[N]=(R+j+W)/4&255}this.luminances=v}else this.luminances=n;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=o),h===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new w("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(n+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,l,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=n*i,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return I.arraycopy(this.luminances,u,l,0,o),l;for(let h=0;h<i;h++){const m=h*n;I.arraycopy(this.luminances,u,l,m,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,i,o,l){return new ou(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new ee(this)}}class dg extends P{static forName(n){return this.getCharacterSetECIByName(n)}}class lu{}lu.ISO_8859_1=P.ISO8859_1;class hg{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class fg{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class Vv{constructor(n){this.previous=n}getPrevious(){return this.previous}}class oi extends Vv{constructor(n,i,o){super(n),this.value=i,this.bitCount=o}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new oi(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new oi(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+b.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class cu extends oi{constructor(n,i,o){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(n,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(n,i){return new cu(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Gv(Q,n,i){return new cu(Q,n,i)}function ba(Q,n,i){return new oi(Q,n,i)}const zv=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Tn=0,dl=1,hA=2,gg=3,XA=4,Wv=new oi(null,0,0),uu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Xv(Q){for(let n of Q)C.fill(n,-1);return Q[Tn][XA]=0,Q[dl][XA]=0,Q[dl][Tn]=28,Q[gg][XA]=0,Q[hA][XA]=0,Q[hA][Tn]=15,Q}const xg=Xv(C.createInt32Array(6,6));class YA{constructor(n,i,o,l){this.token=n,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let o=this.bitCount,l=this.token;if(n!==this.mode){let h=uu[this.mode][n];l=ba(l,h&65535,h>>16),o+=h>>16}let u=n===hA?4:5;return l=ba(l,i,u),new YA(l,n,0,o+u)}shiftAndAppend(n,i){let o=this.token,l=this.mode===hA?4:5;return o=ba(o,xg[this.mode][n],l),o=ba(o,i,5),new YA(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(n){let i=this.token,o=this.mode,l=this.bitCount;if(this.mode===XA||this.mode===hA){let m=uu[o][Tn];i=ba(i,m&65535,m>>16),l+=m>>16,o=Tn}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new YA(i,o,this.binaryShiftByteCount+1,l+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(n+1)),h}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Gv(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new YA(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(uu[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=YA.calculateBinaryShiftCost(n)-YA.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let l=this.endBinaryShift(n.length).token;l!==null;l=l.getPrevious())i.unshift(l);let o=new S;for(const l of i)l.appendTo(o,n);return o}toString(){return Y.format("%s bits=%d bytes=%d",zv[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}YA.INITIAL_STATE=new YA(Wv,Tn,0,0);function Yv(Q){const n=Y.getCharCode(" "),i=Y.getCharCode("."),o=Y.getCharCode(",");Q[Tn][n]=1;const l=Y.getCharCode("Z"),u=Y.getCharCode("A");for(let R=u;R<=l;R++)Q[Tn][R]=R-u+2;Q[dl][n]=1;const h=Y.getCharCode("z"),m=Y.getCharCode("a");for(let R=m;R<=h;R++)Q[dl][R]=R-m+2;Q[hA][n]=1;const B=Y.getCharCode("9"),v=Y.getCharCode("0");for(let R=v;R<=B;R++)Q[hA][R]=R-v+2;Q[hA][o]=12,Q[hA][i]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<N.length;R++)Q[gg][Y.getCharCode(N[R])]=R;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<T.length;R++)Y.getCharCode(T[R])>0&&(Q[XA][Y.getCharCode(T[R])]=R);return Q}const du=Yv(C.createInt32Array(5,256));class Fa{constructor(n){this.text=n}encode(){const n=Y.getCharCode(" "),i=Y.getCharCode(`
`);let o=fg.singletonList(YA.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Y.getCharCode("\r"):h=m===i?2:0;break;case Y.getCharCode("."):h=m===n?3:0;break;case Y.getCharCode(","):h=m===n?4:0;break;case Y.getCharCode(":"):h=m===n?5:0;break;default:h=0}h>0?(o=Fa.updateStateListForPair(o,u,h),u++):o=this.updateStateListForChar(o,u)}return fg.min(o,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const o=[];for(let l of n)this.updateStateForChar(l,i,o);return Fa.simplifyStates(o)}updateStateForChar(n,i,o){let l=this.text[i]&255,u=du[n.getMode()][l]>0,h=null;for(let m=0;m<=XA;m++){let B=du[m][l];if(B>0){if(h==null&&(h=n.endBinaryShift(i)),!u||m===n.getMode()||m===hA){const v=h.latchAndAppend(m,B);o.push(v)}if(!u&&xg[n.getMode()][m]>=0){const v=h.shiftAndAppend(m,B);o.push(v)}}}if(n.getBinaryShiftByteCount()>0||du[n.getMode()][l]===0){let m=n.addBinaryShiftChar(i);o.push(m)}}static updateStateListForPair(n,i,o){const l=[];for(let u of n)this.updateStateForPair(u,i,o,l);return this.simplifyStates(l)}static updateStateForPair(n,i,o,l){let u=n.endBinaryShift(i);if(l.push(u.latchAndAppend(XA,o)),n.getMode()!==XA&&l.push(u.shiftAndAppend(XA,o)),o===3||o===4){let h=u.latchAndAppend(hA,16-o).latchAndAppend(hA,1);l.push(h)}if(n.getBinaryShiftByteCount()>0){let h=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(h)}}static simplifyStates(n){let i=[];for(const o of n){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(u)&&(i=i.filter(h=>h!==u))}l&&i.push(o)}return i}}class Ze{constructor(){}static encodeBytes(n){return Ze.encode(n,Ze.DEFAULT_EC_PERCENT,Ze.DEFAULT_AZTEC_LAYERS)}static encode(n,i,o){let l=new Fa(n).encode(),u=b.truncDivision(l.getSize()*i,100)+11,h=l.getSize()+u,m,B,v,N,T;if(o!==Ze.DEFAULT_AZTEC_LAYERS){if(m=o<0,B=Math.abs(o),B>(m?Ze.MAX_NB_BITS_COMPACT:Ze.MAX_NB_BITS))throw new w(Y.format("Illegal value %s for layers",o));v=Ze.totalBitsInLayer(B,m),N=Ze.WORD_SIZE[B];let de=v-v%N;if(T=Ze.stuffBits(l,N),T.getSize()+u>de)throw new w("Data to large for user specified layer");if(m&&T.getSize()>N*64)throw new w("Data to large for user specified layer")}else{N=0,T=null;for(let de=0;;de++){if(de>Ze.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(m=de<=3,B=m?de+1:de,v=Ze.totalBitsInLayer(B,m),h>v)continue;(T==null||N!==Ze.WORD_SIZE[B])&&(N=Ze.WORD_SIZE[B],T=Ze.stuffBits(l,N));let Ve=v-v%N;if(!(m&&T.getSize()>N*64)&&T.getSize()+u<=Ve)break}}let R=Ze.generateCheckWords(T,v,N),j=T.getSize()/N,W=Ze.generateModeMessage(m,B,j),X=(m?11:14)+B*4,$=new Int32Array(X),se;if(m){se=X;for(let de=0;de<$.length;de++)$[de]=de}else{se=X+1+2*b.truncDivision(b.truncDivision(X,2)-1,15);let de=b.truncDivision(X,2),Ve=b.truncDivision(se,2);for(let ke=0;ke<de;ke++){let Lr=ke+b.truncDivision(ke,15);$[de-ke-1]=Ve-Lr-1,$[de+ke]=Ve+Lr+1}}let xe=new q(se);for(let de=0,Ve=0;de<B;de++){let ke=(B-de)*4+(m?9:12);for(let Lr=0;Lr<ke;Lr++){let NA=Lr*2;for(let jr=0;jr<2;jr++)R.get(Ve+NA+jr)&&xe.set($[de*2+jr],$[de*2+Lr]),R.get(Ve+ke*2+NA+jr)&&xe.set($[de*2+Lr],$[X-1-de*2-jr]),R.get(Ve+ke*4+NA+jr)&&xe.set($[X-1-de*2-jr],$[X-1-de*2-Lr]),R.get(Ve+ke*6+NA+jr)&&xe.set($[X-1-de*2-Lr],$[de*2+jr])}Ve+=ke*8}if(Ze.drawModeMessage(xe,m,se,W),m)Ze.drawBullsEye(xe,b.truncDivision(se,2),5);else{Ze.drawBullsEye(xe,b.truncDivision(se,2),7);for(let de=0,Ve=0;de<b.truncDivision(X,2)-1;de+=15,Ve+=16)for(let ke=b.truncDivision(se,2)&1;ke<se;ke+=2)xe.set(b.truncDivision(se,2)-Ve,ke),xe.set(b.truncDivision(se,2)+Ve,ke),xe.set(ke,b.truncDivision(se,2)-Ve),xe.set(ke,b.truncDivision(se,2)+Ve)}let pe=new hg;return pe.setCompact(m),pe.setSize(se),pe.setLayers(B),pe.setCodeWords(j),pe.setMatrix(xe),pe}static drawBullsEye(n,i,o){for(let l=0;l<o;l+=2)for(let u=i-l;u<=i+l;u++)n.set(u,i-l),n.set(u,i+l),n.set(i-l,u),n.set(i+l,u);n.set(i-o,i-o),n.set(i-o+1,i-o),n.set(i-o,i-o+1),n.set(i+o,i-o),n.set(i+o,i-o+1),n.set(i+o,i+o-1)}static generateModeMessage(n,i,o){let l=new S;return n?(l.appendBits(i-1,2),l.appendBits(o-1,6),l=Ze.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(o-1,11),l=Ze.generateCheckWords(l,40,4)),l}static drawModeMessage(n,i,o,l){let u=b.truncDivision(o,2);if(i)for(let h=0;h<7;h++){let m=u-3+h;l.get(h)&&n.set(m,u-5),l.get(h+7)&&n.set(u+5,m),l.get(20-h)&&n.set(m,u+5),l.get(27-h)&&n.set(u-5,m)}else for(let h=0;h<10;h++){let m=u-5+h+b.truncDivision(h,5);l.get(h)&&n.set(m,u-7),l.get(h+10)&&n.set(u+7,m),l.get(29-h)&&n.set(m,u+7),l.get(39-h)&&n.set(u-7,m)}}static generateCheckWords(n,i,o){let l=n.getSize()/o,u=new au(Ze.getGF(o)),h=b.truncDivision(i,o),m=Ze.bitsToWords(n,o,h);u.encode(m,h-l);let B=i%o,v=new S;v.appendBits(0,B);for(const N of Array.from(m))v.appendBits(N,o);return v}static bitsToWords(n,i,o){let l=new Int32Array(o),u,h;for(u=0,h=n.getSize()/i;u<h;u++){let m=0;for(let B=0;B<i;B++)m|=n.get(u*i+B)?1<<i-B-1:0;l[u]=m}return l}static getGF(n){switch(n){case 4:return ve.AZTEC_PARAM;case 6:return ve.AZTEC_DATA_6;case 8:return ve.AZTEC_DATA_8;case 10:return ve.AZTEC_DATA_10;case 12:return ve.AZTEC_DATA_12;default:throw new w("Unsupported word size "+n)}}static stuffBits(n,i){let o=new S,l=n.getSize(),u=(1<<i)-2;for(let h=0;h<l;h+=i){let m=0;for(let B=0;B<i;B++)(h+B>=l||n.get(h+B))&&(m|=1<<i-1-B);(m&u)===u?(o.appendBits(m&u,i),h--):m&u?o.appendBits(m,i):(o.appendBits(m|1,i),h--)}return o}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Ze.DEFAULT_EC_PERCENT=33,Ze.DEFAULT_AZTEC_LAYERS=0,Ze.MAX_NB_BITS=32,Ze.MAX_NB_BITS_COMPACT=4,Ze.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class hl{encode(n,i,o,l){return this.encodeWithHints(n,i,o,l,null)}encodeWithHints(n,i,o,l,u){let h=lu.ISO_8859_1,m=Ze.DEFAULT_EC_PERCENT,B=Ze.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(zt.CHARACTER_SET)&&(h=dg.forName(u.get(zt.CHARACTER_SET).toString())),u.has(zt.ERROR_CORRECTION)&&(m=b.parseInt(u.get(zt.ERROR_CORRECTION).toString())),u.has(zt.AZTEC_LAYERS)&&(B=b.parseInt(u.get(zt.AZTEC_LAYERS).toString()))),hl.encodeLayers(n,i,o,l,h,m,B)}static encodeLayers(n,i,o,l,u,h,m){if(i!==he.AZTEC)throw new w("Can only encode AZTEC, but got "+i);let B=Ze.encode(Y.getBytes(n,u),h,m);return hl.renderResult(B,o,l)}static renderResult(n,i,o){let l=n.getMatrix();if(l==null)throw new nt;let u=l.getWidth(),h=l.getHeight(),m=Math.max(i,u),B=Math.max(o,h),v=Math.min(m/u,B/h),N=(m-u*v)/2,T=(B-h*v)/2,R=new q(m,B);for(let j=0,W=T;j<h;j++,W+=v)for(let X=0,$=N;X<u;X++,$+=v)l.get(X,j)&&R.setRegion($,W,v,v);return R}}r.AbstractExpandedDecoder=$0,r.ArgumentException=p,r.ArithmeticException=Se,r.AztecCode=hg,r.AztecCodeReader=_A,r.AztecCodeWriter=hl,r.AztecDecoder=We,r.AztecDetector=xa,r.AztecDetectorResult=IA,r.AztecEncoder=Ze,r.AztecHighLevelEncoder=Fa,r.AztecPoint=$t,r.BarcodeFormat=he,r.Binarizer=F,r.BinaryBitmap=y,r.BitArray=S,r.BitMatrix=q,r.BitSource=tu,r.BrowserAztecCodeReader=Bs,r.BrowserBarcodeReader=Fv,r.BrowserCodeReader=oe,r.BrowserDatamatrixCodeReader=_v,r.BrowserMultiFormatReader=jv,r.BrowserPDF417Reader=Mv,r.BrowserQRCodeReader=Hv,r.BrowserQRCodeSvgWriter=Es,r.CharacterSetECI=P,r.ChecksumException=E,r.Code128Reader=me,r.Code39Reader=Nt,r.DataMatrixDecodedBitStreamParser=Sn,r.DataMatrixReader=Un,r.DecodeHintType=D,r.DecoderResult=Yr,r.DefaultGridSampler=Fn,r.DetectorResult=or,r.EAN13Reader=VA,r.EncodeHintType=zt,r.Exception=f,r.FormatException=O,r.GenericGF=ve,r.GenericGFPoly=Rt,r.GlobalHistogramBinarizer=Ae,r.GridSampler=ti,r.GridSamplerInstance=KA,r.HTMLCanvasElementLuminanceSource=le,r.HybridBinarizer=ae,r.ITFReader=st,r.IllegalArgumentException=w,r.IllegalStateException=nt,r.InvertedLuminanceSource=ee,r.LuminanceSource=Z,r.MathUtils=He,r.MultiFormatOneDReader=si,r.MultiFormatReader=ug,r.MultiFormatWriter=Kv,r.NotFoundException=V,r.OneDReader=_t,r.PDF417DecodedBitStreamParser=ne,r.PDF417DecoderErrorCorrection=sg,r.PDF417Reader=ur,r.PDF417ResultMetadata=ag,r.PerspectiveTransform=qt,r.PlanarYUVLuminanceSource=WA,r.QRCodeByteMatrix=ul,r.QRCodeDataMask=uA,r.QRCodeDecodedBitStreamParser=Et,r.QRCodeDecoderErrorCorrectionLevel=ut,r.QRCodeDecoderFormatInformation=wr,r.QRCodeEncoder=xt,r.QRCodeEncoderQRCode=Cs,r.QRCodeMaskUtil=Ut,r.QRCodeMatrixUtil=Te,r.QRCodeMode=De,r.QRCodeReader=Qn,r.QRCodeVersion=Ue,r.QRCodeWriter=ai,r.RGBLuminanceSource=ou,r.RSS14Reader=St,r.RSSExpandedReader=ue,r.ReaderException=cl,r.ReedSolomonDecoder=Tr,r.ReedSolomonEncoder=au,r.ReedSolomonException=qe,r.Result=ie,r.ResultMetadataType=Ne,r.ResultPoint=Be,r.StringUtils=Y,r.UnsupportedOperationException=M,r.VideoInputDevice=te,r.WhiteRectangleDetector=Rr,r.WriterException=lt,r.ZXingArrays=C,r.ZXingCharset=dg,r.ZXingInteger=b,r.ZXingStandardCharsets=lu,r.ZXingStringBuilder=K,r.ZXingStringEncoding=z,r.ZXingSystem=I,r.createAbstractExpandedDecoder=Ag,Object.defineProperty(r,"__esModule",{value:!0})})})(kf,kf.exports);var mt=kf.exports;const yU=Zm(mt),vU=$m({__proto__:null,default:yU},[mt]);var Vm=function(){function e(t,r,A){if(this.formatMap=new Map([[Ie.QR_CODE,mt.BarcodeFormat.QR_CODE],[Ie.AZTEC,mt.BarcodeFormat.AZTEC],[Ie.CODABAR,mt.BarcodeFormat.CODABAR],[Ie.CODE_39,mt.BarcodeFormat.CODE_39],[Ie.CODE_93,mt.BarcodeFormat.CODE_93],[Ie.CODE_128,mt.BarcodeFormat.CODE_128],[Ie.DATA_MATRIX,mt.BarcodeFormat.DATA_MATRIX],[Ie.MAXICODE,mt.BarcodeFormat.MAXICODE],[Ie.ITF,mt.BarcodeFormat.ITF],[Ie.EAN_13,mt.BarcodeFormat.EAN_13],[Ie.EAN_8,mt.BarcodeFormat.EAN_8],[Ie.PDF_417,mt.BarcodeFormat.PDF_417],[Ie.RSS_14,mt.BarcodeFormat.RSS_14],[Ie.RSS_EXPANDED,mt.BarcodeFormat.RSS_EXPANDED],[Ie.UPC_A,mt.BarcodeFormat.UPC_A],[Ie.UPC_E,mt.BarcodeFormat.UPC_E],[Ie.UPC_EAN_EXTENSION,mt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!vU)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=A;var s=this.createZXingFormats(t),a=new Map;a.set(mt.DecodeHintType.POSSIBLE_FORMATS,s),a.set(mt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(A,s){try{A(r.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var r=new mt.MultiFormatReader(this.verbose,this.hints),A=new mt.HTMLCanvasElementLuminanceSource(t),s=new mt.BinaryBitmap(new mt.HybridBinarizer(A)),a=r.decode(s);return{text:a.text,format:Bv.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,A,s){t.set(r,A)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],A=0,s=t;A<s.length;A++){var a=s[A];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),CU=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})},EU=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},A,s,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(f){return function(p){return g([f,p])}}function g(f){if(A)throw new TypeError("Generator is already executing.");for(;d&&(d=0,f[0]&&(r=0)),r;)try{if(A=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],s=0}finally{A=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Gm=function(){function e(t,r,A){if(this.formatMap=new Map([[Ie.QR_CODE,"qr_code"],[Ie.AZTEC,"aztec"],[Ie.CODABAR,"codabar"],[Ie.CODE_39,"code_39"],[Ie.CODE_93,"code_93"],[Ie.CODE_128,"code_128"],[Ie.DATA_MATRIX,"data_matrix"],[Ie.ITF,"itf"],[Ie.EAN_13,"ean_13"],[Ie.EAN_8,"ean_8"],[Ie.PDF_417,"pdf417"],[Ie.UPC_A,"upc_a"],[Ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=A;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return CU(this,void 0,void 0,function(){var r,A;return EU(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return A=this.selectLargestBarcode(r),[2,{text:A.rawValue,format:Bv.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,A=0,s=0,a=t;s<a.length;s++){var d=a[s],x=d.boundingBox.width*d.boundingBox.height;x>A&&(A=x,r=d)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],A=0,s=t;A<s.length;A++){var a=s[A];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,A,s){t.set(r,A)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),zm=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})},Wm=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},A,s,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(f){return function(p){return g([f,p])}}function g(f){if(A)throw new TypeError("Generator is already executing.");for(;d&&(d=0,f[0]&&(r=0)),r;)try{if(A=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],s=0}finally{A=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},bU=function(){function e(t,r,A,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=A,r&&Gm.isSupported()?(this.primaryDecoder=new Gm(t,A,s),this.secondaryDecoder=new Vm(t,A,s)):this.primaryDecoder=new Vm(t,A,s)}return e.prototype.decodeAsync=function(t){return zm(this,void 0,void 0,function(){var r;return Wm(this,function(A){switch(A.label){case 0:r=performance.now(),A.label=1;case 1:return A.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,A.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return zm(this,void 0,void 0,function(){var r,A;return Wm(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(A=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw A;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,A=this.executionResults;r<A.length;r++){var s=A[r];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),rg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,s){A.__proto__=s}||function(A,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(A[a]=s[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function A(){this.constructor=t}t.prototype=r===null?Object.create(r):(A.prototype=r.prototype,new A)}}(),d0=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})},h0=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},A,s,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(f){return function(p){return g([f,p])}}function g(f){if(A)throw new TypeError("Generator is already executing.");for(;d&&(d=0,f[0]&&(r=0)),r;)try{if(A=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],s=0}finally{A=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},vv=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var A={advanced:[r]};return this.track.applyConstraints(A)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),FU=function(e){rg(t,e);function t(r,A){return e.call(this,r,A)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var A={};A[this.name]=r;var s={advanced:[A]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),A=r[this.name];return{min:A.min,max:A.max,step:A.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(vv),IU=function(e){rg(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(FU),_U=function(e){rg(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(vv),NU=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new IU(this.track)},e.prototype.torchFeature=function(){return new _U(this.track)},e}(),SU=function(){function e(t,r,A){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=A,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var A=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(A,s),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,A,s){return d0(this,void 0,void 0,function(){var a,d;return h0(this,function(x){switch(x.label){case 0:return a=new e(t,r,s),A.aspectRatio?(d={aspectRatio:A.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:x.sent(),x.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,A=function(){setTimeout(t,200),r.surface.removeEventListener("playing",A)};this.surface.addEventListener("playing",A),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return d0(this,void 0,void 0,function(){return h0(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,A){var s=t.mediaStream.getVideoTracks(),a=s.length,d=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++d,d>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new NU(this.getFirstTrackOrFail())},e}(),UU=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,A){return d0(this,void 0,void 0,function(){return h0(this,function(s){return[2,SU.create(t,this.mediaStream,r,A)]})})},e.create=function(t){return d0(this,void 0,void 0,function(){var r,A;return h0(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return A=s.sent(),[2,new e(A)]}})})},e}(),Xm=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})},Ym=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},A,s,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(f){return function(p){return g([f,p])}}function g(f){if(A)throw new TypeError("Generator is already executing.");for(;d&&(d=0,f[0]&&(r=0)),r;)try{if(A=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],s=0}finally{A=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},QU=function(){function e(){}return e.failIfNotSupported=function(){return Xm(this,void 0,void 0,function(){return Ym(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Xm(this,void 0,void 0,function(){return Ym(this,function(r){return[2,UU.create(t)]})})},e}(),DU=function(e,t,r,A){function s(a){return a instanceof r?a:new r(function(d){d(a)})}return new(r||(r=Promise))(function(a,d){function x(p){try{f(A.next(p))}catch(w){d(w)}}function g(p){try{f(A.throw(p))}catch(w){d(w)}}function f(p){p.done?a(p.value):s(p.value).then(x,g)}f((A=A.apply(e,t||[])).next())})},TU=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},A,s,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(f){return function(p){return g([f,p])}}function g(f){if(A)throw new TypeError("Generator is already executing.");for(;d&&(d=0,f[0]&&(r=0)),r;)try{if(A=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],s=0}finally{A=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},RU=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Mi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Mi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return DU(this,void 0,void 0,function(){var t,r,A,s,a,d,x;return TU(this,function(g){switch(g.label){case 0:return t=function(f){for(var p=f.getVideoTracks(),w=0,y=p;w<y.length;w++){var E=y[w];E.enabled=!1,E.stop(),f.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(A=g.sent(),s=[],a=0,d=A;a<d.length;a++)x=d[a],x.kind==="videoinput"&&s.push({id:x.deviceId,label:x.label});return t(r),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var A=function(a){for(var d=[],x=0,g=a;x<g.length;x++){var f=g[x];f.kind==="video"&&d.push({id:f.id,label:f.label})}t(d)},s=MediaStreamTrack;s.getSources(A)})},e}(),Dt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Dt||(Dt={}));var OU=function(){function e(){this.state=Dt.NOT_STARTED,this.onGoingTransactionNewState=Dt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Dt.UNKNOWN:throw"Transition from unknown is not allowed";case Dt.NOT_STARTED:this.failIfNewStateIs(t,[Dt.PAUSED]);break;case Dt.SCANNING:break;case Dt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var A=0,s=r;A<s.length;A++){var a=s[A];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),kU=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Dt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Dt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Dt.PAUSED},e}(),LU=function(){function e(){}return e.create=function(){return new kU(new OU)},e}(),jU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,s){A.__proto__=s}||function(A,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(A[a]=s[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function A(){this.constructor=t}t.prototype=r===null?Object.create(r):(A.prototype=r.prototype,new A)}}(),eA=function(e){jU(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(mU),MU=function(){function e(t,r){this.logger=r,this.fps=eA.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=eA.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?yv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!cn(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),HU=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var A;typeof r=="boolean"?this.verbose=r===!0:r&&(A=r,this.verbose=A.verbose===!0,A.experimentalFeatures),this.logger=new BU(this.verbose),this.qrcode=new bU(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(A),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=LU.create()}return e.prototype.start=function(t,r,A,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!A||typeof A!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;s?d=s:d=this.verbose?this.logger.log:function(){};var x=MU.create(r,this.logger);this.clearElement();var g=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=g,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:eA.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var w=this,y=this.stateManagerProxy.startTransition(Dt.SCANNING);return new Promise(function(E,F){var I=f?x.videoConstraints:w.createVideoConstraints(t);if(!I){y.cancel(),F("videoConstraints should be defined");return}var U={};(!f||x.aspectRatio)&&(U.aspectRatio=x.aspectRatio);var _={onRenderSurfaceReady:function(C,b){w.setupUi(C,b,x),w.isScanning=!0,w.foreverScan(x,A,d)}};QU.failIfNotSupported().then(function(C){C.create(I).then(function(b){return b.render(a.element,U,_).then(function(S){w.renderedCamera=S,y.execute(),E(null)}).catch(function(S){y.cancel(),F(S)})}).catch(function(b){y.cancel(),F(Mi.errorGettingUserMedia(b))})}).catch(function(C){y.cancel(),F(Mi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dt.PAUSED),this.showPausedState(),(cn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Dt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var A=function(){if(t.element){var a=document.getElementById(eA.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),A(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(A){return A.decodedText})},e.prototype.scanFileV2=function(t,r){var A=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cn(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){A.possiblyCloseLastScanImageFile(),A.clearElement(),A.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var x=d.width,g=d.height,f=document.getElementById(A.elementId),p=f.clientWidth?f.clientWidth:eA.DEFAULT_WIDTH,w=Math.max(f.clientHeight?f.clientHeight:g,eA.FILE_SCAN_MIN_HEIGHT),y=A.computeCanvasDrawConfig(x,g,p,w);if(r){var E=A.createCanvasElement(p,w,"qr-canvas-visible");E.style.display="inline-block",f.appendChild(E);var F=E.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=p,F.canvas.height=w,F.drawImage(d,0,0,x,g,y.x,y.y,y.width,y.height)}var I=eA.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(d.width,y.width),_=Math.max(d.height,y.height),C=U+2*I,b=_+2*I,S=A.createCanvasElement(C,b);f.appendChild(S);var k=S.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=C,k.canvas.height=b,k.drawImage(d,0,0,x,g,I,I,U,_);try{A.qrcode.decodeRobustlyAsync(S).then(function(D){s(Km.createFromQrcodeResult(D))}).catch(a)}catch(D){a("QR code parse error, error = ".concat(D))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return RU.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!yv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ie.QR_CODE,Ie.AZTEC,Ie.CODABAR,Ie.CODE_39,Ie.CODE_93,Ie.CODE_128,Ie.DATA_MATRIX,Ie.MAXICODE,Ie.ITF,Ie.EAN_13,Ie.EAN_8,Ie.PDF_417,Ie.RSS_14,Ie.RSS_EXPANDED,Ie.UPC_A,Ie.UPC_E,Ie.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var A=[],s=0,a=t.formatsToSupport;s<a.length;s++){var d=a[s];pU(d)?A.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(A.length===0)throw"None of formatsToSupport match supported values.";return A},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(cn(t))return!0;if(!cn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(cn(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return cn(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,A){var s=this,a=A.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(t,r,a),x=function(f){if(f<eA.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(eA.MIN_QR_BOX_SIZE,"px.")},g=function(f){return f>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};x(d.width),x(d.height),d.width=g(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,A){if(typeof A=="number")return{width:A,height:A};if(typeof A=="function")try{return A(t,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return A},e.prototype.setupUi=function(t,r,A){A.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,A);var s=cn(A.qrbox)?{width:t,height:r}:A.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,r,s);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=A.isShadedBoxEnabled()&&a.height<=r,x={x:0,y:0,width:t,height:r},g=d?this.getShadedRegionBounds(t,r,a):x,f=this.createCanvasElement(g.width,g.height),p={willReadFrequently:!0},w=f.getContext("2d",p);w.canvas.width=g.width,w.canvas.height=g.height,this.element.append(f),d&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=w,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Mi.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var A=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Km.createFromQrcodeResult(s)),A.possiblyUpdateShaders(!0),!0}).catch(function(s){A.possiblyUpdateShaders(!1);var a=Mi.codeParseError(s);return r(a,wU.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,A){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,x=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*d,f=this.qrRegion.height*x,p=this.qrRegion.x*d,w=this.qrRegion.y*x;this.context.drawImage(a,p,w,g,f,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,r,A)},s.getTimeoutFps(t.fps))};this.scanContext(r,A).then(function(E){!E&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,A).finally(function(){y()})):y()}).catch(function(E){s.logger.logError("Error happend while scanning context",E),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",A="deviceId",s={user:!0,environment:!0},a="exact",d=function(F){if(F in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(F,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var g=Object.keys(t)[0];if(g!==r&&g!==A)throw"Only '".concat(r,"' and '").concat(A,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var f=t.facingMode;if(typeof f=="string"){if(d(f))return{facingMode:f}}else if(typeof f=="object")if(a in f){if(d(f["".concat(a)]))return{facingMode:{exact:f["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var p=typeof f;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var y=typeof w;throw"Invalid type of 'deviceId' = ".concat(y)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,r,A,s){if(t<=A&&r<=s){var a=(A-t)/2,d=(s-r)/2;return{x:a,y:d,width:t,height:r}}else{var x=t,g=r;return t>A&&(r=A/t*r,t=A),r>s&&(t=s/r*t,r=s),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(g)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,A,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?eA.BORDER_SHADER_MATCH_COLOR:eA.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,A){var s=t,a=r,d=document.createElement("canvas");return d.style.width="".concat(s,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=cn(A)?"qr-canvas":A,d},e.prototype.getShadedRegionBounds=function(t,r,A){if(A.width>t||A.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-A.width)/2,y:(r-A.height)/2,width:A.width,height:A.height}},e.prototype.possiblyInsertShadingElement=function(t,r,A,s){if(!(r-s.width<1||A-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(r-s.width)/2,x=(A-s.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(eA.SHADED_REGION_ELEMENT_ID),r-s.width<11||A-s.height<11)this.hasBorderShaders=!1;else{var g=5,f=40;this.insertShaderBorders(a,f,g,-g,null,0,!0),this.insertShaderBorders(a,f,g,-g,null,0,!1),this.insertShaderBorders(a,f,g,null,-g,0,!0),this.insertShaderBorders(a,f,g,null,-g,0,!1),this.insertShaderBorders(a,g,f+g,-g,null,-g,!0),this.insertShaderBorders(a,g,f+g,null,-g,-g,!0),this.insertShaderBorders(a,g,f+g,-g,null,-g,!1),this.insertShaderBorders(a,g,f+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,A,s,a,d,x){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=eA.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(A,"px"),s!==null&&(g.style.top="".concat(s,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),x?g.style.left="".concat(d,"px"):g.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),qm;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(qm||(qm={}));const PU=({onScanSuccess:e,onScanError:t})=>{const[r,A]=G.useState(!1),[s,a]=G.useState(null),d="qr-reader";G.useEffect(()=>{const f=new HU(d);return a(f),()=>{f.isScanning&&f.stop().catch(p=>console.error("Erreur lors de l'arrêt du scanner:",p))}},[]);const x=()=>{if(!s)return;A(!0);const f={fps:10,qrbox:{width:250,height:250}};s.start({facingMode:"environment"},f,p=>{e(p),g()},p=>{t&&t(p)}).catch(p=>{console.error("Erreur lors du démarrage du scanner:",p),A(!1),t&&t("Impossible d'accéder à la caméra. Vérifiez les permissions.")})},g=()=>{s&&s.isScanning&&s.stop().then(()=>{A(!1)}).catch(f=>{console.error("Erreur lors de l'arrêt du scanner:",f)})};return c.jsxs("div",{className:"qr-scanner-container",children:[c.jsx("div",{id:d,className:"qr-scanner-element",style:{width:"100%",maxWidth:"500px",margin:"0 auto"}}),c.jsx("div",{className:"mt-4 flex justify-center",children:r?c.jsx(we,{variant:"outline",size:"lg",onClick:g,icon:c.jsx(gF,{className:"h-5 w-5 mr-2"}),children:"Arrêter le scan"}):c.jsx(we,{variant:"primary",size:"lg",onClick:x,icon:c.jsx(zb,{className:"h-5 w-5 mr-2"}),children:"Scanner un QR code"})})]})},KU=()=>{const{user:e}=ir(),t=FA(),[r,A]=G.useState(""),[s,a]=G.useState(!1),[d,x]=G.useState(null),[g,f]=G.useState(null),[p,w]=G.useState("camera");if(!e||e.role!=="relayPoint")return c.jsx(MA,{children:c.jsx("div",{className:"container mx-auto py-8",children:c.jsx(ce,{children:c.jsx(ce.Content,{children:c.jsxs("div",{className:"p-4 text-center",children:[c.jsx(Ws,{className:"h-12 w-12 text-error mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Accès non autorisé"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Vous devez être connecté en tant que point relais pour accéder à cette page."}),c.jsx(we,{variant:"primary",onClick:()=>t("/login"),children:"Se connecter"})]})})})})});const y=async F=>{a(!0),x(null),f(null);try{const I=await Ga.validateQRCode(F,e.id);if(I.valid&&I.repairId){const U=JSON.parse(F),_=(U==null?void 0:U.code)||"";await Ga.markCodeAsUsed(I.repairId,_),await Ko.updateRepairStatus(I.repairId,"received"),f({repairId:I.repairId,message:"Appareil reçu avec succès! La demande de réparation a été mise à jour."})}else x(I.message||"QR code invalide")}catch(I){console.error("Erreur lors de la validation du QR code:",I),x("Une erreur est survenue lors de la validation du QR code")}finally{a(!1)}},E=async F=>{if(F.preventDefault(),!!r.trim()){a(!0),x(null),f(null);try{const I=await Ga.validateRepairCode(r.trim(),e.id);I.valid&&I.repairId?(await Ga.markCodeAsUsed(I.repairId,r.trim()),await Ko.updateRepairStatus(I.repairId,"received"),f({repairId:I.repairId,message:"Appareil reçu avec succès! La demande de réparation a été mise à jour."})):x(I.message||"Code invalide")}catch(I){console.error("Erreur lors de la validation du code:",I),x("Une erreur est survenue lors de la validation du code")}finally{a(!1)}}};return c.jsx(MA,{children:c.jsx("div",{className:"container mx-auto py-8",children:c.jsxs(ce,{children:[c.jsxs(ce.Header,{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scanner un QR code"}),c.jsx("p",{className:"text-gray-600",children:"Scannez le QR code du client ou saisissez le code manuellement pour enregistrer le dépôt d'un appareil."})]}),c.jsxs(ce.Content,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[c.jsx(we,{variant:p==="camera"?"primary":"outline",onClick:()=>w("camera"),icon:c.jsx(of,{className:"h-5 w-5 mr-2"}),children:"Scanner"}),c.jsx(we,{variant:p==="manual"?"primary":"outline",onClick:()=>w("manual"),icon:c.jsx(of,{className:"h-5 w-5 mr-2"}),children:"Code manuel"})]}),p==="camera"?c.jsx(PU,{onScanSuccess:y,onScanError:F=>x(F)}):c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsx(nr,{label:"Code de réparation",type:"text",value:r,onChange:F=>A(F.target.value),placeholder:"Saisissez le code à 6 caractères",required:!0,fullWidth:!0}),c.jsx("div",{className:"flex justify-center",children:c.jsx(we,{type:"submit",variant:"primary",size:"lg",disabled:s||!r.trim(),children:s?"Vérification...":"Valider le code"})})]})]}),d&&c.jsxs("div",{className:"p-4 mb-4 bg-error/10 border border-error/20 rounded-lg flex items-start",children:[c.jsx(Ws,{className:"h-5 w-5 text-error mr-2 mt-0.5"}),c.jsx("div",{className:"text-error",children:d})]}),g&&c.jsxs("div",{className:"p-4 mb-4 bg-success/10 border border-success/20 rounded-lg flex items-start",children:[c.jsx(nA,{className:"h-5 w-5 text-success mr-2 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-success font-medium",children:g.message}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["ID de réparation: ",g.repairId]}),c.jsx("div",{className:"mt-3",children:c.jsx(we,{variant:"outline",size:"sm",onClick:()=>t(`/relay/repairs/${g.repairId}`),children:"Voir les détails"})})]})]})]})]})})})},ZA=({children:e})=>{const{isAuthenticated:t,loading:r}=ir();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Chargement..."}):t?c.jsx(c.Fragment,{children:e}):c.jsx(vB,{to:"/login"})};function VU(){return c.jsx(Hb,{children:c.jsx(B3,{children:c.jsxs(h3,{children:[c.jsx(vr,{path:"/",element:c.jsx(_F,{})}),c.jsx(vr,{path:"/login",element:c.jsx(NF,{})}),c.jsx(vr,{path:"/register",element:c.jsx(SF,{})}),c.jsx(vr,{path:"/request-repair",element:c.jsx(nU,{})}),c.jsx(vr,{path:"/dashboard",element:c.jsx(ZA,{children:c.jsx(PF,{})})}),c.jsx(vr,{path:"/repair/:id",element:c.jsx(ZA,{children:c.jsx(jm,{})})}),c.jsx(vr,{path:"/tech/repair/:id",element:c.jsx(ZA,{children:c.jsx(jm,{})})}),c.jsx(vr,{path:"/chat/:id",element:c.jsx(ZA,{children:c.jsx(dU,{})})}),c.jsx(vr,{path:"/notifications",element:c.jsx(ZA,{children:c.jsx(hU,{})})}),c.jsx(vr,{path:"/profile",element:c.jsx(ZA,{children:c.jsx(fU,{})})}),c.jsx(vr,{path:"/relay/scan",element:c.jsx(ZA,{children:c.jsx(KU,{})})}),c.jsx(vr,{path:"/admin/relay-points",element:c.jsx(ZA,{children:c.jsx(gU,{})})}),c.jsx(vr,{path:"/admin/relay-points/new",element:c.jsx(ZA,{children:c.jsx(Mm,{})})}),c.jsx(vr,{path:"/admin/relay-points/edit/:id",element:c.jsx(ZA,{children:c.jsx(Mm,{})})}),c.jsx(vr,{path:"*",element:c.jsx(vB,{to:"/"})})]})})})}dB(document.getElementById("root")).render(c.jsx(G.StrictMode,{children:c.jsx(VU,{})}));export{Zm as g};
